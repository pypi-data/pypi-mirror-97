(function(e){function t(t){for(var a,r,i=t[0],s=t[1],u=t[2],d=0,f=[];d<i.length;d++)r=i[d],Object.prototype.hasOwnProperty.call(c,r)&&c[r]&&f.push(c[r][0]),c[r]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);p&&p(t);while(f.length)f.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,r=1;r<n.length;r++){var i=n[r];0!==c[i]&&(a=!1)}a&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},r={app:0},c={app:0},o=[];function i(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-17e42b0c":"96f1e1a7","chunk-2f210fe1":"7c5b032b","chunk-357bd036":"947e5ba8","chunk-2d208356":"16c2b6fb","chunk-eabdd7b8":"c4d9ba30","chunk-3bc313e3":"cd08dd2b","chunk-5235469a":"b8d6e1f8","chunk-5832a076":"b7c94aac","chunk-3fc8deba":"30416ef4","chunk-cec67b8e":"a8aac66f","chunk-38ccf0e4":"5478ddad","chunk-ba64f62c":"a2215169","chunk-7a172574":"2132cc04"}[e]+".js"}function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={"chunk-17e42b0c":1,"chunk-2f210fe1":1,"chunk-357bd036":1,"chunk-eabdd7b8":1,"chunk-3bc313e3":1,"chunk-5235469a":1,"chunk-5832a076":1,"chunk-3fc8deba":1,"chunk-cec67b8e":1,"chunk-38ccf0e4":1,"chunk-ba64f62c":1,"chunk-7a172574":1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise((function(t,n){for(var a="css/"+({}[e]||e)+"."+{"chunk-17e42b0c":"66c18cd9","chunk-2f210fe1":"1a5b56c8","chunk-357bd036":"c5da7388","chunk-2d208356":"31d6cfe0","chunk-eabdd7b8":"158cdc33","chunk-3bc313e3":"1a5b56c8","chunk-5235469a":"0d4b3a49","chunk-5832a076":"97282608","chunk-3fc8deba":"14a7ef2c","chunk-cec67b8e":"14a7ef2c","chunk-38ccf0e4":"14a7ef2c","chunk-ba64f62c":"14a7ef2c","chunk-7a172574":"0e433876"}[e]+".css",c=s.p+a,o=document.getElementsByTagName("link"),i=0;i<o.length;i++){var u=o[i],d=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(d===a||d===c))return t()}var f=document.getElementsByTagName("style");for(i=0;i<f.length;i++){u=f[i],d=u.getAttribute("data-href");if(d===a||d===c)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var a=t&&t.target&&t.target.src||c,o=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=a,delete r[e],p.parentNode.removeChild(p),n(o)},p.href=c;var l=document.getElementsByTagName("head")[0];l.appendChild(p)})).then((function(){r[e]=0})));var a=c[e];if(0!==a)if(a)t.push(a[2]);else{var o=new Promise((function(t,n){a=c[e]=[t,n]}));t.push(a[2]=o);var u,d=document.createElement("script");d.charset="utf-8",d.timeout=120,s.nc&&d.setAttribute("nonce",s.nc),d.src=i(e);var f=new Error;u=function(t){d.onerror=d.onload=null,clearTimeout(p);var n=c[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;f.message="Loading chunk "+e+" failed.\n("+a+": "+r+")",f.name="ChunkLoadError",f.type=a,f.request=r,n[1](f)}c[e]=void 0}};var p=setTimeout((function(){u({type:"timeout",target:d})}),12e4);d.onerror=d.onload=u,document.head.appendChild(d)}return Promise.all(t)},s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/ui/AuthService/",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],d=u.push.bind(u);u.push=t,u=u.slice();for(var f=0;f<u.length;f++)t(u[f]);var p=d;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"17a6":function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i}));n("99af"),n("c975"),n("a15b"),n("fb6a"),n("ac1f"),n("1276");var a=n("2b0e"),r=n("fd8f");function c(){return a["a"].$cookies.get("session")}function o(e){var t=i();void 0===e&&(e=window.location.pathname);var n="".concat(t.base,"ui/AuthService/");n!==window.location.pathname&&Object(r["b"])(e?"".concat(n,"?redirect=").concat(e):n)}function i(){var e=window.location.pathname.split("/"),t=e.indexOf("ui");if(t<0)throw new Error("Url not bubot app");return{base:t>1?"/".concat(e.slice(0,t-1).join("/"),"/"):"/",app:"".concat(e.slice(t,t+2).join("/"),"/"),path:e.slice(t+2).join("/")}}},"50bc":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return d}));n("caad"),n("d3b7");var a=n("2b0e"),r=n("a925"),c=n("bc3a"),o=n.n(c);a["a"].use(r["a"]);var i=new r["a"]({locale:navigator.language.substr(0,2).toLowerCase(),fallbackLocale:"en",silentTranslationWarn:!0,messages:void 0}),s=[];function u(e){return i.locale=e,o.a.defaults.headers.common["Accept-Language"]=e,document.querySelector("html").setAttribute("lang",e),e}function d(e){return e||(e=navigator.language.substr(0,2).toLowerCase()),i.locale===e&&s.includes(e)?Promise.resolve(u(e)):o.a.get("/i18n/".concat(e,".json")).then((function(t){return i.setLocaleMessage(e,t.data),s.push(e),u(e)}))}},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("router-view")],1)},c=[],o=n("2877"),i=n("6544"),s=n.n(i),u=n("7496"),d={},f=Object(o["a"])(d,r,c,!1,null,null,null),p=f.exports;s()(f,{VApp:u["a"]});var l=n("f309"),h=n("50bc");n("5363");a["a"].use(l["a"]);var b=new l["a"]({lang:{t:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return h["a"].t(e,n)}},icons:{iconfont:"mdi"}}),m=n("2b27"),v=n.n(m);a["a"].use(v.a);var g=n("2f62"),w=(n("4160"),n("159b"),n("96cf"),n("1da1")),k=n("8e70"),O={state:{items:[],index:{},visible:!0,default:null},mutations:{NavDrawerVisible:function(e,t){e.visible=t},NavDrawerItems:function(e,t){e.items=t.items,e.index=t.index,e["default"]=t["default"]}},actions:{Load:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(t,n){var a,r,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,k["a"].get("/api/".concat(t.rootState.app,"/read_navigation"),{headers:{"Accept-Language":n.locale}});case 2:a=e.sent,r=a.data.items,c={items:r,index:{},default:a.data["default"]},r.forEach((function(e,t){e.path&&(c.index[e.path]=t),e.child&&e.child.length&&e.child.forEach((function(e){e.path&&(c.index[e.path]=t)}))})),t.commit("NavDrawerItems",c);case 7:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}},j=(n("99af"),n("bc3a")),y=n.n(j);n("a434"),n("ac1f"),n("1276");function x(e,t){var n=t.uid,r=t.data;a["a"].set(e,n,r)}var _={namespaced:!0,state:{namespace:"form"},mutations:{initStoreKey:x,NavDrawerItems:function(e,t){e.items=t.items,e.index=t.index}},actions:{load:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(t,n){var a,r,c,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a=n.uid,e.next=4,y.a.get("/form/".concat(t.rootState.app,"/").concat(a));case 4:return r=e.sent,c=r.data,t.commit("initStoreKey",{uid:a,data:c}),e.abrupt("return",c);case 10:if(e.prev=10,e.t0=e["catch"](0),console.error(e.t0),!e.t0.response||!e.t0.response.status){e.next=20;break}e.t1=e.t0.response.status,e.next=400===e.t1||500===e.t1?17:19;break;case 17:return o=e.t0.response.data,e.abrupt("break",20);case 19:o="".concat(e.t0.response.status,": ").concat(e.t0.response.statusText);case 20:if(!o){e.next=22;break}throw o;case 22:throw e.t0;case 23:case"end":return e.stop()}}),e,null,[[0,10]])})));function t(t,n){return e.apply(this,arguments)}return t}()}},E=(n("841c"),n("17a6")),S={namespaced:!0,state:{_id:null,user:{},account:{},accounts:[]},getters:{},mutations:{set:function(e,t){e._id=t._id,e.user=t.user},clear:function(e){e._id=null,e.user=null,e.account=null,e.accounts=[]}},actions:{signIn:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,n=Object(E["b"])(),e.next=4,k["a"].get("/api/AuthService/User/read_session_info");case 4:return a=e.sent,n!==a.data.session&&console.error("cookie != session_info"),t.commit("set",{_id:a.data.session,user:a.data.user,account:a.data.account,accounts:a.data.accounts}),e.abrupt("return",!!a.data.user);case 10:return e.prev=10,e.t0=e["catch"](0),console.error(e.t0),t.commit("clear"),e.abrupt("return",!1);case 15:return e.prev=15,e.finish(15);case 17:case"end":return e.stop()}}),e,null,[[0,10,15,17]])})));function t(t){return e.apply(this,arguments)}return t}(),signOut:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,k["a"].post("/api/AuthService/User/sign_out");case 2:t.commit("clear"),Object(E["c"])(window.location.pathname+window.location.search);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}},A={Form:_,NavDrawer:O,Session:S},P={storeData:function(e){return function(t,n,a){if(void 0===e[t])throw new Error('namespace "'.concat(t,'" not declared'));return Object.prototype.hasOwnProperty.call(e[t],n)?e[t][n]:a}}};a["a"].use(g["a"]);var L=new g["a"].Store({getters:Object.assign({},P),modules:Object.assign({},A)}),R=(n("d3b7"),n("8c4f"));a["a"].use(R["a"]);var T=[{path:"/",component:function(){return n.e("chunk-17e42b0c").then(n.bind(null,"2fef"))}}],C=new R["a"]({mode:"history",base:"/ui/AuthService/",routes:T}),D=C;n("9240");a["a"].config.productionTip=!1,Object(h["b"])(),new a["a"]({vuetify:b,store:L,router:D,i18n:h["a"],render:function(e){return e(p)}}).$mount("#app")},"8e70":function(e,t,n){"use strict";n("99af"),n("c975"),n("ac1f"),n("841c"),n("96cf");var a=n("1da1"),r=n("bc3a"),c=n.n(r),o=n("17a6"),i=n("fd8f"),s=(n("1276"),n("d4ec")),u=n("bee2"),d=n("257e"),f=n("262e"),p=n("2caf"),l=n("9072"),h=n("ade3");n("53ca");function b(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var m={},v=function(e){Object(f["a"])(n,e);var t=Object(p["a"])(n);function n(e){var a;Object(s["a"])(this,n),a=t.call(this),Object(h["a"])(Object(d["a"])(a),"name","ExtException"),Object(h["a"])(Object(d["a"])(a),"code",void 0),Object(h["a"])(Object(d["a"])(a),"message",void 0),Object(h["a"])(Object(d["a"])(a),"detail",void 0),Object(h["a"])(Object(d["a"])(a),"action",void 0),Object(h["a"])(Object(d["a"])(a),"dump",void 0),Object(h["a"])(Object(d["a"])(a),"new_msg",void 0),Object(h["a"])(Object(d["a"])(a),"stack2",void 0),a.code=100,a.message="",a.detail="",a.action="",a.dump={},a.stack2=[],a.new_msg=!1;var r=e.parent;return r&&(r instanceof Error&&!(r instanceof n)&&(r.message&&"{"===r.message[0]?a.initFromExtException(JSON.parse(r.message),e):(a.code=3e3,a.message=r.message||String(r),Object.prototype.hasOwnProperty.call(e,"dump")||(e["dump"]={}),e["dump"]["trace"]=String(r.stack).split("\n")[1])),r instanceof n&&a.initFromExtException(r,e),a.new_msg=Object.prototype.hasOwnProperty.call(e,"message")),a._initFromDict(e),e.code&&(a.code=e.code,a.message=e.message?e.message:m[e.code]||"Неизвестная ошибка"),a}return Object(u["a"])(n,[{key:"_initFromDict",value:function(e){var t,n=["code","message","detail","action","dump","stack"];for(t=0;t<6;t++)Object.prototype.hasOwnProperty.call(e,n[t])&&(this[n[t]]=e[n[t]])}},{key:"initFromExtException",value:function(e,t){this.add_parent_to_stack(e,t),this.message=e.message,this.code=e.code,this.detail=e.detail}},{key:"add_parent_to_stack",value:function(e,t){if(e instanceof n&&(this.stack2=this.stack2.concat(e.stack2),e.action)){var a={action:e.action};this.new_msg&&(a["messsge"]=e.message),e.detail&&t.detail&&(a["detail"]=e.detail),b(e.dump)||(a["dump"]=e.dump),this.stack2.push(a)}}},{key:"addToStack",value:function(e,t){if(e){var n={action:e};b(t)||(n["dump"]=t),this.stack2.push(n)}}},{key:"toDict",value:function(){return{message:this.message,detail:this.detail,action:this.action,dump:this.dump,code:this.code,stack:this.stack2}}}]),n}(Object(l["a"])(Error));t["a"]={post:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.a.post(t,n,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e["catch"](0),g(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));function t(t,n,a){return e.apply(this,arguments)}return t}(),get:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.a.get(t,n,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e["catch"](0),g(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));function t(t,n,a){return e.apply(this,arguments)}return t}()};function g(e){var t,n=e.response.headers["content-type"],a=Object(o["a"])();switch(e.response.status){case 401:Object(o["c"])(window.location.pathname+window.location.search);break;case 409:t="".concat(a.base).concat(a.app,"Account/select"),t!==window.location.pathname&&Object(i["b"])("".concat(t,"?redirect=").concat(a.base).concat(a.app).concat(a.path).concat(window.location.search));break}throw n&&n.toLowerCase().indexOf("application/json")>=0?new v(e.response.data):new v({message:"".concat(e.response.status," ").concat(e.response.statusText),detail:e.response.data})}},9240:function(e,t){},fd8f:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c}));n("4160"),n("c975"),n("ac1f"),n("1276"),n("159b");function a(){var e={},t=location.href.indexOf("?");if(-1!==t){var n=location.href.substr(t+1);n.split("&").forEach((function(t){if(t){var n=t.split("=");n&&(e[n[0]]=n[1])}}))}return e}function r(e,t){var n=a();return Object.prototype.hasOwnProperty.call(n,e)?n[e]:t}function c(e){e=decodeURIComponent(e);var t=window.location.origin+e;if(-1==="/?#".indexOf(e[0]))throw new Error("Bad url for redirect: ".concat(t));window.location.href=t}}});
//# sourceMappingURL=app.59cb19be.js.map