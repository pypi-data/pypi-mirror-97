

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Introduction and Installation &mdash; astLib  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="https://assets.readthedocs.org/static/css/badge_only.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script async="async" src="https://assets.readthedocs.org/static/javascript/readthedocs-doc-embed.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="API Reference" href="reference.html" />
    <link rel="prev" title="astLib - Python astronomy modules" href="index.html" /> 

<!-- RTD Extra Head -->

<link rel="stylesheet" href="https://assets.readthedocs.org/static/css/readthedocs-doc-embed.css" type="text/css" />

<script type="application/json" id="READTHEDOCS_DATA">{"ad_free": "", "api_host": "", "build_date": "2021-02-03T11:39:08Z", "builder": "sphinx", "canonical_url": "", "commit": "", "docroot": "", "features": {"docsearch_disabled": false}, "global_analytics_code": null, "language": "", "page": "usage", "programming_language": "", "project": "", "source_suffix": ".rst", "subprojects": {}, "theme": "", "user_analytics_code": null, "version": ""}</script>

<!--
Using this variable directly instead of using `JSON.parse` is deprecated.
The READTHEDOCS_DATA global variable will be removed in the future.
-->
<script type="text/javascript">
READTHEDOCS_DATA = JSON.parse(document.getElementById('READTHEDOCS_DATA').innerHTML);
</script>

<script type="text/javascript" src="https://assets.readthedocs.org/static/javascript/readthedocs-analytics.js" async="async"></script>

<!-- end RTD <extrahead> -->
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> astLib
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Introduction and Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#software-needed">Software needed</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installation-on-recent-versions-of-macos">Installation on recent versions of macOS</a></li>
<li class="toctree-l2"><a class="reference internal" href="#usage">Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="#known-issues">Known issues</a></li>
<li class="toctree-l2"><a class="reference internal" href="#documentation">Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#bugs">Bugs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="reference.html">API Reference</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">astLib</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Introduction and Installation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/usage.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="introduction-and-installation">
<span id="usagepage"></span><h1>Introduction and Installation<a class="headerlink" href="#introduction-and-installation" title="Permalink to this headline">¶</a></h1>
<img alt="https://readthedocs.org/projects/astlib/badge/?version=latest" src="https://readthedocs.org/projects/astlib/badge/?version=latest" />
<p>astLib provides some tools for research astronomers who use Python. It is divided into several modules:</p>
<ul class="simple">
<li><p>astCalc   (general calculations, e.g. luminosity distance etc.)</p></li>
<li><p>astCoords (coordinate conversions etc.)</p></li>
<li><p>astImages (clip sections from .fits etc.)</p></li>
<li><p>astPlots  (provides a flexible image plot class, e.g. plot image with catalogue objects overlaid)</p></li>
<li><p>astSED    (calculate colours, magnitudes from stellar population models or spectral templates, fit photometric observations using stellar population models etc.)</p></li>
<li><p>astStats  (statistics, e.g. biweight location/scale estimators etc.)</p></li>
<li><p>astWCS    (routines for using FITS World Coordinate System information)</p></li>
</ul>
<p>The astWCS module is a higher level interface to PyWCSTools, a simple SWIG (<a class="reference external" href="http://www.swig.org">http://www.swig.org</a>) wrapping
of some of the routines from WCSTools by Jessica Mink (<a class="reference external" href="http://tdc-www.harvard.edu/software/wcstools/">http://tdc-www.harvard.edu/software/wcstools/</a>). It is
used by some routines in astCoords, astImages and astPlots.</p>
<p>The goal of astLib was to provide features useful to astronomers that are not included in the scipy
(<a class="reference external" href="http://scipy.org">http://scipy.org</a>), numpy (<a class="reference external" href="http://numpy.scipy.org">http://numpy.scipy.org</a>) or matplotlib (<a class="reference external" href="http://matplotlib.sourceforge.net">http://matplotlib.sourceforge.net</a>) modules
on which astLib depends. For a far more extensive set of Python astronomy modules, see astropy
(<a class="reference external" href="http://www.astropy.org/">http://www.astropy.org/</a>).</p>
<p>Some scripts using astLib can be found in the examples/ folder provided with the source code distribution.</p>
<div class="section" id="software-needed">
<h2>Software needed<a class="headerlink" href="#software-needed" title="Permalink to this headline">¶</a></h2>
<p>astLib requires:</p>
<ul class="simple">
<li><p>Python (tested on versions 3.6+)</p></li>
<li><p>Astropy - <a class="reference external" href="http://www.astropy.org">http://www.astropy.org</a> (tested on version 3.2.1)</p></li>
<li><p>Numpy - <a class="reference external" href="http://numpy.scipy.org">http://numpy.scipy.org</a> (tested on version 1.18.1)</p></li>
<li><p>SciPy - <a class="reference external" href="http://scipy.org">http://scipy.org</a> (tested on version 1.3.1)</p></li>
<li><p>Matplotlib - <a class="reference external" href="http://matplotlib.sourceforge.net">http://matplotlib.sourceforge.net</a> (tested on version 3.1.1)</p></li>
</ul>
<p>From astLib 0.10.0, pyfits is no longer supported, as STScI have depreciated it. If you still require pyfits
instead of Astropy, please continue to use astLib 0.9.3.</p>
<p>Optional:</p>
<ul class="simple">
<li><p>Python Imaging Library - <a class="reference external" href="http://www.pythonware.com/products/pil">http://www.pythonware.com/products/pil</a> (tested on version 1.1.7)</p></li>
</ul>
<p>Other versions of the software listed above are likely to work.</p>
</div>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>You can install astLib via pip:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">pip</span>
</pre></div>
</div>
<p>You may also install using the standard <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> script, e.g., as root:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">install</span>
</pre></div>
</div>
<p>Alternatively,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">install</span> <span class="o">--</span><span class="n">user</span>
</pre></div>
</div>
<p>will install <code class="docutils literal notranslate"><span class="pre">astLib</span></code> under <code class="docutils literal notranslate"><span class="pre">$HOME/.local</span></code> (on Ubuntu), and in some other default location on Mac.</p>
<p>You can also use the <code class="docutils literal notranslate"><span class="pre">--prefix</span></code> option, e.g.,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>python setup.py install --prefix=$HOME/local
</pre></div>
</div>
<p>and then add, e.g., <code class="docutils literal notranslate"><span class="pre">$HOME/local/lib/python3.6/site-packages</span></code> to
$PYTHONPATH (adjust the path according to your Python version number).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>export PYTHONPATH=$HOME/local/lib/python3.6/site-packages:$PYTHONPATH
</pre></div>
</div>
</div>
<div class="section" id="installation-on-recent-versions-of-macos">
<h2>Installation on recent versions of macOS<a class="headerlink" href="#installation-on-recent-versions-of-macos" title="Permalink to this headline">¶</a></h2>
<p>Some users have reported that the standard method for installing <code class="docutils literal notranslate"><span class="pre">astLib</span></code> does not work on recent versions
of macOS (e.g., Big Sur), due to the default compiler flags. The current workaround for this is to install
using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CFLAGS</span><span class="o">=</span><span class="s2">&quot;-Wno-error=implicit-function-declaration&quot;</span> <span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">install</span>
</pre></div>
</div>
<p>Thanks to Michael Cowley and Stefano Covino for helping to resolve this issue.</p>
</div>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>To access the routines in the astLib modules, simply:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">astLib</span> <span class="kn">import</span> <span class="n">astCalc</span>
<span class="kn">from</span> <span class="nn">astLib</span> <span class="kn">import</span> <span class="n">astCoords</span>
<span class="kn">from</span> <span class="nn">astLib</span> <span class="kn">import</span> <span class="n">astWCS</span>
</pre></div>
</div>
<p>etc.</p>
<p>The astWCS module currently provides access to what are (I think) the most commonly needed WCS information
and functions (such as converting between pixel and WCS coordinates etc.). However, should you wish to
access the wrapped WCSTools routines themselves directly:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PyWCSTools</span> <span class="kn">import</span> <span class="n">wcs</span>
<span class="kn">from</span> <span class="nn">PyWCSTools</span> <span class="kn">import</span> <span class="n">wcscon</span>
</pre></div>
</div>
<p>etc.</p>
<p>Note that PyWCSTools only includes some functions from wcs.c and wcscon.c at present. For examples of usage,
look at the Python code for the astLib.astWCS module. Documentation for the WCSTools routines can be found
here: <a class="reference external" href="http://tdc-www.harvard.edu/software/wcstools/subroutines/libwcs.wcs.html">http://tdc-www.harvard.edu/software/wcstools/subroutines/libwcs.wcs.html</a>.</p>
<p>As of version 0.11.x+, by default the <code class="docutils literal notranslate"><span class="pre">astWCS.WCS</span></code> class is using the <code class="docutils literal notranslate"><span class="pre">astropy.wcs</span></code> module instead of
PyWCSTools (this allows one to benefit from some features of <code class="docutils literal notranslate"><span class="pre">astropy.wcs</span></code> without having to re-write
code based on <code class="docutils literal notranslate"><span class="pre">astWCS.WCS</span></code>). To use PyWCSTools instead, set <code class="docutils literal notranslate"><span class="pre">useAstropyWCS</span> <span class="pre">=</span> <span class="pre">False</span></code> when creating a
<code class="docutils literal notranslate"><span class="pre">WCS</span></code> object.</p>
</div>
<div class="section" id="known-issues">
<h2>Known issues<a class="headerlink" href="#known-issues" title="Permalink to this headline">¶</a></h2>
<p>This may no longer apply, but just in case…</p>
<p>Recent versions of matplotlib (on which astLib depends) now use locale information. On systems where the
decimal point separator is not ‘.’ (e.g. Germany), the astWCS coordinate conversions routines will give
strange results if this is not accounted for. As of version 0.3.0, the astWCS module will detect if this is
the case and print a warning message to the console.</p>
<p>The workaround for this issue is to add the following after importing any python modules that expicitly set
the locale (such as matplotlib):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">locale</span>
<span class="n">locale</span><span class="o">.</span><span class="n">setlocale</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">LC_NUMERIC</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">)</span><span class="s2">&quot;</span>
</pre></div>
</div>
<p>Thanks to Markus Demleitner for pointing this out.</p>
</div>
<div class="section" id="documentation">
<h2>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h2>
<p>Documentation is available on the web at <a class="reference external" href="http://astlib.readthedocs.io">http://astlib.readthedocs.io</a>.</p>
</div>
<div class="section" id="bugs">
<h2>Bugs<a class="headerlink" href="#bugs" title="Permalink to this headline">¶</a></h2>
<p>Please email bug reports to <a class="reference external" href="mailto:matt&#46;hilton&#37;&#52;&#48;mykolab&#46;com">matt<span>&#46;</span>hilton<span>&#64;</span>mykolab<span>&#46;</span>com</a>, and/or use the <a class="reference external" href="https://github.com/mattyowl/astLib/issues">GitHub issues page</a>.</p>
<p>Please include details of your operating system, python version, and versions of the python packages
required by astLib that you have installed on your machine. For any WCS-related bugs, it would be helpful
if you could also include the image header as a text file so that I can reproduce them easily.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="reference.html" class="btn btn-neutral float-right" title="API Reference" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="index.html" class="btn btn-neutral float-left" title="astLib - Python astronomy modules" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, Matt Hilton &amp; Steven Boada.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>