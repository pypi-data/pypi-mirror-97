(self.webpackChunkatoti_jupyterlab=self.webpackChunkatoti_jupyterlab||[]).push([[1745],{50332:(t,r,e)=>{"use strict";var a=e(85472),n=e(95754).isArrayOrTypedArray,o=e(68847).BADNUM,i=e(97966),s=e(39393),f=e(79820).getAxisGroup,h=e(95756);function p(t,r,e,i,p){if(i.length){var x,w,M,_;switch(function(t,r){var e,o;for(e=0;e<r.length;e++){var i,s=r[e],f=s[0].trace,h="funnel"===f.type?f._base:f.base,p="h"===f.orientation?f.xcalendar:f.ycalendar,l="category"===t.type||"multicategory"===t.type?function(){return null}:t.d2c;if(n(h)){for(o=0;o<Math.min(h.length,s.length);o++)i=l(h[o],0,p),a(i)?(s[o].b=+i,s[o].hasB=1):s[o].b=0;for(;o<s.length;o++)s[o].b=0}else{i=l(h,0,p);var c=a(i);for(i=c?i:0,o=0;o<s.length;o++)s[o].b=i,c&&(s[o].hasB=1)}}}(e,i),p.mode){case"overlay":l(r,e,i,p);break;case"group":for(x=[],w=[],M=0;M<i.length;M++)void 0===(_=i[M])[0].trace.offset?w.push(_):x.push(_);w.length&&function(t,r,e,a,n){var i=new h(a,{sepNegVal:!1,overlapNoMerge:!n.norm});(function(t,r,e,a){for(var n=t._fullLayout,o=e.positions,i=e.distinctPositions,s=e.minDiff,h=e.traces,p=h.length,l=o.length!==i.length,c=s*(1-a.gap),d=f(n,r._id)+h[0][0].trace.orientation,b=n._alignmentOpts[d]||{},m=0;m<p;m++){var y,x,w=h[m],M=w[0].trace,_=b[M.alignmentgroup]||{},A=Object.keys(_.offsetGroups||{}).length,D=(y=A?c/A:l?c/p:c)*(1-(a.groupgap||0));x=A?((2*M._offsetIndex+1-A)*y-D)/2:l?((2*m+1-p)*y-D)/2:-D/2;var N=w[0].t;N.barwidth=D,N.poffset=x,N.bargroupwidth=c,N.bardelta=s}e.binWidth=h[0][0].t.barwidth/100,u(e),g(r,e),v(r,e,l)})(t,r,i,n),function(t){for(var r=t.traces,e=0;e<r.length;e++){var a=r[e];if(void 0===a[0].trace.base)for(var n=new h([a],{sepNegVal:!0,overlapNoMerge:!0}),i=0;i<a.length;i++){var s=a[i];if(s.p!==o){var f=n.put(s.p,s.b+s.s);f&&(s.b=f)}}}}(i),n.norm?(b(i),m(e,i,n)):d(e,i)}(t,r,e,w,p),x.length&&l(r,e,x,p);break;case"stack":case"relative":for(x=[],w=[],M=0;M<i.length;M++)void 0===(_=i[M])[0].trace.base?w.push(_):x.push(_);w.length&&function(t,r,e,a,n){var i=new h(a,{sepNegVal:"relative"===n.mode,overlapNoMerge:!(n.norm||"stack"===n.mode||"relative"===n.mode)});c(r,i,n),function(t,r,e){var a,n,i,f,h,p,l=y(t),c=r.traces;for(f=0;f<c.length;f++)if("funnel"===(n=(a=c[f])[0].trace).type)for(h=0;h<a.length;h++)(p=a[h]).s!==o&&r.put(p.p,-.5*p.s);for(f=0;f<c.length;f++){i="funnel"===(n=(a=c[f])[0].trace).type;var u=[];for(h=0;h<a.length;h++)if((p=a[h]).s!==o){var g;g=i?p.s:p.s+p.b;var v=r.put(p.p,g),d=v+g;p.b=v,p[l]=d,e.norm||(u.push(d),p.hasB&&u.push(v))}e.norm||(n._extremes[t._id]=s.findExtremes(t,u,{tozero:!0,padded:!0}))}}(e,i,n);for(var f=0;f<a.length;f++)for(var p=a[f],l=0;l<p.length;l++){var u=p[l];u.s!==o&&u.b+u.s===i.get(u.p,u.s)&&(u._outmost=!0)}n.norm&&m(e,i,n)}(0,r,e,w,p),x.length&&l(r,e,x,p)}!function(t,r){var e,n,o,i=y(r),s={},f=1/0,h=-1/0;for(e=0;e<t.length;e++)for(o=t[e],n=0;n<o.length;n++){var p=o[n].p;a(p)&&(f=Math.min(f,p),h=Math.max(h,p))}var l=1e4/(h-f),c=s.round=function(t){return String(Math.round(l*(t-f)))};for(e=0;e<t.length;e++){(o=t[e])[0].t.extents=s;var u=o[0].t.poffset,g=Array.isArray(u);for(n=0;n<o.length;n++){var v=o[n],d=v[i]-v.w/2;if(a(d)){var b=v[i]+v.w/2,m=c(v.p);s[m]?s[m]=[Math.min(d,s[m][0]),Math.max(b,s[m][1])]:s[m]=[d,b]}v.p0=v.p+(g?u[n]:u),v.p1=v.p0+v.w,v.s0=v.b,v.s1=v.s0+v.s}}}(i,r)}}function l(t,r,e,a){for(var n=0;n<e.length;n++){var o=e[n],i=new h([o],{unitMinDiff:a.xCat||a.yCat,sepNegVal:!1,overlapNoMerge:!a.norm});c(t,i,a),a.norm?(b(i),m(r,i,a)):d(r,i)}}function c(t,r,e){for(var a=r.minDiff,n=r.traces,o=a*(1-e.gap),i=o*(1-(e.groupgap||0)),s=-i/2,f=0;f<n.length;f++){var h=n[f][0].t;h.barwidth=i,h.poffset=s,h.bargroupwidth=o,h.bardelta=a}r.binWidth=n[0][0].t.barwidth/100,u(r),g(t,r),v(t,r)}function u(t){var r,e,o=t.traces;for(r=0;r<o.length;r++){var i,s=o[r],f=s[0],h=f.trace,p=f.t,l=h._offset||h.offset,c=p.poffset;if(n(l)){for(i=Array.prototype.slice.call(l,0,s.length),e=0;e<i.length;e++)a(i[e])||(i[e]=c);for(e=i.length;e<s.length;e++)i.push(c);p.poffset=i}else void 0!==l&&(p.poffset=l);var u=h._width||h.width,g=p.barwidth;if(n(u)){var v=Array.prototype.slice.call(u,0,s.length);for(e=0;e<v.length;e++)a(v[e])||(v[e]=g);for(e=v.length;e<s.length;e++)v.push(g);if(p.barwidth=v,void 0===l){for(i=[],e=0;e<s.length;e++)i.push(c+(g-v[e])/2);p.poffset=i}}else void 0!==u&&(p.barwidth=u,void 0===l&&(p.poffset=c+(g-u)/2))}}function g(t,r){for(var e=r.traces,a=y(t),n=0;n<e.length;n++)for(var o=e[n],i=o[0].t,s=i.poffset,f=Array.isArray(s),h=i.barwidth,p=Array.isArray(h),l=0;l<o.length;l++){var c=o[l],u=c.w=p?h[l]:h;c[a]=c.p+(f?s[l]:s)+u/2}}function v(t,r,e){var a=r.traces,n=r.minDiff/2;s.minDtick(t,r.minDiff,r.distinctPositions[0],e);for(var o=0;o<a.length;o++){var i,f,h,p,l=a[o],c=l[0],u=c.trace,g=[];for(p=0;p<l.length;p++)f=(i=l[p]).p-n,h=i.p+n,g.push(f,h);if(u.width||u.offset){var v=c.t,d=v.poffset,b=v.barwidth,m=Array.isArray(d),y=Array.isArray(b);for(p=0;p<l.length;p++){i=l[p];var x=m?d[p]:d,w=y?b[p]:b;h=(f=i.p+x)+w,g.push(f,h)}}u._extremes[t._id]=s.findExtremes(t,g,{padded:!1})}}function d(t,r){for(var e=r.traces,a=y(t),n=0;n<e.length;n++){for(var o=e[n],i=o[0].trace,f=[],h=!1,p=0;p<o.length;p++){var l=o[p],c=l.b,u=c+l.s;l[a]=u,f.push(u),l.hasB&&f.push(c),l.hasB&&l.b||(h=!0)}i._extremes[t._id]=s.findExtremes(t,f,{tozero:h,padded:!0})}}function b(t){for(var r=t.traces,e=0;e<r.length;e++)for(var a=r[e],n=0;n<a.length;n++){var i=a[n];i.s!==o&&t.put(i.p,i.b+i.s)}}function m(t,r,e){var n=r.traces,i=y(t),f="fraction"===e.norm?1:100,h=f/1e9,p=t.l2c(t.c2l(0)),l="stack"===e.mode?f:p;function c(r){return a(t.c2l(r))&&(r<p-h||r>l+h||!a(p))}for(var u=0;u<n.length;u++){for(var g=n[u],v=g[0].trace,d=[],b=!1,m=!1,x=0;x<g.length;x++){var w=g[x];if(w.s!==o){var M=Math.abs(f/r.get(w.p,w.s));w.b*=M,w.s*=M;var _=w.b,A=_+w.s;w[i]=A,d.push(A),m=m||c(A),w.hasB&&(d.push(_),m=m||c(_)),w.hasB&&w.b||(b=!0)}}v._extremes[t._id]=s.findExtremes(t,d,{tozero:b,padded:m})}}function y(t){return t._id.charAt(0)}t.exports={crossTraceCalc:function(t,r){for(var e=r.xaxis,a=r.yaxis,n=t._fullLayout,o=t._fullData,s=t.calcdata,f=[],h=[],l=0;l<o.length;l++){var c=o[l];if(!0===c.visible&&i.traceIs(c,"bar")&&c.xaxis===e._id&&c.yaxis===a._id&&("h"===c.orientation?f.push(s[l]):h.push(s[l]),c._computePh))for(var u=t.calcdata[l],g=0;g<u.length;g++)"function"==typeof u[g].ph0&&(u[g].ph0=u[g].ph0()),"function"==typeof u[g].ph1&&(u[g].ph1=u[g].ph1())}var v={xCat:"category"===e.type||"multicategory"===e.type,yCat:"category"===a.type||"multicategory"===a.type,mode:n.barmode,norm:n.barnorm,gap:n.bargap,groupgap:n.bargroupgap};p(t,e,a,h,v),p(t,a,e,f,v)},setGroupPositions:p}},3424:(t,r,e)=>{"use strict";var a=e(58253),n=e(97966),o=e(92665),i=e(95754).fillText,s=e(44631).getLineWidth,f=e(39393).hoverLabelText,h=e(68847).BADNUM;function p(t,r,e,n){var o,s,p,l,c,u,g,v=t.cd,d=v[0].trace,b=v[0].t,m="closest"===n,y="waterfall"===d.type,x=t.maxHoverDistance;function w(t){return t[p]-t.w/2}function M(t){return t[p]+t.w/2}var _=m?w:function(t){return Math.min(w(t),t.p-b.bardelta/2)},A=m?M:function(t){return Math.max(M(t),t.p+b.bardelta/2)};function D(t,r){return a.inbox(t-o,r-o,x+Math.min(1,Math.abs(r-t)/g)-1)}function N(t){return D(_(t),A(t))}function k(t){var r=s,e=t.b,n=t[l];if(y){var o=Math.abs(t.rawS)||0;r>0?n+=o:r<0&&(n-=o)}return a.inbox(e-r,n-r,x+(n-r)/(n-e)-1)}"h"===d.orientation?(o=e,s=r,p="y",l="x",c=k,u=N):(o=r,s=e,p="x",l="y",u=k,c=N);var L=t[p+"a"],V=t[l+"a"];g=Math.abs(L.r2c(L.range[1])-L.r2c(L.range[0]));var B=a.getDistanceFunction(n,c,u,(function(t){return(c(t)+u(t))/2}));if(a.getClosest(v,B,t),!1!==t.index&&v[t.index].p!==h){m||(_=function(t){return Math.min(w(t),t.p-b.bargroupwidth/2)},A=function(t){return Math.max(M(t),t.p+b.bargroupwidth/2)});var C=v[t.index],P=d.base?C.b+C.s:C.s;t[l+"0"]=t[l+"1"]=V.c2p(C[l],!0),t[l+"LabelVal"]=P;var T=b.extents[b.extents.round(C.p)];t[p+"0"]=L.c2p(m?_(C):T[0],!0),t[p+"1"]=L.c2p(m?A(C):T[1],!0);var W=void 0!==C.orig_p;return t[p+"LabelVal"]=W?C.orig_p:C.p,t.labelLabel=f(L,t[p+"LabelVal"]),t.valueLabel=f(V,t[l+"LabelVal"]),t.baseLabel=f(V,C.b),t.spikeDistance=(k(C)+function(t){return D(w(t),M(t))}(C))/2-x,t[p+"Spike"]=L.c2p(C.p,!0),i(C,d,t),t.hovertemplate=d.hovertemplate,t}}function l(t,r){var e=r.mcc||t.marker.color,a=r.mlcc||t.marker.line.color,n=s(t,r);return o.opacity(e)?e:o.opacity(a)&&n?a:void 0}t.exports={hoverPoints:function(t,r,e,a){var o=p(t,r,e,a);if(o){var i=o.cd,s=i[0].trace,f=i[o.index];return o.color=l(s,f),n.getComponentMethod("errorbars","hoverInfo")(f,s,o),[o]}},hoverOnBars:p,getTraceColor:l}},57008:t=>{"use strict";function r(t,r,e,a,n){var o=r.c2p(a?t.s0:t.p0,!0),i=r.c2p(a?t.s1:t.p1,!0),s=e.c2p(a?t.p0:t.s0,!0),f=e.c2p(a?t.p1:t.s1,!0);return n?[(o+i)/2,(s+f)/2]:a?[i,(s+f)/2]:[(o+i)/2,f]}t.exports=function(t,e){var a,n=t.cd,o=t.xaxis,i=t.yaxis,s=n[0].trace,f="funnel"===s.type,h="h"===s.orientation,p=[];if(!1===e)for(a=0;a<n.length;a++)n[a].selected=0;else for(a=0;a<n.length;a++){var l=n[a],c="ct"in l?l.ct:r(l,o,i,h,f);e.contains(c,!1,a,t)?(p.push({pointNumber:a,x:o.c2d(l.x),y:i.c2d(l.y)}),l.selected=1):l.selected=0}return p}},95756:(t,r,e)=>{"use strict";t.exports=o;var a=e(95754).distinctVals,n=e(68847).BADNUM;function o(t,r){this.traces=t,this.sepNegVal=r.sepNegVal,this.overlapNoMerge=r.overlapNoMerge;for(var e=1/0,o=[],i=0;i<t.length;i++){for(var s=t[i],f=0;f<s.length;f++){var h=s[f];h.p!==n&&o.push(h.p)}s[0]&&s[0].width1&&(e=Math.min(s[0].width1,e))}this.positions=o;var p=a(o,{unitMinDiff:r.unitMinDiff});this.distinctPositions=p.vals,1===p.vals.length&&e!==1/0?this.minDiff=e:this.minDiff=Math.min(p.minDiff,e),this.binWidth=this.minDiff,this.bins={}}o.prototype.put=function(t,r){var e=this.getLabel(t,r),a=this.bins[e]||0;return this.bins[e]=a+r,a},o.prototype.get=function(t,r){var e=this.getLabel(t,r);return this.bins[e]||0},o.prototype.getLabel=function(t,r){return(r<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?t:Math.round(t/this.binWidth))}}}]);