(self.webpackChunkatoti_jupyterlab=self.webpackChunkatoti_jupyterlab||[]).push([[6061],{36061:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var r=a(56271),i=a.n(r),n=a(18032),o=a(25654),l=a(6335),s=a.n(l),c=a(77124),u=a.n(c),d=a(39030),p=a(32596),h=a(76156),f=a.n(h),g=a(95479),y=a(13423);const v=e=>e.map((e=>(e.r&&e.r.length>0&&e.r.push(e.r[0]),e.theta&&e.theta.length>0&&e.theta.push(e.theta[0]),e)));function x({cube:e,data:t,metaData:a,widgetState:{colors:r,isTextVisible:i,mapping:o,opacity:l=1}}){if(!e||!t||!a)return[];const s={},c=a.orderedAxis,u=o.values.length>0,d=c.captions.length>0,p={},h={mapping:{},numberOfUsedAutomaticColors:0};(0,g.IG)(t,a.hierarchyIndicesInCellSet,(({cell:e,cellIndex:t,columnIndex:g,tuple:y,rowIndex:v})=>{const x=(0,n._F)(y,a.levelIndicesPerField,o,a.attributesRedirection),m=(e=>{const t=e.splitBy,i=(0,n.Lj)([...t,...e.horizontalSubplots,...e.verticalSubplots]);if(!s[i]){const e=((e,t)=>{const i=o.values.length,s=(0,n.Ym)(t,i);return{_key:e,hoverinfo:"none",legendgroup:s,line:{color:(0,n.he)({accumulator:h,colorway:a.colorway,colors:r,traceName:s})},name:s,cellsIndices:f()(new Array(c.captions.length),null),axisIndices:f()(new Array(c.captions.length),null),type:"scatterpolar",fill:"toself",theta:d?c.captions:[""],r:d?f()(new Array(c.captions.length),null):[null],text:[],opacity:l}})(i,t);s[i]=e,p[i]=0}return s[i]})(x),b=x.axis,k=(0,n.bC)(b),w=d?c.members[k]:0;d&&(m.axisIndices[w]=p[m._key],p[m._key]++),u&&(m.r[w]=e.value),i&&(m.text[w]=e.formattedValue,m.mode="text+lines+markers",m.textposition="top center"),m.cellsIndices[w]=[{columnIndex:g,rowIndex:v,cellIndex:t}]}));const y=Object.values(s);y.forEach((e=>{var t;null===(t=e.axisIndices)||void 0===t||t.push(0)}));const x=(0,n.$)({traces:v(y),subplotsMetaData:a.subplots});return((e,t)=>{const a=t.vertical.keys.length;e.forEach((e=>{const r=t.horizontal.keys.findIndex((t=>e._key.includes(t))),i=t.vertical.keys.findIndex((t=>e._key.includes(t)))+1;let n=r+1;a>0&&(n=(r>-1?r:0)*a+i),e.subplot=`polar${n}`}))})(x,a.subplots),(0,n.Yw)(x),x}s().register(u());const m=(0,n.i)((0,n.H9)((0,r.memo)((e=>{const{cube:t,data:a,metaData:l,widgetState:s,onLoaded:c}=e,u=(0,r.useMemo)((()=>(0,d.TS)(null==s?void 0:s.mapping)),[null==s?void 0:s.mapping]);(0,n.ge)({isEmpty:u,onLoaded:c});const h=(0,r.useMemo)((()=>x({cube:t,data:a,metaData:l,widgetState:s})),[t,a,l,s]),f=(0,p.Fg)(),g=(0,r.useMemo)((()=>((e,t)=>{if(!e)return{};const a=e.subplots.horizontal.keys.length>0||e.subplots.vertical.keys.length>0;return(0,y.IM)({...a&&{grid:{ygap:.5,xgap:.5}},margin:{r:60},polar:{bgcolor:t.backgroundColor,radialaxis:{color:(0,p.Ut)(t.textColor,.25)}}},((e,t)=>{const a=e.vertical.keys.length,r=e.horizontal.keys.length,i=r>0,n=a>0,o=i&&n?r*a:r+a,l={};for(let e=1;e<=o;e++){const a=i?Math.ceil((e-r)/r):e-1,o=i?(e-1)%r:e;l[`polar${e}`]={bgcolor:t.backgroundColor,radialaxis:{color:(0,p.Ut)(t.textColor,.25)},domain:{row:n?a:0,column:i?o:0}}}return l})(e.subplots,t),(0,n.S5)(e.subplots))})(l,f)),[l,f]);return t&&a&&l&&!u?i().createElement(n.XN,(0,o.Z)({},e,{traces:h,layout:g,cube:t,data:a,metaData:l})):i().createElement(n.MQ,null)}))))},77124:(e,t,a)=>{"use strict";e.exports=a(90575)},24773:e=>{"use strict";e.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},36635:(e,t,a)=>{"use strict";var r=a(95754),i=a(88418).tester,n=r.findIndexOfMin,o=r.isAngleInsideSector,l=r.angleDelta,s=r.angleDist;function c(e,t,a,r){var i,n,o=r[0],l=r[1],s=d(Math.sin(t)-Math.sin(e)),c=d(Math.cos(t)-Math.cos(e)),u=Math.tan(a),p=d(1/u),h=s/c,f=l-h*o;return p?s&&c?n=u*(i=f/(u-h)):c?(i=l*p,n=l):(i=o,n=o*u):s&&c?(i=0,n=f):c?(i=0,n=l):i=n=NaN,[i,n]}function u(e,t,a,i){return r.isFullCircle([t,a])?function(e,t){var a,r=t.length,i=new Array(r+1);for(a=0;a<r;a++){var n=t[a];i[a]=[e*Math.cos(n),e*Math.sin(n)]}return i[a]=i[0].slice(),i}(e,i):function(e,t,a,i){var l,u,d=i.length,p=[];function h(t){return[e*Math.cos(t),e*Math.sin(t)]}function f(e,t,a){return c(e,t,a,h(e))}function g(e){return r.mod(e,d)}function y(e){return o(e,[t,a])}var v=n(i,(function(e){return y(e)?s(e,t):1/0})),x=f(i[v],i[g(v-1)],t);for(p.push(x),l=v,u=0;u<d;l++,u++){var m=i[g(l)];if(!y(m))break;p.push(h(m))}var b=n(i,(function(e){return y(e)?s(e,a):1/0})),k=f(i[b],i[g(b+1)],a);return p.push(k),p.push([0,0]),p.push(p[0].slice()),p}(e,t,a,i)}function d(e){return Math.abs(e)>1e-10?e:0}function p(e,t,a){t=t||0,a=a||0;for(var r=e.length,i=new Array(r),n=0;n<r;n++){var o=e[n];i[n]=[t+o[0],a-o[1]]}return i}e.exports={isPtInsidePolygon:function(e,t,a,r,n){if(!o(t,r))return!1;var l,s;a[0]<a[1]?(l=a[0],s=a[1]):(l=a[1],s=a[0]);var c=i(u(l,r[0],r[1],n)),d=i(u(s,r[0],r[1],n)),p=[e*Math.cos(t),e*Math.sin(t)];return d.contains(p)&&!c.contains(p)},findPolygonOffset:function(e,t,a,r){for(var i=1/0,n=1/0,o=u(e,t,a,r),l=0;l<o.length;l++){var s=o[l];i=Math.min(i,s[0]),n=Math.min(n,-s[1])}return[i,n]},findEnclosingVertexAngles:function(e,t){var a=n(t,(function(t){var a=l(t,e);return a>0?a:1/0})),i=r.mod(a+1,t.length);return[t[a],t[i]]},findIntersectionXY:c,findXYatLength:function(e,t,a,r){var i=-t*a,n=t*t+1,o=2*(t*i-a),l=i*i+a*a-e*e,s=Math.sqrt(o*o-4*n*l),c=(-o+s)/(2*n),u=(-o-s)/(2*n);return[[c,t*c+i+r],[u,t*u+i+r]]},clampTiny:d,pathPolygon:function(e,t,a,r,i,n){return"M"+p(u(e,t,a,r),i,n).join("L")},pathPolygonAnnulus:function(e,t,a,r,i,n,o){var l,s;e<t?(l=e,s=t):(l=t,s=e);var c=p(u(l,a,r,i),n,o);return"M"+p(u(s,a,r,i),n,o).reverse().join("L")+"M"+c.join("L")}}},67933:(e,t,a)=>{"use strict";var r=a(45414).AU,i=a(95754).counterRegex,n=a(50596),o=a(24773),l=o.attr,s=o.name,c=i(s),u={};u[l]={valType:"subplotid",role:"info",dflt:s,editType:"calc",description:["Sets a reference between this trace's data coordinates and","a polar subplot.","If *polar* (the default value), the data refer to `layout.polar`.","If *polar2*, the data refer to `layout.polar2`, and so on."].join(" ")},e.exports={attr:l,name:s,idRoot:s,idRegex:c,attrRegex:c,attributes:u,layoutAttributes:a(46691),supplyLayoutDefaults:a(18078),plot:function(e){for(var t=e._fullLayout,a=e.calcdata,i=t._subplots[s],o=0;o<i.length;o++){var l=i[o],c=r(a,s,l),u=t[l]._subplot;u||(u=n(e,l),t[l]._subplot=u),u.plot(c,t,e._promises)}},clean:function(e,t,a,r){for(var i=r._subplots[s]||[],n=r._has&&r._has("gl"),o=t._has&&t._has("gl"),l=n&&!o,c=0;c<i.length;c++){var u=i[c],d=r[u]._subplot;if(!t[u]&&d)for(var p in d.framework.remove(),d.layers["radial-axis-title"].remove(),d.clipPaths)d.clipPaths[p].remove();l&&d._scene&&(d._scene.destroy(),d._scene=null)}},toSVG:a(51594).toSVG}},46691:(e,t,a)=>{"use strict";var r=a(73925),i=a(3116),n=a(5227).Y,o=a(95754).extendFlat,l=a(23233).overrideAll,s=l({color:i.color,showline:o({},i.showline,{dflt:!0}),linecolor:i.linecolor,linewidth:i.linewidth,showgrid:o({},i.showgrid,{dflt:!0}),gridcolor:i.gridcolor,gridwidth:i.gridwidth},"plot","from-root"),c=l({tickmode:i.tickmode,nticks:i.nticks,tick0:i.tick0,dtick:i.dtick,tickvals:i.tickvals,ticktext:i.ticktext,ticks:i.ticks,ticklen:i.ticklen,tickwidth:i.tickwidth,tickcolor:i.tickcolor,showticklabels:i.showticklabels,showtickprefix:i.showtickprefix,tickprefix:i.tickprefix,showticksuffix:i.showticksuffix,ticksuffix:i.ticksuffix,showexponent:i.showexponent,exponentformat:i.exponentformat,minexponent:i.minexponent,separatethousands:i.separatethousands,tickfont:i.tickfont,tickangle:i.tickangle,tickformat:i.tickformat,tickformatstops:i.tickformatstops,layer:i.layer},"plot","from-root"),u={visible:o({},i.visible,{dflt:!0}),type:o({},i.type,{values:["-","linear","log","date","category"]}),autotypenumbers:i.autotypenumbers,autorange:o({},i.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",role:"style",editType:"calc",description:["If *tozero*`, the range extends to 0,","regardless of the input data","If *nonnegative*, the range is non-negative,","regardless of the input data.","If *normal*, the range is computed in relation to the extrema","of the input data (same behavior as for cartesian axes)."].join(" ")},range:o({},i.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:i.categoryorder,categoryarray:i.categoryarray,angle:{valType:"angle",editType:"plot",role:"info",description:["Sets the angle (in degrees) from which the radial axis is drawn.","Note that by default, radial axis line on the theta=0 line","corresponds to a line pointing right (like what mathematicians prefer).","Defaults to the first `polar.sector` angle."].join(" ")},side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot",role:"info",description:["Determines on which side of radial axis line","the tick and tick labels appear."].join(" ")},title:{text:o({},i.title.text,{editType:"plot",dflt:""}),font:o({},i.title.font,{editType:"plot"}),editType:"plot"},hoverformat:i.hoverformat,uirevision:{valType:"any",role:"info",editType:"none",description:["Controls persistence of user-driven changes in axis `range`,","`autorange`, `angle`, and `title` if in `editable: true` configuration.","Defaults to `polar<N>.uirevision`."].join(" ")},editType:"calc",_deprecated:{title:i._deprecated.title,titlefont:i._deprecated.titlefont}};o(u,s,c);var d={visible:o({},i.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",role:"info",editType:"calc",_noTemplating:!0,description:["Sets the angular axis type.","If *linear*, set `thetaunit` to determine the unit in which axis value are shown.","If *category, use `period` to set the number of integer coordinates around polar axis."].join(" ")},autotypenumbers:i.autotypenumbers,categoryorder:i.categoryorder,categoryarray:i.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",role:"info",editType:"calc",description:["Sets the format unit of the formatted *theta* values.","Has an effect only when `angularaxis.type` is *linear*."].join(" ")},period:{valType:"number",editType:"calc",min:0,role:"info",description:["Set the angular period.","Has an effect only when `angularaxis.type` is *category*."].join(" ")},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",role:"info",editType:"calc",description:["Sets the direction corresponding to positive angles."].join(" ")},rotation:{valType:"angle",editType:"calc",role:"info",description:["Sets that start position (in degrees) of the angular axis","By default, polar subplots with `direction` set to *counterclockwise*","get a `rotation` of *0*","which corresponds to due East (like what mathematicians prefer).","In turn, polar with `direction` set to *clockwise* get a rotation of *90*","which corresponds to due North (like on a compass),"].join(" ")},hoverformat:i.hoverformat,uirevision:{valType:"any",role:"info",editType:"none",description:["Controls persistence of user-driven changes in axis `rotation`.","Defaults to `polar<N>.uirevision`."].join(" ")},editType:"calc"};o(d,s,c),e.exports={domain:n({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],role:"info",editType:"plot",description:["Sets angular span of this polar subplot with two angles (in degrees).","Sector are assumed to be spanned in the counterclockwise direction","with *0* corresponding to rightmost limit of the polar subplot."].join(" ")},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot",role:"info",description:["Sets the fraction of the radius to cut out of the polar subplot."].join(" ")},bgcolor:{valType:"color",role:"style",editType:"plot",dflt:r.background,description:"Set the background color of the subplot"},radialaxis:u,angularaxis:d,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",role:"style",editType:"plot",description:["Determines if the radial axis grid lines and angular axis line are drawn","as *circular* sectors or as *linear* (polygon) sectors.","Has an effect only when the angular axis has `type` *category*.","Note that `radialaxis.angle` is snapped to the angle of the closest","vertex when `gridshape` is *circular*","(so that radial axis scale is the same as the data scale)."].join(" ")},uirevision:{valType:"any",role:"info",editType:"none",description:["Controls persistence of user-driven changes in axis attributes,","if not overridden in the individual axes.","Defaults to `layout.uirevision`."].join(" ")},editType:"calc"}},18078:(e,t,a)=>{"use strict";var r=a(95754),i=a(92665),n=a(61608),o=a(87320),l=a(45414).NG,s=a(43042),c=a(35117),u=a(88257),d=a(42581),p=a(70212),h=a(30980),f=a(46691),g=a(50659),y=a(24773),v=y.axisNames;function x(e,t,a,o){var h=a("bgcolor");o.bgColor=i.combine(h,o.paper_bgcolor);var x=a("sector");a("hole");var b,k=l(o.fullData,y.name,o.id),w=o.layoutOut;function T(e,t){return a(b+"."+e,t)}for(var _=0;_<v.length;_++){b=v[_],r.isPlainObject(e[b])||(e[b]={});var A=e[b],M=n.newContainer(t,b);M._id=M._name=b,M._attr=o.id+"."+b,M._traceIndices=k.map((function(e){return e._expandedIndex}));var I=y.axisName2dataArray[b],S=m(A,M,T,k,I,o);d(A,M,T,{axData:k,dataAttr:I});var L,R,D=T("visible");switch(g(M,t,w),T("uirevision",t.uirevision),D&&(R=(L=T("color"))===A.color?L:o.font.color),M._m=1,b){case"radialaxis":var F=T("autorange",!M.isValidRange(A.range));A.autorange=F,!F||"linear"!==S&&"-"!==S||T("rangemode"),"reversed"===F&&(M._m=-1),T("range"),M.cleanRange("range",{dfltRange:[0,1]}),D&&(T("side"),T("angle",x[0]),T("title.text"),r.coerceFont(T,"title.font",{family:o.font.family,size:Math.round(1.2*o.font.size),color:R}));break;case"angularaxis":if("date"===S){r.log("Polar plots do not support date angular axes yet.");for(var C=0;C<k.length;C++)k[C].visible=!1;S=A.type=M.type="linear"}T("linear"===S?"thetaunit":"period");var P=T("direction");T("rotation",{counterclockwise:0,clockwise:90}[P])}D&&(s(A,M,T,M.type),u(A,M,T,M.type,{tickSuffixDflt:"degrees"===M.thetaunit?"°":void 0}),c(A,M,T,{outerTicks:!0}),T("showticklabels")&&(r.coerceFont(T,"tickfont",{family:o.font.family,size:o.font.size,color:R}),T("tickangle"),T("tickformat")),p(A,M,T,{dfltColor:L,bgColor:o.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:f[b]}),T("layer")),"category"!==S&&T("hoverformat"),M._input=A}"category"===t.angularaxis.type&&a("gridshape")}function m(e,t,a,r,i,n){var o=a("autotypenumbers",n.autotypenumbersDflt);if("-"===a("type")){for(var l,s=0;s<r.length;s++)if(r[s].visible){l=r[s];break}l&&l[i]&&(t.type=h(l[i],"gregorian",{noMultiCategory:!0,autotypenumbers:o})),"-"===t.type?t.type="linear":e.type=t.type}return t.type}e.exports=function(e,t,a){o(e,t,a,{type:y.name,attributes:f,handleDefaults:x,font:t.font,autotypenumbersDflt:t.autotypenumbers,paper_bgcolor:t.paper_bgcolor,fullData:a,layoutOut:t})}},50596:(e,t,a)=>{"use strict";var r=a(42895),i=a(98621),n=a(97966),o=a(95754),l=o.strRotate,s=o.strTranslate,c=a(92665),u=a(14124),d=a(49701),p=a(39393),h=a(1863),f=a(50659),g=a(21399).doAutoRange,y=a(56871),v=a(49922),x=a(58253),m=a(95659),b=a(14715).prepSelect,k=a(14715).selectOnClick,w=a(14715).clearSelect,T=a(59329),_=a(70929),A=a(56139).redrawReglTraces,M=a(64440).MID_SHIFT,I=a(24773),S=a(36635),L=o._,R=o.mod,D=o.deg2rad,F=o.rad2deg;function C(e,t){this.id=t,this.gd=e,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var a=e._fullLayout,r="clip"+a._uid+t;this.clipIds.forTraces=r+"-for-traces",this.clipPaths.forTraces=a._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=a._polarlayer.append("g").attr("class",t),this.radialTickLayout=null,this.angularTickLayout=null}var P=C.prototype;function O(e){var t=e.ticks+String(e.ticklen)+String(e.showticklabels);return"side"in e&&(t+=e.side),t}function j(e,t){return t[o.findIndexOfMin(t,(function(t){return o.angleDist(e,t)}))]}function N(e,t,a){return t?(e.attr("display",null),e.attr(a)):e&&e.attr("display","none"),e}e.exports=function(e,t){return new C(e,t)},P.plot=function(e,t){var a=this,r=t[a.id];a._hasClipOnAxisFalse=!1;for(var i=0;i<e.length;i++)if(!1===e[i][0].trace.cliponaxis){a._hasClipOnAxisFalse=!0;break}a.updateLayers(t,r),a.updateLayout(t,r),d.generalUpdatePerTraceModule(a.gd,a,e,r),a.updateFx(t,r)},P.updateLayers=function(e,t){var a=this.layers,i=t.radialaxis,n=t.angularaxis,o=I.layerNames,l=o.indexOf("frontplot"),s=o.slice(0,l),c="below traces"===n.layer,u="below traces"===i.layer;c&&s.push("angular-line"),u&&s.push("radial-line"),c&&s.push("angular-axis"),u&&s.push("radial-axis"),s.push("frontplot"),c||s.push("angular-line"),u||s.push("radial-line"),c||s.push("angular-axis"),u||s.push("radial-axis");var d=this.framework.selectAll(".polarsublayer").data(s,String);d.enter().append("g").attr("class",(function(e){return"polarsublayer "+e})).each((function(e){var t=a[e]=r.select(this);switch(e){case"frontplot":t.append("g").classed("barlayer",!0),t.append("g").classed("scatterlayer",!0);break;case"backplot":t.append("g").classed("maplayer",!0);break;case"plotbg":a.bg=t.append("path");break;case"radial-grid":case"angular-grid":t.style("fill","none");break;case"radial-line":t.append("line").style("fill","none");break;case"angular-line":t.append("path").style("fill","none")}})),d.order()},P.updateLayout=function(e,t){var a=this,r=a.layers,i=e._size,n=t.radialaxis,o=t.angularaxis,l=t.domain.x,d=t.domain.y;a.xOffset=i.l+i.w*l[0],a.yOffset=i.t+i.h*(1-d[1]);var p=a.xLength=i.w*(l[1]-l[0]),h=a.yLength=i.h*(d[1]-d[0]),f=t.sector;a.sectorInRad=f.map(D);var g,y,v,x,m,b=a.sectorBBox=function(e){var t,a=e[0],r=e[1]-a,i=R(a,360),n=i+r,o=Math.cos(D(i)),l=Math.sin(D(i)),s=Math.cos(D(n)),c=Math.sin(D(n));return t=i<=90&&n>=90||i>90&&n>=450?1:l<=0&&c<=0?0:Math.max(l,c),[i<=180&&n>=180||i>180&&n>=540?-1:o>=0&&s>=0?0:Math.min(o,s),i<=270&&n>=270||i>270&&n>=630?-1:l>=0&&c>=0?0:Math.min(l,c),n>=360?1:o<=0&&s<=0?0:Math.max(o,s),t]}(f),k=b[2]-b[0],w=b[3]-b[1],T=h/p,_=Math.abs(w/k);T>_?(g=p,m=(h-(y=p*_))/i.h/2,v=[l[0],l[1]],x=[d[0]+m,d[1]-m]):(y=h,m=(p-(g=h/_))/i.w/2,v=[l[0]+m,l[1]-m],x=[d[0],d[1]]),a.xLength2=g,a.yLength2=y,a.xDomain2=v,a.yDomain2=x;var A=a.xOffset2=i.l+i.w*v[0],M=a.yOffset2=i.t+i.h*(1-x[1]),I=a.radius=g/k,S=a.innerRadius=t.hole*I,L=a.cx=A-I*b[0],F=a.cy=M+I*b[3],C=a.cxx=L-A,P=a.cyy=F-M;a.radialAxis=a.mockAxis(e,t,n,{_id:"x",side:{counterclockwise:"top",clockwise:"bottom"}[n.side],_realSide:n.side,domain:[S/i.w,I/i.w]}),a.angularAxis=a.mockAxis(e,t,o,{side:"right",domain:[0,Math.PI],autorange:!1}),a.doAutoRange(e,t),a.updateAngularAxis(e,t),a.updateRadialAxis(e,t),a.updateRadialAxisTitle(e,t),a.xaxis=a.mockCartesianAxis(e,t,{_id:"x",domain:v}),a.yaxis=a.mockCartesianAxis(e,t,{_id:"y",domain:x});var O=a.pathSubplot();a.clipPaths.forTraces.select("path").attr("d",O).attr("transform",s(C,P)),r.frontplot.attr("transform",s(A,M)).call(u.setClipUrl,a._hasClipOnAxisFalse?null:a.clipIds.forTraces,a.gd),r.bg.attr("d",O).attr("transform",s(L,F)).call(c.fill,t.bgcolor)},P.mockAxis=function(e,t,a,r){var i=o.extendFlat({},a,r);return f(i,t,e),i},P.mockCartesianAxis=function(e,t,a){var r=this,i=a._id,n=o.extendFlat({type:"linear"},a);h(n,e);var l={x:[0,2],y:[1,3]};return n.setRange=function(){var e=r.sectorBBox,a=l[i],o=r.radialAxis._rl,s=(o[1]-o[0])/(1-t.hole);n.range=[e[a[0]]*s,e[a[1]]*s]},n.isPtWithinRange="x"===i?function(e){return r.isPtInside(e)}:function(){return!0},n.setRange(),n.setScale(),n},P.doAutoRange=function(e,t){var a=this.gd,r=this.radialAxis,i=t.radialaxis;r.setScale(),g(a,r);var n=r.range;i.range=n.slice(),i._input.range=n.slice(),r._rl=[r.r2l(n[0],null,"gregorian"),r.r2l(n[1],null,"gregorian")]},P.updateRadialAxis=function(e,t){var a=this,r=a.gd,i=a.layers,n=a.radius,u=a.innerRadius,d=a.cx,h=a.cy,f=t.radialaxis,g=R(t.sector[0],360),y=a.radialAxis,v=u<n;a.fillViewInitialKey("radialaxis.angle",f.angle),a.fillViewInitialKey("radialaxis.range",y.range.slice()),y.setGeometry(),"auto"===y.tickangle&&g>90&&g<=270&&(y.tickangle=180);var x=function(e){return s(y.l2p(e.x)+u,0)},m=O(f);if(a.radialTickLayout!==m&&(i["radial-axis"].selectAll(".xtick").remove(),a.radialTickLayout=m),v){y.setScale();var b=p.calcTicks(y),k=p.clipEnds(y,b),w=p.getTickSigns(y)[2];p.drawTicks(r,y,{vals:b,layer:i["radial-axis"],path:p.makeTickPath(y,0,w),transFn:x,crisp:!1}),p.drawGrid(r,y,{vals:k,layer:i["radial-grid"],path:function(e){return a.pathArc(y.r2p(e.x)+u)},transFn:o.noop,crisp:!1}),p.drawLabels(r,y,{vals:b,layer:i["radial-axis"],transFn:x,labelFns:p.makeLabelFns(y,0)})}var T=a.radialAxisAngle=a.vangles?F(j(D(f.angle),a.vangles)):f.angle,_=s(d,h),A=_+l(-T);N(i["radial-axis"],v&&(f.showticklabels||f.ticks),{transform:A}),N(i["radial-grid"],v&&f.showgrid,{transform:_}),N(i["radial-line"].select("line"),v&&f.showline,{x1:u,y1:0,x2:n,y2:0,transform:A}).attr("stroke-width",f.linewidth).call(c.stroke,f.linecolor)},P.updateRadialAxisTitle=function(e,t,a){var r=this,i=r.gd,n=r.radius,o=r.cx,l=r.cy,s=t.radialaxis,c=r.id+"title",d=void 0!==a?a:r.radialAxisAngle,p=D(d),h=Math.cos(p),f=Math.sin(p),g=0;if(s.title){var y=u.bBox(r.layers["radial-axis"].node()).height,v=s.title.font.size;g="counterclockwise"===s.side?-y-.4*v:y+.8*v}r.layers["radial-axis-title"]=m.draw(i,c,{propContainer:s,propName:r.id+".radialaxis.title",placeholder:L(i,"Click to enter radial axis title"),attributes:{x:o+n/2*h+g*f,y:l-n/2*f+g*h,"text-anchor":"middle"},transform:{rotate:-d}})},P.updateAngularAxis=function(e,t){var a=this,r=a.gd,i=a.layers,n=a.radius,u=a.innerRadius,d=a.cx,h=a.cy,f=t.angularaxis,g=a.angularAxis;a.fillViewInitialKey("angularaxis.rotation",f.rotation),g.setGeometry(),g.setScale();var y=function(e){return g.t2g(e.x)};"linear"===g.type&&"radians"===g.thetaunit&&(g.tick0=F(g.tick0),g.dtick=F(g.dtick));var v=function(e){return s(d+n*Math.cos(e),h-n*Math.sin(e))},x=p.makeLabelFns(g,0).labelStandoff,m={xFn:function(e){var t=y(e);return Math.cos(t)*x},yFn:function(e){var t=y(e),a=Math.sin(t)>0?.2:1;return-Math.sin(t)*(x+e.fontSize*a)+Math.abs(Math.cos(t))*(e.fontSize*M)},anchorFn:function(e){var t=y(e),a=Math.cos(t);return Math.abs(a)<.1?"middle":a>0?"start":"end"},heightFn:function(e,t,a){var r=y(e);return-.5*(1+Math.sin(r))*a}},b=O(f);a.angularTickLayout!==b&&(i["angular-axis"].selectAll("."+g._id+"tick").remove(),a.angularTickLayout=b);var k,w=p.calcTicks(g);if("linear"===t.gridshape?(k=w.map(y),o.angleDelta(k[0],k[1])<0&&(k=k.slice().reverse())):k=null,a.vangles=k,"category"===g.type&&(w=w.filter((function(e){return o.isAngleInsideSector(y(e),a.sectorInRad)}))),g.visible){var T="inside"===g.ticks?-1:1,_=(g.linewidth||1)/2;p.drawTicks(r,g,{vals:w,layer:i["angular-axis"],path:"M"+T*_+",0h"+T*g.ticklen,transFn:function(e){var t=y(e);return v(t)+l(-F(t))},crisp:!1}),p.drawGrid(r,g,{vals:w,layer:i["angular-grid"],path:function(e){var t=y(e),a=Math.cos(t),r=Math.sin(t);return"M"+[d+u*a,h-u*r]+"L"+[d+n*a,h-n*r]},transFn:o.noop,crisp:!1}),p.drawLabels(r,g,{vals:w,layer:i["angular-axis"],repositionOnUpdate:!0,transFn:function(e){return v(y(e))},labelFns:m})}N(i["angular-line"].select("path"),f.showline,{d:a.pathSubplot(),transform:s(d,h)}).attr("stroke-width",f.linewidth).call(c.stroke,f.linecolor)},P.updateFx=function(e,t){this.gd._context.staticPlot||(this.updateAngularDrag(e),this.updateRadialDrag(e,t,0),this.updateRadialDrag(e,t,1),this.updateMainDrag(e))},P.updateMainDrag=function(e){var t,a,l=this,c=l.gd,u=l.layers,d=e._zoomlayer,p=I.MINZOOM,h=I.OFFEDGE,f=l.radius,g=l.innerRadius,m=l.cx,T=l.cy,_=l.cxx,A=l.cyy,M=l.sectorInRad,L=l.vangles,R=l.radialAxis,D=S.clampTiny,F=S.findXYatLength,C=S.findEnclosingVertexAngles,P=I.cornerHalfWidth,O=I.cornerLen/2,j=y.makeDragger(u,"path","maindrag","crosshair");r.select(j).attr("d",l.pathSubplot()).attr("transform",s(m,T));var N,z,B,E,G,H,V,U,Z,Y={element:j,gd:c,subplot:l.id,plotinfo:{id:l.id,xaxis:l.xaxis,yaxis:l.yaxis},xaxes:[l.xaxis],yaxes:[l.yaxis]};function X(e,t){return Math.sqrt(e*e+t*t)}function q(e,t){return X(e-_,t-A)}function K(e,t){return Math.atan2(A-t,e-_)}function $(e,t){return[e*Math.cos(t),e*Math.sin(-t)]}function W(e,t){if(0===e)return l.pathSector(2*P);var a=O/e,r=t-a,i=t+a,n=Math.max(0,Math.min(e,f)),o=n-P,s=n+P;return"M"+$(o,r)+"A"+[o,o]+" 0,0,0 "+$(o,i)+"L"+$(s,i)+"A"+[s,s]+" 0,0,1 "+$(s,r)+"Z"}function Q(e,t,a){if(0===e)return l.pathSector(2*P);var r,i,n=$(e,t),o=$(e,a),s=D((n[0]+o[0])/2),c=D((n[1]+o[1])/2);if(s&&c){var u=c/s,d=-1/u,p=F(P,u,s,c);r=F(O,d,p[0][0],p[0][1]),i=F(O,d,p[1][0],p[1][1])}else{var h,f;c?(h=O,f=P):(h=P,f=O),r=[[s-h,c-f],[s+h,c-f]],i=[[s-h,c+f],[s+h,c+f]]}return"M"+r.join("L")+"L"+i.reverse().join("L")+"Z"}function J(e,t){return t=Math.max(Math.min(t,f),g),e<h?e=0:f-e<h?e=f:t<h?t=0:f-t<h&&(t=f),Math.abs(t-e)>p?(e<t?(B=e,E=t):(B=t,E=e),!0):(B=null,E=null,!1)}function ee(e,t){e=e||G,t=t||"M0,0Z",U.attr("d",e),Z.attr("d",t),y.transitionZoombox(U,Z,H,V),H=!0;var a={};ne(a),c.emit("plotly_relayouting",a)}function te(e,r){var i,n,o=N+(e*=t),s=z+(r*=a),c=q(N,z),u=Math.min(q(o,s),f),d=K(N,z);J(c,u)&&(i=G+l.pathSector(E),B&&(i+=l.pathSector(B)),n=W(B,d)+W(E,d)),ee(i,n)}function ae(e,t,a,r){var i=S.findIntersectionXY(a,r,a,[e-_,A-t]);return X(i[0],i[1])}function re(e,t){var a,r,i=N+e,n=z+t,o=K(N,z),s=K(i,n),c=C(o,L),u=C(s,L);J(ae(N,z,c[0],c[1]),Math.min(ae(i,n,u[0],u[1]),f))&&(a=G+l.pathSector(E),B&&(a+=l.pathSector(B)),r=[Q(B,c[0],c[1]),Q(E,c[0],c[1])].join(" ")),ee(a,r)}function ie(){if(y.removeZoombox(c),null!==B&&null!==E){var e={};ne(e),y.showDoubleClickNotifier(c),n.call("_guiRelayout",c,e)}}function ne(e){var t=R._rl,a=(t[1]-t[0])/(1-g/f)/f,r=[t[0]+(B-g)*a,t[0]+(E-g)*a];e[l.id+".radialaxis.range"]=r}function oe(e,t){var a=c._fullLayout.clickmode;if(y.removeZoombox(c),2===e){var r={};for(var i in l.viewInitial)r[l.id+"."+i]=l.viewInitial[i];c.emit("plotly_doubleclick",null),n.call("_guiRelayout",c,r)}a.indexOf("select")>-1&&1===e&&k(t,c,[l.xaxis],[l.yaxis],l.id,Y),a.indexOf("event")>-1&&x.click(c,t,l.id)}Y.prepFn=function(e,r,n){var s=c._fullLayout.dragmode,u=j.getBoundingClientRect();c._fullLayout._calcInverseTransform(c);var p=c._fullLayout._invTransform;t=c._fullLayout._invScaleX,a=c._fullLayout._invScaleY;var h=o.apply3DTransform(p)(r-u.left,n-u.top);if(N=h[0],z=h[1],L){var g=S.findPolygonOffset(f,M[0],M[1],L);N+=_+g[0],z+=A+g[1]}switch(s){case"zoom":Y.moveFn=L?re:te,Y.clickFn=oe,Y.doneFn=ie,function(){B=null,E=null,G=l.pathSubplot(),H=!1;var e=c._fullLayout[l.id];V=i(e.bgcolor).getLuminance(),(U=y.makeZoombox(d,V,m,T,G)).attr("fill-rule","evenodd"),Z=y.makeCorners(d,m,T),w(c)}();break;case"select":case"lasso":b(e,r,n,Y,s)}},j.onmousemove=function(e){x.hover(c,e,l.id),c._fullLayout._lasthover=j,c._fullLayout._hoversubplot=l.id},j.onmouseout=function(e){c._dragging||v.unhover(c,e)},v.init(Y)},P.updateRadialDrag=function(e,t,a){var i=this,c=i.gd,u=i.layers,d=i.radius,p=i.innerRadius,h=i.cx,f=i.cy,g=i.radialAxis,x=I.radialDragBoxSize,m=x/2;if(g.visible){var b,k,T,M=D(i.radialAxisAngle),S=g._rl,L=S[0],R=S[1],C=S[a],P=.75*(S[1]-S[0])/(1-t.hole)/d;a?(b=h+(d+m)*Math.cos(M),k=f-(d+m)*Math.sin(M),T="radialdrag"):(b=h+(p-m)*Math.cos(M),k=f-(p-m)*Math.sin(M),T="radialdrag-inner");var O,z,B,E=y.makeRectDragger(u,T,"crosshair",-m,-m,x,x),G={element:E,gd:c};N(r.select(E),g.visible&&p<d,{transform:s(b,k)}),G.prepFn=function(){O=null,z=null,B=null,G.moveFn=H,G.doneFn=V,w(c)},G.clampFn=function(e,t){return Math.sqrt(e*e+t*t)<I.MINDRAG&&(e=0,t=0),[e,t]},v.init(G)}function H(e,t){if(O)O(e,t);else{var r=[e,-t],n=[Math.cos(M),Math.sin(M)],l=Math.abs(o.dot(r,n)/Math.sqrt(o.dot(r,r)));isNaN(l)||(O=l<.5?U:Z)}var s={};!function(e){null!==z?e[i.id+".radialaxis.angle"]=z:null!==B&&(e[i.id+".radialaxis.range["+a+"]"]=B)}(s),c.emit("plotly_relayouting",s)}function V(){null!==z?n.call("_guiRelayout",c,i.id+".radialaxis.angle",z):null!==B&&n.call("_guiRelayout",c,i.id+".radialaxis.range["+a+"]",B)}function U(e,t){if(0!==a){var r=b+e,n=k+t;z=Math.atan2(f-n,r-h),i.vangles&&(z=j(z,i.vangles)),z=F(z);var o=s(h,f)+l(-z);u["radial-axis"].attr("transform",o),u["radial-line"].select("line").attr("transform",o);var c=i.gd._fullLayout,d=c[i.id];i.updateRadialAxisTitle(c,d,z)}}function Z(e,t){var r=o.dot([e,-t],[Math.cos(M),Math.sin(M)]);if(B=C-P*r,P>0==(a?B>L:B<R)){var l=c._fullLayout,s=l[i.id];g.range[a]=B,g._rl[a]=B,i.updateRadialAxis(l,s),i.xaxis.setRange(),i.xaxis.setScale(),i.yaxis.setRange(),i.yaxis.setScale();var u=!1;for(var d in i.traceHash){var p=i.traceHash[d],h=o.filterVisible(p);p[0][0].trace._module.plot(c,i,h,s),n.traceIs(d,"gl")&&h.length&&(u=!0)}u&&(_(c),A(c))}else B=null}},P.updateAngularDrag=function(e){var t=this,a=t.gd,i=t.layers,c=t.radius,d=t.angularAxis,p=t.cx,h=t.cy,f=t.cxx,g=t.cyy,x=I.angularDragBoxSize,m=y.makeDragger(i,"path","angulardrag","move"),b={element:m,gd:a};function k(e,t){return Math.atan2(g+x-t,e-f-x)}r.select(m).attr("d",t.pathAnnulus(c,c+x)).attr("transform",s(p,h)).call(T,"move");var M,S,L,R,D,C,P=i.frontplot.select(".scatterlayer").selectAll(".trace"),O=P.selectAll(".point"),j=P.selectAll(".textpoint");function N(c,y){var v=t.gd._fullLayout,x=v[t.id],m=k(M+c*e._invScaleX,S+y*e._invScaleY),b=F(m-C);if(R=L+b,i.frontplot.attr("transform",s(t.xOffset2,t.yOffset2)+l([-b,f,g])),t.vangles){D=t.radialAxisAngle+b;var w=s(p,h)+l(-b),T=s(p,h)+l(-D);i.bg.attr("transform",w),i["radial-grid"].attr("transform",w),i["radial-axis"].attr("transform",T),i["radial-line"].select("line").attr("transform",T),t.updateRadialAxisTitle(v,x,D)}else t.clipPaths.forTraces.select("path").attr("transform",s(f,g)+l(b));O.each((function(){var e=r.select(this),t=u.getTranslate(e);e.attr("transform",s(t.x,t.y)+l([b]))})),j.each((function(){var e=r.select(this),t=e.select("text"),a=u.getTranslate(e);e.attr("transform",l([b,t.attr("x"),t.attr("y")])+s(a.x,a.y))})),d.rotation=o.modHalf(R,360),t.updateAngularAxis(v,x),t._hasClipOnAxisFalse&&!o.isFullCircle(t.sectorInRad)&&P.call(u.hideOutsideRangePoints,t);var I=!1;for(var N in t.traceHash)if(n.traceIs(N,"gl")){var B=t.traceHash[N],E=o.filterVisible(B);B[0][0].trace._module.plot(a,t,E,x),E.length&&(I=!0)}I&&(_(a),A(a));var G={};z(G),a.emit("plotly_relayouting",G)}function z(e){e[t.id+".angularaxis.rotation"]=R,t.vangles&&(e[t.id+".radialaxis.angle"]=D)}function B(){j.select("text").attr("transform",null);var e={};z(e),n.call("_guiRelayout",a,e)}b.prepFn=function(r,i,n){var l=e[t.id];L=l.angularaxis.rotation;var s=m.getBoundingClientRect();M=i-s.left,S=n-s.top,a._fullLayout._calcInverseTransform(a);var c=o.apply3DTransform(e._invTransform)(M,S);M=c[0],S=c[1],C=k(M,S),b.moveFn=N,b.doneFn=B,w(a)},t.vangles&&!o.isFullCircle(t.sectorInRad)&&(b.prepFn=o.noop,T(r.select(m),null)),v.init(b)},P.isPtInside=function(e){var t=this.sectorInRad,a=this.vangles,r=this.angularAxis.c2g(e.theta),i=this.radialAxis,n=i.c2l(e.r),l=i._rl;return(a?S.isPtInsidePolygon:o.isPtInsideSector)(n,r,l,t,a)},P.pathArc=function(e){var t=this.sectorInRad,a=this.vangles;return(a?S.pathPolygon:o.pathArc)(e,t[0],t[1],a)},P.pathSector=function(e){var t=this.sectorInRad,a=this.vangles;return(a?S.pathPolygon:o.pathSector)(e,t[0],t[1],a)},P.pathAnnulus=function(e,t){var a=this.sectorInRad,r=this.vangles;return(r?S.pathPolygonAnnulus:o.pathAnnulus)(e,t,a[0],a[1],r)},P.pathSubplot=function(){var e=this.innerRadius,t=this.radius;return e?this.pathAnnulus(e,t):this.pathSector(t)},P.fillViewInitialKey=function(e,t){e in this.viewInitial||(this.viewInitial[e]=t)}},50659:(e,t,a)=>{"use strict";var r=a(95754),i=a(1863),n=r.deg2rad,o=r.rad2deg;e.exports=function(e,t,a){switch(i(e,a),e._id){case"x":case"radialaxis":!function(e,t){var a=t._subplot;e.setGeometry=function(){var t=e._rl[0],r=e._rl[1],i=a.innerRadius,n=(a.radius-i)/(r-t),o=i/n,l=t>r?function(e){return e<=0}:function(e){return e>=0};e.c2g=function(a){var r=e.c2l(a)-t;return(l(r)?r:0)+o},e.g2c=function(a){return e.l2c(a+t-o)},e.g2p=function(e){return e*n},e.c2p=function(t){return e.g2p(e.c2g(t))}}}(e,t);break;case"angularaxis":!function(e,t){var a=e.type;if("linear"===a){var i=e.d2c,l=e.c2d;e.d2c=function(e,t){return function(e,t){return"degrees"===t?n(e):e}(i(e),t)},e.c2d=function(e,t){return l(function(e,t){return"degrees"===t?o(e):e}(e,t))}}e.makeCalcdata=function(t,i){var n,o,l=t[i],s=t._length,c=function(a){return e.d2c(a,t.thetaunit)};if(l){if(r.isTypedArray(l)&&"linear"===a){if(s===l.length)return l;if(l.subarray)return l.subarray(0,s)}for(n=new Array(s),o=0;o<s;o++)n[o]=c(l[o])}else{var u=i+"0",d="d"+i,p=u in t?c(t[u]):0,h=t[d]?c(t[d]):(e.period||2*Math.PI)/s;for(n=new Array(s),o=0;o<s;o++)n[o]=p+o*h}return n},e.setGeometry=function(){var i,l,s,c,u=t.sector,d=u.map(n),p={clockwise:-1,counterclockwise:1}[e.direction],h=n(e.rotation),f=function(e){return p*e+h},g=function(e){return(e-h)/p};switch(a){case"linear":l=i=r.identity,c=n,s=o,e.range=r.isFullCircle(d)?[u[0],u[0]+360]:d.map(g).map(o);break;case"category":var y=e._categories.length,v=e.period?Math.max(e.period,y):y;0===v&&(v=1),l=c=function(e){return 2*e*Math.PI/v},i=s=function(e){return e*v/Math.PI/2},e.range=[0,v]}e.c2g=function(e){return f(l(e))},e.g2c=function(e){return i(g(e))},e.t2g=function(e){return f(c(e))},e.g2t=function(e){return s(g(e))}}}(e,t)}}},87320:(e,t,a)=>{"use strict";var r=a(95754),i=a(61608),n=a(5227).c;e.exports=function(e,t,a,o){var l,s,c=o.type,u=o.attributes,d=o.handleDefaults,p=o.partition||"x",h=t._subplots[c],f=h.length,g=f&&h[0].replace(/\d+$/,"");function y(e,t){return r.coerce(l,s,u,e,t)}for(var v=0;v<f;v++){var x=h[v];l=e[x]?e[x]:e[x]={},s=i.newContainer(t,x,g),y("uirevision",t.uirevision);var m={};m[p]=[v/f,(v+1)/f],n(s,t,y,m),o.id=x,d(l,s,y,o)}}},27446:(e,t,a)=>{"use strict";var r=a(31025).f,i=a(31025).s,n=a(61782).extendFlat,o=a(83252),l=a(20992),s=o.line;e.exports={mode:o.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes",description:"Sets the radial coordinates"},theta:{valType:"data_array",editType:"calc+clearAxisTypes",description:"Sets the angular coordinates"},r0:{valType:"any",dflt:0,role:"info",editType:"calc+clearAxisTypes",description:["Alternate to `r`.","Builds a linear space of r coordinates.","Use with `dr`","where `r0` is the starting coordinate and `dr` the step."].join(" ")},dr:{valType:"number",dflt:1,role:"info",editType:"calc",description:"Sets the r coordinate step."},theta0:{valType:"any",dflt:0,role:"info",editType:"calc+clearAxisTypes",description:["Alternate to `theta`.","Builds a linear space of theta coordinates.","Use with `dtheta`","where `theta0` is the starting coordinate and `dtheta` the step."].join(" ")},dtheta:{valType:"number",role:"info",editType:"calc",description:["Sets the theta coordinate step.","By default, the `dtheta` step equals the subplot's period divided","by the length of the `r` coordinates."].join(" ")},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",role:"info",editType:"calc+clearAxisTypes",description:["Sets the unit of input *theta* values.","Has an effect only when on *linear* angular axes."].join(" ")},text:o.text,texttemplate:i({editType:"plot"},{keys:["r","theta","text"]}),hovertext:o.hovertext,line:{color:s.color,width:s.width,dash:s.dash,shape:n({},s.shape,{values:["linear","spline"]}),smoothing:s.smoothing,editType:"calc"},connectgaps:o.connectgaps,marker:o.marker,cliponaxis:n({},o.cliponaxis,{dflt:!1}),textposition:o.textposition,textfont:o.textfont,fill:n({},o.fill,{values:["none","toself","tonext"],dflt:"none",description:["Sets the area to fill with a solid color.","Use with `fillcolor` if not *none*.","scatterpolar has a subset of the options available to scatter.","*toself* connects the endpoints of the trace (or each segment","of the trace if it has gaps) into a closed shape.","*tonext* fills the space between two traces if one completely","encloses the other (eg consecutive contour lines), and behaves like","*toself* if there is no trace before it. *tonext* should not be","used if one trace does not enclose the other."].join(" ")}),fillcolor:o.fillcolor,hoverinfo:n({},l.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:o.hoveron,hovertemplate:r(),selected:o.selected,unselected:o.unselected}},96037:(e,t,a)=>{"use strict";var r=a(85472),i=a(68847).BADNUM,n=a(39393),o=a(79678),l=a(67351),s=a(8306),c=a(87783).calcMarkerSize;e.exports=function(e,t){for(var a=e._fullLayout,u=t.subplot,d=a[u].radialaxis,p=a[u].angularaxis,h=d.makeCalcdata(t,"r"),f=p.makeCalcdata(t,"theta"),g=t._length,y=new Array(g),v=0;v<g;v++){var x=h[v],m=f[v],b=y[v]={};r(x)&&r(m)?(b.r=x,b.theta=m):b.r=i}var k=c(t,g);return t._extremes.x=n.findExtremes(d,h,{ppad:k}),o(e,t),l(y,t),s(y,t),y}},65707:(e,t,a)=>{"use strict";var r=a(95754),i=a(42246),n=a(27139),o=a(84552),l=a(80148),s=a(45714),c=a(94082),u=a(32642).PTS_LINESONLY,d=a(27446);function p(e,t,a,r){var i,n=r("r"),o=r("theta");if(n)o?i=Math.min(n.length,o.length):(i=n.length,r("theta0"),r("dtheta"));else{if(!o)return 0;i=t.theta.length,r("r0"),r("dr")}return t._length=i,i}e.exports={handleRThetaDefaults:p,supplyDefaults:function(e,t,a,h){function f(a,i){return r.coerce(e,t,d,a,i)}var g=p(0,t,0,f);if(g){f("thetaunit"),f("mode",g<u?"lines+markers":"lines"),f("text"),f("hovertext"),"fills"!==t.hoveron&&f("hovertemplate"),i.hasLines(t)&&(o(e,t,a,h,f),l(e,t,f),f("connectgaps")),i.hasMarkers(t)&&n(e,t,a,h,f,{gradient:!0}),i.hasText(t)&&(f("texttemplate"),s(e,t,h,f));var y=[];(i.hasMarkers(t)||i.hasText(t))&&(f("cliponaxis"),f("marker.maxdisplayed"),y.push("points")),f("fill"),"none"!==t.fill&&(c(e,t,a,f),i.hasLines(t)||l(e,t,f)),"tonext"!==t.fill&&"toself"!==t.fill||y.push("fills"),f("hoveron",y.join("+")||"points"),r.coerceSelectionMarkerOpacity(t,f)}else t.visible=!1}}},47157:(e,t,a)=>{"use strict";var r=a(95754),i=a(39393);e.exports=function(e,t,a){var n,o,l={},s=a[t.subplot]._subplot;s?(n=s.radialAxis,o=s.angularAxis):(n=(s=a[t.subplot]).radialaxis,o=s.angularaxis);var c=n.c2l(e.r);l.rLabel=i.tickText(n,c,!0).text;var u="degrees"===o.thetaunit?r.rad2deg(e.theta):e.theta;return l.thetaLabel=i.tickText(o,u,!0).text,l}},37782:(e,t,a)=>{"use strict";var r=a(13735);function i(e,t,a,r){var i=a.radialAxis,n=a.angularAxis;i._hovertitle="r",n._hovertitle="θ";var o={};o[t.subplot]={_subplot:a};var l=t._module.formatLabels(e,t,o);r.rLabel=l.rLabel,r.thetaLabel=l.thetaLabel;var s=e.hi||t.hoverinfo,c=[];function u(e,t){c.push(e._hovertitle+": "+t)}if(!t.hovertemplate){var d=s.split("+");-1!==d.indexOf("all")&&(d=["r","theta","text"]),-1!==d.indexOf("r")&&u(i,r.rLabel),-1!==d.indexOf("theta")&&u(n,r.thetaLabel),-1!==d.indexOf("text")&&r.text&&(c.push(r.text),delete r.text),r.extraText=c.join("<br>")}}e.exports={hoverPoints:function(e,t,a,n){var o=r(e,t,a,n);if(o&&!1!==o[0].index){var l=o[0];if(void 0===l.index)return o;var s=e.subplot,c=l.cd[l.index],u=l.trace;if(s.isPtInside(c))return l.xLabelVal=void 0,l.yLabelVal=void 0,i(c,u,s,l),l.hovertemplate=u.hovertemplate,o}},makeHoverPointText:i}},90575:(e,t,a)=>{"use strict";e.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:a(67933),categories:["polar","symbols","showLegend","scatter-like"],attributes:a(27446),supplyDefaults:a(65707).supplyDefaults,colorbar:a(49463),formatLabels:a(47157),calc:a(96037),plot:a(21161),style:a(71008).style,styleOnSelect:a(71008).styleOnSelect,hoverPoints:a(37782).hoverPoints,selectPoints:a(19622),meta:{hrName:"scatter_polar",description:["The scatterpolar trace type encompasses line charts, scatter charts, text charts, and bubble charts","in polar coordinates.","The data visualized as scatter point or lines is set in","`r` (radial) and `theta` (angular) coordinates","Text (appearing either on the chart or on hover only) is via `text`.","Bubble charts are achieved by setting `marker.size` and/or `marker.color`","to numerical arrays."].join(" ")}}},21161:(e,t,a)=>{"use strict";var r=a(54815),i=a(68847).BADNUM;e.exports=function(e,t,a){for(var n=t.layers.frontplot.select("g.scatterlayer"),o={xaxis:t.xaxis,yaxis:t.yaxis,plot:t.framework,layerClipId:t._hasClipOnAxisFalse?t.clipIds.forTraces:null},l=t.radialAxis,s=t.angularAxis,c=0;c<a.length;c++)for(var u=a[c],d=0;d<u.length;d++){var p=u[d],h=p.r;if(h===i)p.x=p.y=i;else{var f=l.c2g(h),g=s.c2g(p.theta);p.x=f*Math.cos(g),p.y=f*Math.sin(g)}}r(e,o,a,n)}}}]);