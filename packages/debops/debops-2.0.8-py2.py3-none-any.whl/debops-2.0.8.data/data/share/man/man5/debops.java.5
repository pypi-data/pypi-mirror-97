.\" Man page generated from reStructuredText.
.
.TH "DEBOPS.JAVA" "5" "Mar 03, 2021" "v2.0.8" "DebOps"
.SH NAME
debops.java \- Manage Java environment using Ansible
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.sp
The \fBdebops.java\fP Ansible role installs the default Java OpenJRE headless
packages for current OS release. It can also be used to install other Java or
OpenJDK/OpenJRE versions.
.SH GETTING STARTED
.SS Support for backported Java versions
.sp
The role will install OpenJDK 8 environment on Debian Jessie by default, using
the backported packages from the \fBjessie\-backports\fP repository. Backports are
configured using debops.apt Ansible role; if the \fBdebops.java\fP does not
detect the debops.apt configuration, it will switch to the default JRE
packages available for a given release. Remember to use the provided example
playbook, which will configure APT preferences for the \fBca\-certificates\-java\fP
package.
.SS Support for Oracle Java packages
.sp
To use the non\-free Oracle Java packages, check the \fI\%JavaPackage\fP <\fBhttps://wiki.debian.org/JavaPackage\fP>
page on Debian Wiki to see how to build the proper APT packages with non\-free
Java. You will need to publish them in a local APT repository. After that, you
can change the default Java package in \fBjava__base_packages\fP list to your
preferred version.
.SS Conditional installation of Java Development Kit (JDK)
.sp
Some environments might require a full Java Development Kit to work correctly,
however by default the \fBdebops.java\fP role installs only the Java Runtime
Environment (JRE). To install the full JDK in a compatible version, you can set
the \fBjava__install_jdk\fP boolean variable to \fBTrue\fP, either via
Ansible inventory variables or via role dependent variables.
.SS Example inventory
.sp
To configure a Java environment on a specific host, it needs to be added to the
\fB[debops_service_java]\fP host group in Ansible inventory:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
[debops_service_java]
hostname
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Example playbook
.sp
If you are using this role without DebOps, here\(aqs an example Ansible playbook
that uses the \fBdebops.java\fP role:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
\-\-\-

\- name: Manage Java environment
  collections: [ \(aqdebops.debops\(aq, \(aqdebops.roles01\(aq,
                 \(aqdebops.roles02\(aq, \(aqdebops.roles03\(aq ]
  hosts: [ \(aqdebops_service_java\(aq ]
  become: True

  environment: \(aq{{ inventory__environment | d({})
                   | combine(inventory__group_environment | d({}))
                   | combine(inventory__host_environment  | d({})) }}\(aq

  roles:

    \- role: apt_preferences
      tags: [ \(aqrole::apt_preferences\(aq, \(aqskip::apt_preferences\(aq ]
      apt_preferences__dependent_list:
        \- \(aq{{ java__apt_preferences__dependent_list }}\(aq

    \- role: java
      tags: [ \(aqrole::java\(aq, \(aqskip::java\(aq ]

.ft P
.fi
.UNINDENT
.UNINDENT
.SH AUTHOR
Nick Janetakis, Maciej Delmanowski
.SH COPYRIGHT
2014-2021, Maciej Delmanowski, Nick Janetakis, Robin Schneider and others
.\" Generated by docutils manpage writer.
.
