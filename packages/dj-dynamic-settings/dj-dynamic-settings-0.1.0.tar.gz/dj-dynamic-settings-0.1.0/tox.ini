# tox (https://tox.readthedocs.io/) is a tool for running tests
# in multiple virtualenvs. This configuration file will run the
# test suite on all supported python versions. To use it, "pip install tox"
# and then run "tox" from this directory.

[tox]
isolated_build = True
skip_missing_interpreters = True
envlist = py27-{django110,django111}
          py34-{django110,django111,django20}
          py35-{django110,django111,django20,django21,django22}
          {py36,py37}-{django111,django20,django21,django22,django30}
          py38-{django22,django30}
          linting

[testenv]
deps = django110: Django>=1.10,<1.11
       django111: Django>=1.11.7,<2.0
       django20: Django>=2.0,<2.1
       django21: Django>=2.1,<2.2
       django22: Django>=2.2.8,<3.0
       django30: Django>=3.0,<3.1
       djangorestframework<3.12
       psycopg2-binary
       pytz
commands = python runtests.py

[testenv:linting]
deps = black
       isort==5.0.4
       Django>=2.2.8,<3.0
       djangorestframework<3.12
commands = black --check --quiet --exclude=migrations/ dj_dynamic_settings
           isort -c --skip=migrations dj_dynamic_settings
