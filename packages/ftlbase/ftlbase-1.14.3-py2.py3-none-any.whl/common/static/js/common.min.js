function showWorkflow(e,t,a){var o,i,n=document.getElementById("id_main-"+t);"select-one"===n.type&&(o=n.options[n.selectedIndex].value,i=n.options[n.selectedIndex].text),ftl_modal(o,"7","/common/workflow/process_graph/"+o+"/",i,a)}function ftl_modal(e,t,a,o,i){void 0===i&&(i="modal-lg"),ftl_modal_mount=riot.mount("div#ftl-modal","ftl-modal",{modal:{isvisible:!1,contextmenu:!1,cls:i},data:{pk:e,acao:t,acaoURL:a,modaltitle:o}})}function changeUF2(e,t){if(!(e.selectedIndex<0)){var a=e.options[e.selectedIndex].value,o=e.getAttribute("data-app_label"),i=e.getAttribute("data-object_name"),n="id_";e.id.lastIndexOf("-")>=0&&(n=e.id.substring(0,e.id.lastIndexOf("-")+1));var l=n+"municipio";if(""!==a){var d=e.closest("div[class^='tab-pane active']"),s=$(d).find('select[id="'+l+'"]');s.attr("disabled",!0).html('<option value="">Aguarde...</option>'),s.load("/cliente/municipio/ajax/"+a+"/"+o+"/"+i+"/",null,(function(){s[0].disabled=!1,""!==t&&$("#"+l).val(t)}))}else jQuery(l).html('<option value="">--</option>')}}function changeUF(e){changeUF2(e,"")}function changeCEP(e){var t=$(e).val().replace(/\D/g,"");if(""!==t){if(/^[0-9]{8}$/.test(t)){var a="id_";e.id.lastIndexOf("-")>=0&&(a=e.id.substring(0,e.id.lastIndexOf("-")+1));var o=e.closest("div[class^='tab-pane active']"),i=$(o),n=i.find('input[id="'+a+'endereco"]'),l=i.find('input[id="'+a+'bairro"]'),d=i.find('select[id="'+a+'estado"]'),s=i.find('select[id="'+a+'municipio"]');n.val("..."),l.val("..."),d[0].value="",s[0].value="",$.getJSON("//viacep.com.br/ws/"+t+"/json/unicode/?callback=?",(function(e){"erro"in e?(limpa_formulario_cep(),alert("CEP não encontrado.")):(n.val(e.logradouro),l.val(e.bairro),d[0].value=e.uf,changeUF2(d[0],e.ibge),s[0].value=e.ibge)}))}else limpa_formulario_cep(),alert("Formato de CEP inválido.")}else limpa_formulario_cep()}function changeContaDestino(e,t){var a="#id_"+t,o=e.options[e.selectedIndex].value;if(""!==o){var i=e.getAttribute("data-app_label"),n=e.getAttribute("data-object_name"),l="/"+i+"/ajax"+n+"Select/"+$("#planodecontas").val()+"/"+o+"/"+i+"/"+n+"/",d=jQuery(a);d.attr("disabled",!0).html('<option value="">Aguarde...</option>'),d.load(l,null,(function(){d[0].disabled=!1,$(a).prepend('<option value="" selected>---------</option>')}))}else jQuery(a).html('<option value="">--</option>')}function changeContaOrigemProvisao(e,t,a){changeContaDestino(e,t),changeContaDestino(e,a)}function limpa_formulario_cep(){$("#id_endereco").val(""),$("#id_bairro").val("")}function setHeight(e){void 0!==e&&e.each((function(e,t){t.scrollHeight!=t.style.height.match(/\d+/)[0]&&(t.style.overflow="hidden",t.style.height=`${t.scrollHeight+2}px`)}))}function getContentWidth(e){const t=getComputedStyle(e);return e.clientWidth-parseFloat(t.paddingLeft)-parseFloat(t.paddingRight)}function getContentHeight(e){const t=getComputedStyle(e);return e.clientHeight-parseFloat(t.paddingTop)-parseFloat(t.paddingBottom)}function getCookie(e){var t=null;if(document.cookie&&""!==document.cookie)for(var a=document.cookie.split(";"),o=0;o<a.length;o++){var i=jQuery.trim(a[o]);if(i.substring(0,e.length+1)===e+"="){t=decodeURIComponent(i.substring(e.length+1));break}}return t}$.ajaxSetup({beforeSend:function(e,t){this.crossDomain||(csrftoken=getCookie("csrftoken"),e.setRequestHeader("HTTP_X_CSRFTOKEN",csrftoken),e.setRequestHeader("X-CSRFToken",csrftoken))}}),function(e,t,a){"use strict";var o,i;e.fn.cleave=function(t){var a=e.extend({autoUnmask:!1},t||{});return this.each((function(){var t=new Cleave("#"+this.id,a),o=e(this);o.data("cleave-auto-unmask",a.autoUnmask),o.data("cleave",t)}))},e.valHooks.input?(o=e.valHooks.input.get,i=e.valHooks.input.set):e.valHooks.input={},e.valHooks.input.get=function(t){var a=e(t),i=a.data("cleave");return i?a.data("cleave-auto-unmask")?i.getRawValue():t.value:o?o(t):void 0},e.valHooks.input.set=function(t,a){var o=e(t),n=o.data("cleave");return n?(n.setRawValue(a),o):i?i(t):void 0}}(jQuery,window);var csrftoken=getCookie("csrftoken");function csrfSafeMethod(e){return/^(GET|HEAD|OPTIONS|TRACE)$/.test(e)}function configuraCampos(e,t){var a=$(".disableMe"),o=$(".disableMe select[data-autocomplete-light-function='select2']");e?(a.removeProp("disabled"),a.prop("disabled","disabled"),a.has(".has-error").removeProp("disabled"),a.filter("SPAN").css("pointer-events","none"),o.removeProp("disabled"),o.prop("disabled","disabled"),o.has(".has-error").removeProp("disabled"),$("div[id*=__prefix__]").find(".disableMe").removeProp("disabled"),t&&$('input[name="save"]').hide()):a.removeProp("disabled"),t&&$('a[id^="add-item-button"]').hide()}function configuraPagina(){$(".js-django-inlines").each((function(){var e=$(this),t=e.data();t.options.onAdd=function(e,t){configuraPagina()},e.djangoInline(t.options||t),t.djangoInline.setFormOrder()})),$.fn.datepicker.defaults.format="dd/mm/yyyy",$.fn.datepicker.defaults.todayBtn="linked",$.fn.datepicker.defaults.language="pt-BR",$.fn.datepicker.defaults.autoclose=!0,$.fn.datepicker.defaults.todayHighlight=!0,$.fn.datepicker.defaults.enableOnReadonly=!0,$("#datepicker").datepicker({}),$(".dateinput").datepicker({format:"dd/mm/yyyy",todayBtn:"linked",language:"pt-BR",autoclose:!0,todayHighlight:!0,enableOnReadonly:!1}),$("div .has-error").filter(".form-group").has($('div[id^="detail-items-"]')).removeClass("has-error"),$("[data-ftl='data']").cleave({date:!0,datePattern:["d","m","Y"]}),$("[data-ftl='datahora']").cleave({delimiters:["/","/"," ",":"],blocks:[2,2,4,2,2]}),$("[data-ftl='datahorasegundo']").cleave({delimiters:["/","/"," ",":",":"],blocks:[2,2,4,2,2,2]}),$("[data-ftl='telefone']").cleave({phone:!0,phoneRegionCode:"BR"}),$("[data-ftl='celular']").cleave({phone:!0,phoneRegionCode:"BR",prefix:"+55 "}),$("[data-ftl='cpf']").cleave({blocks:[3,3,3,2],delimiters:[".",".","-"]}),$("[data-ftl='cnpj']").cleave({blocks:[2,3,3,4,2],delimiters:[".",".","/","-"]}),$("[data-ftl='cep']").cleave({blocks:[5,3],delimiters:["-"]}),$("[data-ftl='percentual']").cleave({numeral:!0,numeralThousandsGroupStyle:"thousand",numeralDecimalMark:",",delimiter:".",noImmediatePrefix:!0,autoUnmask:!0}),$("[data-ftl='percentual-100-2']").cleave({numeral:!0,numeralThousandsGroupStyle:"thousand",numeralDecimalScale:2,numeralDecimalMark:",",delimiter:".",numeralPositiveOnly:!0,noImmediatePrefix:!0,autoUnmask:!0}),$("[data-ftl='money']").cleave({numeral:!0,numeralDecimalScale:2,numeralDecimalMark:",",delimiter:".",numeralPositiveOnly:!0,noImmediatePrefix:!0,autoUnmask:!0,stripLeadingZeroes:!1,alwaysShowDecimals:!0}),$('form input:not([type="hidden"]):not([type="submit"])').keydown((function(e){if("Enter"===e.key){var t=$(this).parents("form").eq(0).find(":input");return null!==t[t.index(this)+1]&&t[t.index(this)+1].focus(),e.preventDefault(),!1}})),$(".tab-content .panel-body").each((function(){$(this).find(".buttons-do-form").appendTo($(this).parent().find("#master-button"))})),$(".dal-forward-conf").not("[id*='__prefix__']").each((function(){var e,t=this.id.replace("dal-forward-conf-for_","#"),a=$(t),o=a.getFormPrefix();try{e=JSON.parse($(this).text())}catch(e){return}e.forEach((function(e){$("[name="+o+e.src+"]").on("change",(function(){a.val(null).trigger("change")}))}))})),null!=callback_configuraPagina&&callback_configuraPagina(),$(".ftl-automount:visible").each((function(e,t){t._tag||(riot.mount(t),t.classList.remove("ftl-automount"))})),$('[role="tooltip"]').remove(),document.getElementById("ftl-loading").style.display="none"}callback_configuraPagina=null;var rotas=[];function configuraFTL(){moment.locale("pt-br");var e={init:function(e){this.debug&&console.log("LoadMessagesMixin!"),this.on("loading",()=>{if(this.debug&&console.log("LoadMessagesMixin: loading",this.loading_timeout),document.getElementById("ftl-page-load").value="loading",void 0===this.loading_timeout){var e=this;this.loading_timeout=setTimeout((function(){document.getElementById("ftl-loading").style.display="grid",e.debug&&console.log("LoadMessagesMixin: timeout",e.loading_timeout)}),500)}this.debug&&console.log(this.loading_timeout)}),this.on("loaded",e=>{this.debug&&console.log("LoadMessagesMixin: loaded",this,this.loading_timeout),document.getElementById("ftl-page-load").value="loaded",document.getElementById("ftl-loading").style.display="none",clearTimeout(this.loading_timeout),this.loading_timeout=void 0})}};riot.mixin("LoadMessagesMixin",e);riot.mixin("OptsMixin",{init:function(e){},getOpts:function(){return this.opts},setOpts:function(e,t){return this.opts=e,t&&this.update(),this}}),configuraPagina();var t=window.location,a=$('li a[href="'+t.pathname+'"]');if(a.length>0)a.parent().addClass("active"),$("ul.treeview-menu").filter((function(e){return 1===$("a[href^='"+t.pathname+"']",this).length})).addClass("active").css("display","block");else if(document.referrer){var o=document.referrer.match(/:\/\/[^\/]+([^\?]*)[\/]*(?:\?.*)?$/)[1];$('li a[href^="'+o+'"]').length>0&&($('li a[href="'+o+'"]').parent().addClass("active"),$("ul.treeview-menu").filter((function(e){return 1===$("a[href^='"+o+"']",this).length})).addClass("active").css("display","block"))}ftltabs=riot.mount("ftl-tabs")[0],route("/..",(function(e){var t=window.location,a=t.hash.slice(1);rotas.forEach((function(e,o){if(e.rota===a.slice(0,e.rota.length)){var i="";t.hash.endsWith("/add/")?i="Inclusão":"2"===t.hash.split("/")[4]?i="Alteração":"3"===t.hash.split("/")[4]&&(i="Exclusão"),ftltabs.trigger("updateRoute",o,e.nome,a,i,e.reload)}}))})),route.start(!0)}function formset_up(e){var t=$(e).closest(".js-django-inlines").data().djangoInline,a=t.getFormIndex(e);t.moveFieldUp(a)}function formset_down(e){var t=$(e).closest(".js-django-inlines").data().djangoInline,a=t.getFormIndex(e);t.moveFieldDown(a)}function goBack(){window.history.back()}function closeActiveTab(){try{$('[ref="#'+$f.closest("div[class^='tab-pane active']").attr("id")+'-close"]').click()}catch(e){$('[ref="#'+$("div[class^='tab-pane active']").attr("id")+'-close"]').click()}document.cookie="next=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"}$(window).scroll((function(e){var t=$(".fixedElement:visible"),a="fixed"===t.css("position");$(this).scrollTop()>260&&!a&&t.css({position:"fixed",top:"0px"}),$(this).scrollTop()<=260&&a&&t.css({position:"static",top:"0px"}),t.css({width:t.parent().find(".note-editing-area").width()+"px"})}));var UUID=function(){for(var e=[],t=0;t<=15;t++)e[t]=t.toString(16);var a="";for(t=1;t<=36;t++)a+=9===t||14===t||19===t||24===t?"-":15===t?4:20===t?e[4*Math.random()|8]:e[16*Math.random()|0];return a},Store=function(){riot.observable(this)};