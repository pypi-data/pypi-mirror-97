riot.tag2("ftl-context-menu",'<ul ref="contextMenu" class="dropdown-menu contextMenu" role="menu" style="display:block"> <li each="{item, index  in contextmenu_items}"> <a data-action="{index}" tabindex="-1" href="{item.url}">{item.text}</a> </li> </ul>',"","",(function(t){var e=this;e.target=$(t.target),e.contextmenu_items=t.contextmenu_items,e.on("mount",(function(){e.target.on("contextmenu",(function(t){t.preventDefault(),$(".contextMenu").hide(),$(e.refs.contextMenu).show().css({position:"absolute",left:e.getMenuPosition(t.clientX,"width","scrollLeft"),top:e.getMenuPosition(t.clientY,"height","scrollTop")}).on("click","a",(function(){$(e.refs.contextMenu).hide()}))})),e.target.on("click.loadContent",(function(){$(".contextMenu").hide()}))})),e.getMenuPosition=(t,n,o)=>{var i=$(window)[n](),c=$(window)[o](),u=$(e.refs.contextMenu)[n](),l=t+c;return t+u>i&&u<t&&(l-=u),l}}));