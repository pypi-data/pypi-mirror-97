riot.tag2("ftl-workflow",'<div if="{opts.modal.isvisible}" class="modal {fade: opts.modal.fade} bs-workflow-atendimento-modal" ref="ftl_workflow_modal" tabindex="-1" role="dialog" aria-labelledby="ftl-workflow-modal"> <div class="modal-dialog {cls}" role="document"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">Ã—</span><span class="sr-only">Close</span></button> <h3 class="modal-title">Workflow {title}<br></h3> </div> <div class="modal-body text-center"> <div riot-style="max-width: {maxwidth}"> <object id="{svg}" class="svgClass" type="image/svg+xml" riot-style="max-width: {maxwidth}" onload="{changecolor}" data="/static/img/{opts.img}.min.svg"></object> </div> </div> <form id="form-workflow-modal"> <div class="modal-footer"> <button each="{opts.modal.buttons}" type="button" class="btn {\'btn-\' + type} btn-sm" onclick="{action}" riot-style="{style}">{text}</button> <button if="{opts.modal.dismissable}" type="button" class="btn btn-cancel btn-sm" data-dismiss="modal">Cancelar</button> </div> </form> </div> </div> </div>','ftl-workflow object,[data-is="ftl-workflow"] object{ max-width: { maxwidth }; }',"",(function(o){var t=this;t.maxwidth="100%",t.svg="ftl-workflow-svg",t.id=null,t.color="#87CEFA",t.cls="",t.on("mount",()=>{o.modal||(o.modal={}),o.img||(o.img="ftl-workflow-atendimento"),o.modal.cls&&(t.cls=o.modal.cls),t.changecolor()}),t.close=()=>{o.modal.dismissable&&(o.modal.isvisible=!1,this.trigger("close"))},t.on("modal",()=>{$(t.refs.ftl_workflow_modal).modal()}),t.changecolor=()=>{t.id&&t.color&&(document.getElementById(t.svg).contentDocument.getElementById(t.id).style.fill=t.color),t.update()},t.on("mark-id",(o,l)=>{t.id=o,t.color=l,t.trigger("modal")})}));