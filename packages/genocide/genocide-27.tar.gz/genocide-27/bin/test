#!/usr/bin/env python3
# This file is placed in the Public Domain.

"unittests"

import os, sys ; sys.path.insert(0, os.getcwd())

import ob
import unittest

from ob.krn import cfg, exec, op, parse

# defines

path = os.path.join(os.getcwd(), "test")

# functions

def open(txt):
    try:
        for line in os.popen(txt).readlines():
            print(line.rstrip())
    except:
        pass

def main():
    parse("test")
    open("rm -fR %s" % ob.wd)
    cfg.debug = True
    suite = unittest.loader.TestLoader().discover(path, pattern="test*")
    unittest.TextTestRunner(verbosity=3).run(suite)

# runtime

exec(main)
