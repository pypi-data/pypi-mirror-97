{% extends "page.html" %}
{% block main %}

<script type="text/javascript">
  document.addEventListener('DOMContentLoaded', function () {
    let button = document.getElementById('eye');
    button.addEventListener("click", function (e) {
      let pwd = document.getElementById("pwd");
      if (pwd.getAttribute("type") === "password") {
        pwd.setAttribute("type", "text");
        button.textContent = "🔑";
      } else {
        pwd.setAttribute("type", "password");
        button.textContent = "👁";
      }
    });
  });
</script>

<div class="container">
  <div class="row">
    <form action="{{post_url}}" method="post" role="form" class="col-md-offset-3 col-md-6">
      <h2>
        Change Password For {{user_name}}
      </h2>
      <div class="form-group">
        <label for="token-note">New password:</label>
        <input
          type="password"
          class="form-control"
          name="password"
          id="pwd"
          tabindex="2"
          class="form-control"
          placeholder="******">
          <span class="input-group-addon">
            <button style="border:0;" type="button" id="eye">
              👁
            </button>
          </span>
      </div>
      <div class="text-center">
        <button         
          type="submit"
          id="signup_submit"
          class='btn btn-jupyter'
          value='Change Password'
          tabindex="3">
          Request new API token
        </button>
      </div>
    </form>

{% if result_message %}
<div class="alert alert-success" role="alert">{{result_message}}</div>
{% endif %}

</div>
{% endblock %}