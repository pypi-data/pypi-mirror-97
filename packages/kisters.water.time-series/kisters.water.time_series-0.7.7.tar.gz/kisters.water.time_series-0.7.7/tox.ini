[tox]
envlist =
    py{35,36,37},flake8,coverage

[flake8]
per-file-ignores =
    **/__init__.py:F401
max-line-length = 120

[testenv]
deps =
    pytest
    nbformat
    nbconvert
    statsmodels==0.11.0
    matplotlib
    jupyter_client
    ipykernel
    scipy==1.2.1
    patsy
commands = pytest {posargs}


[testenv:flake8]
skip_install = True
deps =
    flake8
    flake8-bugbear
    flake8-comprehensions
    flake8-per-file-ignores
commands = flake8 kisters


[testenv:coverage]
deps =
    pytest
    coverage
    nbformat
    nbconvert
    statsmodels==0.11.0
    matplotlib
    jupyter_client
    ipykernel
    scipy==1.2.1
    patsy
commands =
    - coverage run --source kisters -m pytest {posargs}

