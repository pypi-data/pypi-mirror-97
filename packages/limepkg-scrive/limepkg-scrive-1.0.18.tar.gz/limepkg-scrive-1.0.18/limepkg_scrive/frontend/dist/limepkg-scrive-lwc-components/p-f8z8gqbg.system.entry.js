var __spreadArrays=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),r=0,t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i};System.register(["./p-eb9ad9e3.system.js"],(function(e){"use strict";var t,n,i;return{setters:[function(e){t=e.r;n=e.h;i=e.g}],execute:function(){var r;(function(e){e["Translate"]="translate";e["Http"]="http";e["Route"]="route";e["Notification"]="notifications";e["Query"]="query";e["CommandBus"]="commandBus";e["Dialog"]="dialog";e["EventDispatcher"]="eventDispatcher";e["LimetypesState"]="state.limetypes";e["LimeobjectsState"]="state.limeobjects";e["ApplicationState"]="state.application";e["ConfigsState"]="state.configs";e["FiltersState"]="state.filters";e["DeviceState"]="state.device";e["TaskState"]="state.tasks"})(r||(r={}));var o;(function(e){e["AND"]="AND";e["OR"]="OR";e["EQUALS"]="=";e["NOT"]="!";e["GREATER"]=">";e["LESS"]="<";e["IN"]="IN";e["BEGINS"]="=?";e["LIKE"]="?";e["LESS_OR_EQUAL"]="<=";e["GREATER_OR_EQUAL"]=">="})(o||(o={}));var a;(function(e){e["Received"]="command.received";e["Handled"]="command.handled";e["Failed"]="command.failed"})(a||(a={}));var s;(function(e){e["Pending"]="PENDING";e["Started"]="STARTED";e["Retry"]="RETRY";e["Success"]="SUCCESS";e["Failure"]="FAILURE"})(s||(s={}));function c(e){var t={name:r.ConfigsState};return d(e,t)}function u(e){if(e===void 0){e={}}var t={name:r.LimeobjectsState};e.map=__spreadArrays([f],e.map||[]);return d(e,t)}function f(e){var t=this.context,n=t.limetype,i=t.id;if(!e[n]){return undefined}return e[n].find((function(e){return e.id===i}))}function p(e){if(e===void 0){e={}}var t={name:r.ApplicationState};e.map=__spreadArrays([l],e.map||[]);return d(e,t)}function l(e){return e.session}function d(e,t){return function(n,i){var r=m(n,i,e,t);if(r.properties.length===1){h(n,r.properties)}}}var v=[];function m(e,t,n,i){var r=v.find((function(t){return t.component===e}));if(!r){r={properties:[],component:e};v.push(r)}r.properties.push({options:n,name:t,service:{name:i.name,method:i.method||"subscribe"}});return r}function h(e,t){var n=e.componentWillLoad;var i=e.componentDidUnload;var r=[];e.componentWillLoad=function(){var e=this;var i=[];for(var o=0;o<arguments.length;o++){i[o]=arguments[o]}t.forEach((function(t){g.apply(e,[r,t])}));if(n){return n.apply(this,i)}};e.componentDidUnload=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}if(i){i.apply(this,e)}y.apply(this,[r])}}function g(e,t){var n=this;var i=e.find((function(e){return e.instance===n}));if(!i){i={instance:this,unsubscribes:[]};e.push(i)}var r=S.apply(this,[t.options,t.name,t.service.name,t.service.method]);i.unsubscribes.push(r)}function y(e){var t=this;if(e===void 0){e=[]}var n=e.find((function(e){return e.instance===t}));n.unsubscribes.forEach((function(e){return e()}));for(var i=e.length-1;i>=0;i--){var r=e[i];if(r.instance!==this){continue}e.splice(i,1)}}function b(e,t){return function(n){e[t]=n}}function S(e,t,n,i){var r=Object.assign({},e);E(r,this);var o=this.platform;if(!o.has(n)){throw new Error("Service "+n+" does not exist")}var a=o.get(n);return a[i](b(this,t),r)}function E(e,t){if(e.filter){e.filter=e.filter.map((function(e){return e.bind(t)}))}if(e.map){e.map=e.map.map((function(e){return e.bind(t)}))}}var _=undefined&&undefined.__decorate||function(e,t,n,i){var r=arguments.length,o=r<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,n):i,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(r<3?a(o):r>3?a(t,n,o):a(t,n))||o;return r>3&&o&&Object.defineProperty(t,n,o),o};var R=e("lwc_limepkg_scrive",function(){function e(e){t(this,e);this.document={};this.session={};this.config={};this.includePerson=false;this.allowedExtensions=Object.freeze(["PDF","DOC","DOCX"])}e.prototype.goToScrive=function(e){var t=this.config.limepkg_scrive.scriveHost;var n=this.session.language;window.open(t+"/public/?limeDocId="+e+"&lang="+n+(this.includePerson?"&usePerson=true":""))};e.prototype.files=function(){var e;var t=((e=this.document)===null||e===void 0?void 0:e._files)||{};var n=Object.keys(t);return n.map((function(e){return t[e]}))};e.prototype.isSignable=function(e){return this.allowedExtensions.includes((e.extension||"").toUpperCase())};e.prototype.render=function(){var e=this;if(this.context.limetype!=="document"){return}var t=this.files().filter(this.isSignable,this);var i=t.length===0;var o=t.length>1;if(i||o){return}var a=this.platform.get(r.Translate);var s=a.get("limepkg_scrive.primary_action");return n("div",{class:"container"},n("limel-button",{label:s,outlined:true,onClick:function(){return e.goToScrive(e.context.id)}}))};Object.defineProperty(e.prototype,"element",{get:function(){return i(this)},enumerable:true,configurable:true});Object.defineProperty(e,"style",{get:function(){return".container{margin-left:1.25rem;margin-right:1.25rem}"},enumerable:true,configurable:true});return e}());_([u()],R.prototype,"document",void 0);_([p()],R.prototype,"session",void 0);_([c({})],R.prototype,"config",void 0)}}}));