var __spreadArrays=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),r=0,t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i};System.register(["./p-1614c895.system.js"],(function(e){"use strict";var t,n,i;return{setters:[function(e){t=e.r;n=e.h;i=e.g}],execute:function(){var r;(function(e){e["Translate"]="translate";e["Http"]="http";e["Route"]="route";e["Notification"]="notifications";e["Query"]="query";e["CommandBus"]="commandBus";e["Dialog"]="dialog";e["EventDispatcher"]="eventDispatcher";e["LimetypesState"]="state.limetypes";e["LimeobjectsState"]="state.limeobjects";e["ApplicationState"]="state.application";e["ConfigsState"]="state.configs";e["FiltersState"]="state.filters";e["DeviceState"]="state.device";e["TaskState"]="state.tasks"})(r||(r={}));var o;(function(e){e["AND"]="AND";e["OR"]="OR";e["EQUALS"]="=";e["NOT"]="!";e["GREATER"]=">";e["LESS"]="<";e["IN"]="IN";e["BEGINS"]="=?";e["LIKE"]="?";e["LESS_OR_EQUAL"]="<=";e["GREATER_OR_EQUAL"]=">="})(o||(o={}));var a;(function(e){e["Received"]="command.received";e["Handled"]="command.handled";e["Failed"]="command.failed"})(a||(a={}));var s;(function(e){e["Pending"]="PENDING";e["Started"]="STARTED";e["Retry"]="RETRY";e["Success"]="SUCCESS";e["Failure"]="FAILURE"})(s||(s={}));function c(e){var t={name:r.ConfigsState};return f(e,t)}function l(e){if(e===void 0){e={}}var t={name:r.LimeobjectsState};e.map=__spreadArrays([u],e.map||[]);return f(e,t)}function u(e){var t=this.context,n=t.limetype,i=t.id;if(!e[n]){return undefined}return e[n].find((function(e){return e.id===i}))}function f(e,t){return function(n,i){var r=d(n,i,e,t);if(r.properties.length===1){v(n,r.properties)}}}var p=[];function d(e,t,n,i){var r=p.find((function(t){return t.component===e}));if(!r){r={properties:[],component:e};p.push(r)}r.properties.push({options:n,name:t,service:{name:i.name,method:i.method||"subscribe"}});return r}function v(e,t){var n=e.componentWillLoad;var i=e.componentDidUnload;var r=[];e.componentWillLoad=function(){var e=this;var i=[];for(var o=0;o<arguments.length;o++){i[o]=arguments[o]}t.forEach((function(t){h.apply(e,[r,t])}));if(n){return n.apply(this,i)}};e.componentDidUnload=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}if(i){i.apply(this,e)}m.apply(this,[r])}}function h(e,t){var n=this;var i=e.find((function(e){return e.instance===n}));if(!i){i={instance:this,unsubscribes:[]};e.push(i)}var r=b.apply(this,[t.options,t.name,t.service.name,t.service.method]);i.unsubscribes.push(r)}function m(e){var t=this;if(e===void 0){e=[]}var n=e.find((function(e){return e.instance===t}));n.unsubscribes.forEach((function(e){return e()}));for(var i=e.length-1;i>=0;i--){var r=e[i];if(r.instance!==this){continue}e.splice(i,1)}}function g(e,t){return function(n){e[t]=n}}function b(e,t,n,i){var r=Object.assign({},e);y(r,this);var o=this.platform;if(!o.has(n)){throw new Error("Service "+n+" does not exist")}var a=o.get(n);return a[i](g(this,t),r)}function y(e,t){if(e.filter){e.filter=e.filter.map((function(e){return e.bind(t)}))}if(e.map){e.map=e.map.map((function(e){return e.bind(t)}))}}var S=undefined&&undefined.__decorate||function(e,t,n,i){var r=arguments.length,o=r<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,n):i,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(r<3?a(o):r>3?a(t,n,o):a(t,n))||o;return r>3&&o&&Object.defineProperty(t,n,o),o};var E=e("lwc_limepkg_scrive_test",function(){function e(e){t(this,e);this.document={};this.config={};this.includePerson=false;this.allowedExtensions=Object.freeze(["PDF","DOC","DOCX"])}e.prototype.goToScrive=function(e){var t=this.config.limepkg_scrive.scriveHost;window.open(t+"/public/?limeDocId="+e+(this.includePerson?"&usePerson=true":""))};e.prototype.files=function(){var e;var t=((e=this.document)===null||e===void 0?void 0:e._files)||{};var n=Object.keys(t);return n.map((function(e){return t[e]}))};e.prototype.isSignable=function(e){return this.allowedExtensions.includes((e.extension||"").toUpperCase())};e.prototype.render=function(){var e=this;if(this.context.limetype!=="document"){return}var t=this.files();var i=t.filter(this.isSignable,this);var r=i.length===0;var o=i.length>1;var a=r||o;var s=t.map((function(t){if(e.isSignable(t)){return{text:t.filename+" is signable."}}return{text:t.filename+" is not signable."}}));return n("div",null,n("limel-collapsible-section",{header:"Sign with Scrive"},n("limel-button",{label:"Design Contract",outlined:true,disabled:a,onClick:function(){return e.goToScrive(e.context.id)}}),n("limel-checkbox",{label:"Add associated person as signing party",id:"fab",checked:this.includePerson,required:false,disabled:a,onChange:function(){return e.includePerson=!e.includePerson}}),r&&n("limel-dialog",{heading:"No Signable Files",open:true},"There are no signable files.",n("limel-list",{items:s}),"Please keep in mind that only certain types (",this.allowedExtensions.join(", "),") of these types of files are signable."),o&&n("limel-dialog",{heading:"Too Many Signable Files",open:true},"Only one file is signable at a time.",n("limel-list",{items:s}))))};Object.defineProperty(e.prototype,"element",{get:function(){return i(this)},enumerable:true,configurable:true});Object.defineProperty(e,"style",{get:function(){return""},enumerable:true,configurable:true});return e}());S([l()],E.prototype,"document",void 0);S([c({})],E.prototype,"config",void 0)}}}));