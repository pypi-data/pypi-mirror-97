{"version":3,"sources":["webpack:///./src/views/Config.vue?aff1","webpack:///src/views/Config.vue","webpack:///./src/views/Config.vue?5220","webpack:///./src/views/Config.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","configKey","_e","attrs","_l","conf_value","conf_key","key","on","$event","$router","push","staticStyle","_v","_s","icon","label","scopedSlots","_u","fn","includes","getProviderIcon","getPlayer","provider_id","name","value","proxy","getCleanValues","conf_item_value","conf_item_key","$t","getDisabledState","saveConfig","model","callback","$$v","$set","expression","length","toString","staticClass","dateStrFromTimestamp","revokeAppToken","staticRenderFns","components","props","data","configMenu","base","security","music_providers","player_providers","metadata_providers","plugins","player_settings","computed","config_items","config","methods","confItemValue","entry_key","confValues","enabled","confValue","hidden","newDict","confirm","$server","sendWsCommand","timestamp","s","Date","toLocaleDateString","component","VCard","VDivider","VIcon","VLabel","VList","VListGroup","VListItem","VListItemAvatar","VListItemContent","VListItemIcon","VListItemSubtitle","VListItemTitle","VSelect","VSlider","VSwitch","VTextField"],"mappings":"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","file":"js/config.bcfa3c29.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[(!_vm.configKey)?_c('v-card',{attrs:{\"flat\":\"\"}},[_c('v-list',{attrs:{\"tile\":\"\"}},_vm._l((_vm.configMenu),function(conf_value,conf_key){return _c('v-list-item',{key:conf_key,attrs:{\"tile\":\"\"},on:{\"click\":function($event){return _vm.$router.push('/config/' + conf_key)}}},[_c('v-list-item-icon',{staticStyle:{\"margin-left\":\"15px\"}},[_c('v-icon',{attrs:{\"large\":\"\"}},[_vm._v(_vm._s(conf_value.icon))])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(conf_value.label))])],1)],1)}),1)],1):_vm._e(),(_vm.configKey)?_c('v-card',{attrs:{\"flat\":\"\"}},[_c('v-list',{attrs:{\"two-line\":\"\",\"tile\":\"\"}},_vm._l((_vm.config_items),function(conf_value,conf_key){return _c('v-list-group',{key:conf_key,attrs:{\"no-action\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(){return [_c('v-list-item',[_c('v-list-item-avatar',{staticStyle:{\"margin-left\":\"-15px\"},attrs:{\"tile\":\"\"}},[(_vm.configKey == 'base')?_c('img',{staticStyle:{\"border-radius\":\"5px\",\"border\":\"1px solid rgba(0,0,0,.85)\"},attrs:{\"src\":require('../assets/' + conf_key + '.png')}}):_vm._e(),(['player_providers', 'music_providers', 'metadata_providers', 'plugins'].includes(_vm.configKey))?_c('img',{staticStyle:{\"border-radius\":\"5px\",\"border\":\"1px solid rgba(0,0,0,.85)\"},attrs:{\"src\":_vm.getProviderIcon(conf_key)}}):_vm._e(),(_vm.configKey == 'player_settings')?_c('img',{staticStyle:{\"border-radius\":\"5px\",\"border\":\"1px solid rgba(0,0,0,.85)\"},attrs:{\"src\":_vm.getProviderIcon(_vm.getPlayer(conf_key).provider_id)}}):_vm._e(),(_vm.configKey == 'security')?_c('v-icon',[_vm._v(\"mdi-shield-lock\")]):_vm._e()],1),_c('v-list-item-content',[(conf_value['__name__'])?_c('v-list-item-title',[_vm._v(_vm._s(conf_value['__name__']['label']))]):(_vm.configKey == 'player_settings')?_c('v-list-item-title',[_c('b',[_vm._v(_vm._s(_vm.getPlayer(conf_key).name))])]):_c('v-list-item-title',{staticStyle:{\"text-transform\":\"capitalize\"}},[_vm._v(_vm._s(conf_key))]),(_vm.configKey == 'player_settings')?_c('v-list-item-subtitle',_vm._l((_vm.getPlayer(conf_key).device_info),function(value,name){return _c('span',{key:name},[_c('b',[(value)?_c('span',[_vm._v(_vm._s(name + ': '))]):_vm._e()]),(value)?_c('span',[_vm._v(_vm._s(value + ' '))]):_vm._e()])}),0):_vm._e()],1)],1)]},proxy:true}],null,true)},[_c('v-list',{attrs:{\"tile\":\"\"}},_vm._l((_vm.getCleanValues(conf_value)),function(conf_item_value,conf_item_key){return _c('v-list-item',{key:conf_item_key,staticStyle:{\"margin-top\":\"15px\",\"margin-bottom\":\"15px\"},attrs:{\"tile\":\"\"}},[(conf_item_value['entry_type'] == 'label' && !conf_item_value['hidden'])?_c('v-label',[_vm._v(_vm._s(conf_item_value['label']))]):_vm._e(),(conf_item_value['entry_type'] == 'boolean')?_c('v-switch',{attrs:{\"placeholder\":conf_item_value['default_value'],\"label\":_vm.$t(conf_item_value['label']),\"hint\":_vm.$t(conf_item_value['description']),\"disabled\":_vm.getDisabledState(conf_value, conf_item_value)},on:{\"change\":function($event){return _vm.saveConfig(_vm.configKey, conf_key, conf_item_key, conf_item_value['value'])}},model:{value:(conf_item_value['value']),callback:function ($$v) {_vm.$set(conf_item_value, 'value', $$v)},expression:\"conf_item_value['value']\"}}):_vm._e(),(\n            (conf_item_value['entry_type'] == 'string' ||\n              conf_item_value['entry_type'] == 'integer' ||\n              conf_item_value['entry_type'] == 'float') &&\n              !conf_item_value['values'].length && !conf_item_value['range'].length\n          )?_c('v-text-field',{attrs:{\"placeholder\":conf_item_value['default_value'] ? conf_item_value['default_value'].toString() : '',\"label\":_vm.$t(conf_item_value['label']),\"hint\":_vm.$t(conf_item_value['description']),\"disabled\":_vm.getDisabledState(conf_value, conf_item_value),\"filled\":\"\"},on:{\"change\":function($event){return _vm.saveConfig(_vm.configKey, conf_key, conf_item_key, conf_item_value['value'])}},model:{value:(conf_item_value['value']),callback:function ($$v) {_vm.$set(conf_item_value, 'value', $$v)},expression:\"conf_item_value['value']\"}}):_vm._e(),(conf_item_value['entry_type'] == 'password')?_c('v-text-field',{attrs:{\"placeholder\":conf_item_value['default_value'],\"label\":_vm.$t(conf_item_value['label']),\"hint\":_vm.$t(conf_item_value['description']),\"disabled\":_vm.getDisabledState(conf_value, conf_item_value),\"type\":\"password\",\"filled\":\"\"},on:{\"change\":function($event){return _vm.saveConfig(_vm.configKey, conf_key, conf_item_key, conf_item_value['value'])}},model:{value:(conf_item_value['value']),callback:function ($$v) {_vm.$set(conf_item_value, 'value', $$v)},expression:\"conf_item_value['value']\"}}):_vm._e(),(\n            conf_item_value['values'].length &&\n              !conf_item_value['range'].length\n          )?_c('v-select',{attrs:{\"chips\":conf_item_value['multi_value'],\"clearable\":\"\",\"multiple\":conf_item_value['multi_value'],\"items\":conf_item_value['values'],\"placeholder\":conf_item_value['default_value'] ? conf_item_value['default_value'].toString() : '',\"label\":_vm.$t(conf_item_value['label']),\"hint\":_vm.$t(conf_item_value['description']),\"disabled\":_vm.getDisabledState(conf_value, conf_item_value),\"filled\":\"\"},on:{\"change\":function($event){return _vm.saveConfig(_vm.configKey, conf_key, conf_item_key, conf_item_value['value'])}},model:{value:(conf_item_value['value']),callback:function ($$v) {_vm.$set(conf_item_value, 'value', $$v)},expression:\"conf_item_value['value']\"}}):_vm._e(),(conf_item_value['range'].length)?_c('v-slider',{attrs:{\"placeholder\":conf_item_value['default_value'].toString(),\"label\":_vm.$t(conf_item_value['label']),\"hint\":_vm.$t(conf_item_value['description']),\"disabled\":_vm.getDisabledState(conf_value, conf_item_value),\"min\":conf_item_value['range'][0],\"max\":conf_item_value['range'][1]},on:{\"change\":function($event){return _vm.saveConfig(_vm.configKey, conf_key, conf_item_key, conf_item_value['value'])}},scopedSlots:_vm._u([{key:\"append\",fn:function(){return [_c('v-text-field',{staticClass:\"mt-0 pt-0\",staticStyle:{\"width\":\"60px\"},attrs:{\"type\":\"number\"},model:{value:(conf_item_value['value']),callback:function ($$v) {_vm.$set(conf_item_value, 'value', $$v)},expression:\"conf_item_value['value']\"}})]},proxy:true}],null,true),model:{value:(conf_item_value['value']),callback:function ($$v) {_vm.$set(conf_item_value, 'value', $$v)},expression:\"conf_item_value['value']\"}}):_vm._e(),(conf_item_value['entry_type'] == 'dict' && conf_key == 'app_tokens')?_c('v-switch',{attrs:{\"value\":\"true\",\"label\":_vm.$t(conf_item_value['label']),\"hint\":'Last login: ' + _vm.dateStrFromTimestamp(conf_item_value['value']['last_login']),\"persistent-hint\":\"\"},on:{\"change\":function($event){return _vm.revokeAppToken(conf_item_key)}}}):_vm._e()],1)}),1),_c('v-divider')],1)}),1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <section>\n    <!-- config main menu -->\n    <v-card\n      flat\n      v-if=\"!configKey\"\n    >\n      <v-list tile>\n        <v-list-item\n          tile\n          v-for=\"(conf_value, conf_key) in configMenu\"\n          :key=\"conf_key\"\n          @click=\"$router.push('/config/' + conf_key)\"\n        >\n          <v-list-item-icon style=\"margin-left:15px\">\n            <v-icon large>{{ conf_value.icon }}</v-icon>\n          </v-list-item-icon>\n          <v-list-item-content>\n            <v-list-item-title>{{ conf_value.label }}</v-list-item-title>\n          </v-list-item-content>\n        </v-list-item>\n      </v-list>\n    </v-card>\n\n    <!-- generic and module settings -->\n    <v-card\n      flat\n      v-if=\"configKey\"\n    >\n      <v-list\n        two-line\n        tile\n      >\n        <v-list-group\n          no-action\n          v-for=\"(conf_value, conf_key) in config_items\"\n          :key=\"conf_key\"\n        >\n          <template v-slot:activator>\n            <v-list-item>\n              <v-list-item-avatar\n                tile\n                style=\"margin-left:-15px\"\n              >\n                <img\n                  v-if=\"configKey == 'base'\"\n                  :src=\"require('../assets/' + conf_key + '.png')\"\n                  style=\"border-radius:5px;border: 1px solid rgba(0,0,0,.85);\"\n                />\n                <img\n                  v-if=\"['player_providers', 'music_providers', 'metadata_providers', 'plugins'].includes(configKey)\"\n                  :src=\"getProviderIcon(conf_key)\"\n                  style=\"border-radius:5px;border: 1px solid rgba(0,0,0,.85);\"\n                />\n                <img\n                  v-if=\"configKey == 'player_settings'\"\n                  :src=\"getProviderIcon(getPlayer(conf_key).provider_id)\"\n                  style=\"border-radius:5px;border: 1px solid rgba(0,0,0,.85);\"\n                />\n                <v-icon v-if=\"configKey == 'security'\">mdi-shield-lock</v-icon>\n              </v-list-item-avatar>\n              <v-list-item-content>\n                <v-list-item-title v-if=\"conf_value['__name__']\">{{ conf_value['__name__']['label'] }}</v-list-item-title>\n                <v-list-item-title v-else-if=\"configKey == 'player_settings'\"><b>{{  getPlayer(conf_key).name }}</b></v-list-item-title>\n                <v-list-item-title v-else style=\"text-transform: capitalize;\">{{ conf_key }}</v-list-item-title>\n                <v-list-item-subtitle v-if=\"configKey == 'player_settings'\">\n                  <span v-for=\"(value, name) in getPlayer(conf_key).device_info\" :key=\"name\">\n                    <b><span v-if=\"value\">{{ name + ': '  }}</span></b><span v-if=\"value\">{{ value + '  '  }}</span>\n                  </span>\n                </v-list-item-subtitle>\n              </v-list-item-content>\n            </v-list-item>\n          </template>\n          <v-list tile>\n            <v-list-item\n              tile\n              style=\"margin-top:15px;margin-bottom:15px;\"\n              v-for=\"(conf_item_value, conf_item_key) in getCleanValues(conf_value)\"\n              :key=\"conf_item_key\"\n            >\n              <!-- label -->\n              <v-label v-if=\"conf_item_value['entry_type'] == 'label' && !conf_item_value['hidden']\">{{ conf_item_value['label'] }}</v-label>\n              <!-- boolean value: toggle switch -->\n              <v-switch\n                v-if=\"conf_item_value['entry_type'] == 'boolean'\"\n                v-model=\"conf_item_value['value']\"\n                :placeholder=\"conf_item_value['default_value']\"\n                :label=\"$t(conf_item_value['label'])\"\n                :hint=\"$t(conf_item_value['description'])\"\n                :disabled=\"getDisabledState(conf_value, conf_item_value)\"\n                @change=\"saveConfig(configKey, conf_key, conf_item_key, conf_item_value['value'])\"\n              ></v-switch>\n              <!-- textbox with single value -->\n              <v-text-field\n                v-if=\"\n              (conf_item_value['entry_type'] == 'string' ||\n                conf_item_value['entry_type'] == 'integer' ||\n                conf_item_value['entry_type'] == 'float') &&\n                !conf_item_value['values'].length && !conf_item_value['range'].length\n            \"\n                v-model=\"conf_item_value['value']\"\n                :placeholder=\"conf_item_value['default_value'] ? conf_item_value['default_value'].toString() : ''\"\n                :label=\"$t(conf_item_value['label'])\"\n                :hint=\"$t(conf_item_value['description'])\"\n                :disabled=\"getDisabledState(conf_value, conf_item_value)\"\n                @change=\"saveConfig(configKey, conf_key, conf_item_key, conf_item_value['value'])\"\n                filled\n              ></v-text-field>\n              <!-- password value -->\n              <v-text-field\n                v-if=\"conf_item_value['entry_type'] == 'password'\"\n                v-model=\"conf_item_value['value']\"\n                :placeholder=\"conf_item_value['default_value']\"\n                :label=\"$t(conf_item_value['label'])\"\n                :hint=\"$t(conf_item_value['description'])\"\n                :disabled=\"getDisabledState(conf_value, conf_item_value)\"\n                type=\"password\"\n                @change=\"saveConfig(configKey, conf_key, conf_item_key, conf_item_value['value'])\"\n                filled\n              ></v-text-field>\n              <!-- value with dropdown -->\n              <v-select\n                :chips=\"conf_item_value['multi_value']\"\n                clearable\n                :multiple=\"conf_item_value['multi_value']\"\n                v-if=\"\n              conf_item_value['values'].length &&\n                !conf_item_value['range'].length\n            \"\n                v-model=\"conf_item_value['value']\"\n                :items=\"conf_item_value['values']\"\n                :placeholder=\"conf_item_value['default_value'] ? conf_item_value['default_value'].toString() : ''\"\n                :label=\"$t(conf_item_value['label'])\"\n                :hint=\"$t(conf_item_value['description'])\"\n                :disabled=\"getDisabledState(conf_value, conf_item_value)\"\n                filled\n                @change=\"saveConfig(configKey, conf_key, conf_item_key, conf_item_value['value'])\"\n              ></v-select>\n              <!-- value with range -->\n              <v-slider\n                v-if=\"conf_item_value['range'].length\"\n                :placeholder=\"conf_item_value['default_value'].toString()\"\n                v-model=\"conf_item_value['value']\"\n                :label=\"$t(conf_item_value['label'])\"\n                :hint=\"$t(conf_item_value['description'])\"\n                :disabled=\"getDisabledState(conf_value, conf_item_value)\"\n                @change=\"saveConfig(configKey, conf_key, conf_item_key, conf_item_value['value'])\"\n                :min=\"conf_item_value['range'][0]\"\n                :max=\"conf_item_value['range'][1]\"\n              ><template v-slot:append>\n                  <v-text-field\n                    v-model=\"conf_item_value['value']\"\n                    class=\"mt-0 pt-0\"\n                    type=\"number\"\n                    style=\"width: 60px\"\n                  ></v-text-field>\n                </template>\n              </v-slider>\n              <!-- special: dict -->\n              <v-switch\n              v-if=\"conf_item_value['entry_type'] == 'dict' && conf_key == 'app_tokens'\"\n              value=\"true\"\n              :label=\"$t(conf_item_value['label'])\"\n              :hint=\"'Last login: ' + dateStrFromTimestamp(conf_item_value['value']['last_login'])\"\n              persistent-hint\n              @change=\"revokeAppToken(conf_item_key)\"\n              >\n              </v-switch>\n            </v-list-item>\n          </v-list>\n          <v-divider></v-divider>\n        </v-list-group>\n      </v-list>\n    </v-card>\n  </section>\n</template>\n\n<script>\nimport { mapGetters, mapState } from 'vuex'\nexport default {\n  components: {},\n  props: ['configKey'],\n  data () {\n    return {\n      configMenu: {\n        base: {\n          label: this.$t('config.base'),\n          icon: 'mdi-tune'\n        },\n        security: {\n          label: this.$t('config.security'),\n          icon: 'mdi-shield-lock'\n        },\n        music_providers: {\n          label: this.$t('config.music_providers'),\n          icon: 'mdi-folder-music'\n        },\n        player_providers: {\n          label: this.$t('config.player_providers'),\n          icon: 'mdi-disc-player'\n        },\n        metadata_providers: {\n          label: this.$t('config.metadata_providers'),\n          icon: 'mdi-image-search'\n        },\n        plugins: {\n          label: this.$t('config.plugins'),\n          icon: 'mdi-toy-brick-marker'\n        },\n        player_settings: {\n          label: this.$t('config.player_settings'),\n          icon: 'mdi-headphones-settings'\n        }\n      }\n    }\n  },\n  computed: {\n    ...mapState([\n      'config'\n    ]),\n    ...mapGetters(['getProviderIcon', 'getPlayer']),\n    config_items () {\n      if (!this.config) return {}\n      if (this.configKey) {\n        return this.config[this.configKey]\n      } else return this.config\n    }\n  },\n  async created () {\n    this.$store.state.windowTitle = this.$t('settings')\n    if (this.configKey) {\n      this.$store.state.windowTitle += ' | ' + this.$t('config.' + this.configKey)\n    }\n  },\n  methods: {\n    async saveConfig (baseKey, key, entryKey, newvalue) {\n      const endpoint = 'config/' + baseKey + '/' + key + '/' + entryKey\n      this.$server.sendWsCommand(endpoint, { new_value: newvalue })\n    },\n    getDisabledState (confValues, confItemValue) {\n      // disable UI elements if main item is disabled or depends_on is set\n      if (confItemValue.entry_key === 'enabled') {\n        return false\n      }\n      if (confValues.enabled && !confValues.enabled.value) {\n        return true\n      }\n      if (\n        confItemValue.depends_on &&\n        !confValues[confItemValue.depends_on].value\n      ) {\n        return true\n      }\n      return false\n    },\n    getCleanValues (confValue) {\n      // filter our special cases from a dict\n      const newDict = {}\n      for (const key in confValue) {\n        if (!confValue[key].hidden) {\n          newDict[key] = confValue[key]\n        }\n      }\n      return newDict\n    },\n    revokeAppToken (clientId) {\n      if (confirm('Are you sure you want to revoke this app ?')) {\n        this.$server.sendWsCommand('revoke_token', { client_id: clientId })\n      }\n    },\n    dateStrFromTimestamp (timestamp) {\n      if (!timestamp) return 'never'\n      var s = new Date(timestamp * 1000).toLocaleDateString('en-US')\n      return s\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Config.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Config.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Config.vue?vue&type=template&id=951134be&\"\nimport script from \"./Config.vue?vue&type=script&lang=js&\"\nexport * from \"./Config.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VLabel } from 'vuetify/lib/components/VLabel';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListGroup } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAvatar } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemIcon } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSlider } from 'vuetify/lib/components/VSlider';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VCard,VDivider,VIcon,VLabel,VList,VListGroup,VListItem,VListItemAvatar,VListItemContent,VListItemIcon,VListItemSubtitle,VListItemTitle,VSelect,VSlider,VSwitch,VTextField})\n"],"sourceRoot":""}