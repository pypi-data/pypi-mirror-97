(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["itemdetails"],{"32a2":function(t,i,a){"use strict";a.r(i);var e=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("section",[a("InfoHeader",{attrs:{itemDetails:t.itemDetails}}),a("v-tabs",{attrs:{"show-arrows":"",grow:"","background-color":"rgba(255,255,255,.01)"},model:{value:t.activeTab,callback:function(i){t.activeTab=i},expression:"activeTab"}},[t._l(t.tabs,(function(i){return a("v-tab",{key:i.label},[t._v(" "+t._s(t.$t(i.label)))])})),t._l(t.tabs,(function(t){return a("v-tab-item",{key:t.label},[a("ItemsListing",{attrs:{items:t.items,media_type:t.media_type}})],1)}))],2)],1)},s=[],r=(a("99af"),a("b85c")),n=a("5530"),l=a("0dac"),o=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-flex",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:t.visibilityChanged,expression:"visibilityChanged"}]},[e("v-card",{staticStyle:{"margin-top":"-60px"},attrs:{tile:"",img:a("abd2"),height:t.showFullInfo?"110%":"340"}},[e("v-img",{attrs:{width:"100%",height:t.showFullInfo?"100%":"340",position:"center top",src:t.getFanart(t.itemDetails),gradient:t.$vuetify.theme.dark?"to bottom, rgba(0,0,0,.90), rgba(0,0,0,.75)":"to bottom, rgba(255,255,255,.90), rgba(255,255,255,.75)"}},[e("div",{staticClass:"text-xs-center",staticStyle:{height:"40px"},attrs:{id:"whitespace_top"}}),t.itemDetails?e("v-layout",{staticStyle:{"margin-left":"5pxmargin-right:5px"}},[t.$store.state.isMobile?t._e():e("v-flex",{attrs:{xs5:"","pa-5":""}},[e("v-img",{staticStyle:{border:"3px solid rgba(0,0,0,.33)","border-radius":"3px"},attrs:{src:t.getImage(t.itemDetails),"lazy-src":a("4bfb"),width:"220px",height:"220px"}})],1),e("v-flex",[e("v-card-title",[t._v(" "+t._s(t.itemDetails.name)+" ")]),e("v-card-subtitle",[t.itemDetails.version?e("div",{staticClass:"caption"},[t._v(" "+t._s(t.itemDetails.version)+" ")]):t._e(),t.itemDetails.artists?e("div",{staticClass:"title accent--text"},[e("v-icon",{staticStyle:{"margin-left":"-3px","margin-right":"3px"},attrs:{small:"",color:"primary"}},[t._v("person")]),t._l(t.itemDetails.artists,(function(i,a){return e("span",{key:i.db_id},[e("a",{staticStyle:{color:"accent"},on:{click:function(a){return t.artistClick(i)}}},[t._v(t._s(i.name))]),a+1<t.itemDetails.artists.length?e("span",{key:a,staticStyle:{color:"accent"}},[t._v(t._s(" / "))]):t._e()])}))],2):t._e(),t.itemDetails.artist?e("div",{staticClass:"title"},[e("v-icon",{staticStyle:{"margin-left":"-3px","margin-right":"3px"},attrs:{small:"",color:"primary"}},[t._v("person")]),e("a",{on:{click:function(i){return t.artistClick(t.itemDetails.artist)}}},[t._v(t._s(t.itemDetails.artist.name))])],1):t._e(),t.itemDetails.owner?e("div",{staticClass:"title"},[e("v-icon",{staticStyle:{"margin-left":"-3px","margin-right":"3px"},attrs:{color:"primary",small:""}},[t._v("person")]),e("a",{staticStyle:{color:"primary"}},[t._v(t._s(t.itemDetails.owner))])],1):t._e(),t.itemDetails.album?e("div",[e("v-icon",{staticStyle:{"margin-left":"-3px","margin-right":"3px"},attrs:{color:"primary",small:""}},[t._v("album")]),e("a",{staticStyle:{color:"secondary"},on:{click:function(i){return t.albumClick(t.itemDetails.album)}}},[t._v(t._s(t.itemDetails.album.name))])],1):t._e()]),e("div",{staticStyle:{"margin-left":"14px"}},[e("v-btn",{attrs:{color:"primary",tile:""},on:{click:function(i){return t.$server.$emit("showPlayMenu",t.itemDetails)}}},[e("v-icon",{attrs:{left:""}},[t._v("play_circle_filled")]),t._v(" "+t._s(t.$t("play"))+" ")],1),t.$store.state.isMobile||t.itemDetails.in_library?t._e():e("v-btn",{staticStyle:{"margin-left":"10px"},attrs:{color:"primary",tile:""},on:{click:function(i){return t.toggleLibrary(t.itemDetails)}}},[e("v-icon",{attrs:{left:""}},[t._v("favorite_border")]),t._v(" "+t._s(t.$t("add_library"))+" ")],1),!t.$store.state.isMobile&&t.itemDetails.in_library?e("v-btn",{staticStyle:{"margin-left":"10px"},attrs:{color:"primary",tile:""},on:{click:function(i){return t.toggleLibrary(t.itemDetails)}}},[e("v-icon",{attrs:{left:""}},[t._v("favorite")]),t._v(" "+t._s(t.$t("remove_library"))+" ")],1):t._e()],1),e("v-card-subtitle",{staticClass:"body-2 justify-left"},[t.showFullInfo?e("span",{domProps:{innerHTML:t._s(t.getDescription())}}):e("span",{domProps:{innerHTML:t._s(t.truncateText(t.getDescription(),t.$store.state.isMobile?180:380))}}),t.showFullInfo?e("v-icon",{on:{click:function(i){t.showFullInfo=!1}}},[t._v("mdi-chevron-up")]):e("v-icon",{on:{click:function(i){t.showFullInfo=!0}}},[t._v("mdi-chevron-down")])],1),t.itemDetails&&t.itemDetails.metadata.genres?e("div",{staticClass:"justify-center",staticStyle:{"margin-left":"15px"}},t._l(t.itemDetails.metadata.genres,(function(i){return e("v-chip",{key:i,staticStyle:{"margin-right":"5px","margin-bottom":"5px"},attrs:{color:"blue-grey lighten-1",small:"",outlined:""}},[t._v(t._s(i))])})),1):t._e()],1),e("div",{staticStyle:{"margin-top":"15px"}},[e("ProviderIcons",{attrs:{providerIds:t.itemDetails.provider_ids,height:25}})],1)],1):t._e()],1)],1)],1)},c=[],m=(a("a4d3"),a("e01a"),a("4160"),a("caad"),a("fb6a"),a("b0c0"),a("159b"),a("2b0e")),d=a("e00a"),p=a("85fe");m["a"].use(p["b"]);var u=m["a"].extend({components:{ProviderIcons:d["a"]},props:["itemDetails"],data:function(){return{showFullInfo:!1}},mounted:function(){},created:function(){this.$store.state.topBarTransparent=!0},beforeDestroy:function(){this.$store.state.topBarTransparent=!1,this.$store.state.topBarContextItem=null},watch:{itemDetails:function(t){t&&(this.$store.state.topBarContextItem=t,this.$store.state.windowTitle=t.name)}},computed:{},methods:{visibilityChanged:function(t,i){this.$store.state.topBarTransparent=!!t},artistClick:function(t){var i="/artists/"+t.item_id;this.$router.push({path:i,query:{provider:t.provider}})},albumClick:function(t){var i="/albums/"+t.item_id;this.$router.push({path:i,query:{provider:t.provider}})},toggleLibrary:function(t){this.$server.toggleLibrary(t)},getDescription:function(){var t="";return this.itemDetails?this.itemDetails.metadata&&this.itemDetails.metadata.description?this.itemDetails.metadata.description:this.itemDetails.metadata&&this.itemDetails.metadata.biography?this.itemDetails.metadata.biography:this.itemDetails.metadata&&this.itemDetails.metadata.copyright?this.itemDetails.metadata.copyright:(this.itemDetails.artists&&this.itemDetails.artists.forEach((function(i){i.metadata&&i.metadata.biography&&(t=i.metadata.biography)})),t):""},truncateText:function(t,i){var a=t;return t.length>i&&(a=a.substring(0,i)+"..."),a},getQualityInfo:function(){},getUniqueProviders:function(){var t=[],i=[];if(!this.providerIds)return[];var a=this.providerIds.slice();a.sort((function(t,i){return t.quality<i.quality?1:i.quality<t.quality?-1:0}));var e,s=Object(r["a"])(a);try{for(s.s();!(e=s.n()).done;){var n=e.value;t.includes(n.provider)||(i.push(n),t.push(n.provider))}}catch(l){s.e(l)}finally{s.f()}return i},getImage:function(t){return t&&t.media_type?t.metadata&&t.metadata.image?t.metadata.image:t.album&&t.album.metadata&&t.album.metadata.image?t.album.metadata.image:t.artist&&t.artist.metadata&&t.artist.metadata.image?t.artist.metadata.image:void 0:""},getFanart:function(t){return t&&t.media_type?t.metadata&&t.metadata.fanart?t.metadata.fanart:t.album&&t.album.metadata&&t.album.metadata.fanart?t.album.metadata.fanart:t.artist&&t.artist.metadata&&t.artist.metadata.fanart?t.artist.metadata.fanart:this.getImage(t):""}}}),h=u,v=a("2877"),b=a("6544"),g=a.n(b),_=a("8336"),f=a("b0af"),y=a("99d9"),D=a("cc20"),x=a("0e8f"),k=a("132d"),w=a("adda"),$=a("a722"),I=Object(v["a"])(h,o,c,!1,null,null,null),C=I.exports;g()(I,{VBtn:_["a"],VCard:f["a"],VCardSubtitle:y["a"],VCardTitle:y["c"],VChip:D["a"],VFlex:x["a"],VIcon:k["a"],VImg:w["a"],VLayout:$["a"]});var S=a("2f62"),T={components:{ItemsListing:l["a"],InfoHeader:C},props:{item_id:String,provider:String,media_type:String},data:function(){return{activeTab:0,tabs:[]}},created:function(){this.getListing(),this.$server.$on("refresh_listing",this.getListing)},computed:Object(n["a"])(Object(n["a"])({},Object(S["c"])(["getArtist","getAlbum","getTrack","getPlaylist","getRadio"])),{},{itemDetails:function(){return"artists"===this.media_type?this.getArtist(this.item_id,this.provider):"albums"===this.media_type?this.getAlbum(this.item_id,this.provider):"tracks"===this.media_type?this.getTrack(this.item_id,this.provider):"playlists"===this.media_type?this.getPlaylist(this.item_id,this.provider):"radios"===this.media_type?this.getRadio(this.item_id,this.provider):null}}),methods:{getListing:function(){var t=this;this.$server.sendWsCommand("".concat(this.media_type,"/").concat(this.provider,"/").concat(this.item_id)),"artists"===this.media_type?this.tabs=[{label:"artist_toptracks",endpoint:"artists/".concat(this.provider,"/").concat(this.item_id,"/tracks"),media_type:"tracks",items:[]},{label:"artist_albums",endpoint:"artists/".concat(this.provider,"/").concat(this.item_id,"/albums"),media_type:"albums",items:[]}]:"albums"===this.media_type?this.tabs=[{label:"album_tracks",endpoint:"albums/".concat(this.provider,"/").concat(this.item_id,"/tracks"),media_type:"albumtracks",items:[]},{label:"album_versions",endpoint:"albums/".concat(this.provider,"/").concat(this.item_id,"/versions"),media_type:"albums",items:[]}]:"tracks"===this.media_type?this.tabs=[{label:"track_versions",endpoint:"tracks/".concat(this.provider,"/").concat(this.item_id,"/versions"),media_type:"tracks",items:[]}]:"playlists"===this.media_type&&(this.tabs=[{label:"playlist_tracks",endpoint:"playlists/".concat(this.provider,"/").concat(this.item_id,"/tracks"),media_type:"playlisttracks",items:[]}]);var i,a=Object(r["a"])(this.tabs);try{var e=function(){var a=i.value;t.$server.sendWsCommand(a.endpoint,null,(function(t){a.items=t}))};for(a.s();!(i=a.n()).done;)e()}catch(s){a.e(s)}finally{a.f()}}}},L=T,V=(a("ab4d"),a("71a3")),j=a("c671"),F=a("fe57"),P=Object(v["a"])(L,e,s,!1,null,"21cb69b6",null);i["default"]=P.exports;g()(P,{VTab:V["a"],VTabItem:j["a"],VTabs:F["a"]})},ab4d:function(t,i,a){"use strict";a("ca48")},abd2:function(t,i,a){t.exports=a.p+"img/info_gradient.4db55f47.jpg"},ca48:function(t,i,a){}}]);
//# sourceMappingURL=itemdetails.3095a2bd.js.map