(window.webpackJsonp=window.webpackJsonp||[]).push([[104],{557:function(e,t,a){"use strict";a.r(t);var v=a(21),r=Object(v.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"nonebot-adapters-ding-模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nonebot-adapters-ding-模块"}},[e._v("#")]),e._v(" NoneBot.adapters.ding 模块")]),e._v(" "),a("h2",{attrs:{id:"exception-dingadapterexception"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#exception-dingadapterexception"}},[e._v("#")]),e._v(" "),a("em",[e._v("exception")]),e._v(" "),a("code",[e._v("DingAdapterException")])]),e._v(" "),a("p",[e._v("基类："),a("router-link",{attrs:{to:"./../exception.html#nonebot.exception.AdapterException"}},[a("code",[e._v("nonebot.exception.AdapterException")])])],1),e._v(" "),a("ul",[a("li",[a("p",[a("strong",[e._v("说明")])]),e._v(" "),a("p",[e._v("钉钉 Adapter 错误基类")])])]),e._v(" "),a("h2",{attrs:{id:"exception-actionfailed"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#exception-actionfailed"}},[e._v("#")]),e._v(" "),a("em",[e._v("exception")]),e._v(" "),a("code",[e._v("ActionFailed")])]),e._v(" "),a("p",[e._v("基类："),a("router-link",{attrs:{to:"./../exception.html#nonebot.exception.ActionFailed"}},[a("code",[e._v("nonebot.exception.ActionFailed")])]),e._v(", "),a("code",[e._v("nonebot.adapters.ding.exception.DingAdapterException")])],1),e._v(" "),a("ul",[a("li",[a("p",[a("strong",[e._v("说明")])]),e._v(" "),a("p",[e._v("API 请求返回错误信息。")])]),e._v(" "),a("li",[a("p",[a("strong",[e._v("参数")])]),e._v(" "),a("ul",[a("li",[a("p",[a("code",[e._v("errcode: Optional[int]")]),e._v(": 错误码")])]),e._v(" "),a("li",[a("p",[a("code",[e._v("errmsg: Optional[str]")]),e._v(": 错误信息")])])])])]),e._v(" "),a("h2",{attrs:{id:"exception-apinotavailable"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#exception-apinotavailable"}},[e._v("#")]),e._v(" "),a("em",[e._v("exception")]),e._v(" "),a("code",[e._v("ApiNotAvailable")])]),e._v(" "),a("p",[e._v("基类："),a("router-link",{attrs:{to:"./../exception.html#nonebot.exception.ApiNotAvailable"}},[a("code",[e._v("nonebot.exception.ApiNotAvailable")])]),e._v(", "),a("code",[e._v("nonebot.adapters.ding.exception.DingAdapterException")])],1),e._v(" "),a("h2",{attrs:{id:"exception-networkerror"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#exception-networkerror"}},[e._v("#")]),e._v(" "),a("em",[e._v("exception")]),e._v(" "),a("code",[e._v("NetworkError")])]),e._v(" "),a("p",[e._v("基类："),a("router-link",{attrs:{to:"./../exception.html#nonebot.exception.NetworkError"}},[a("code",[e._v("nonebot.exception.NetworkError")])]),e._v(", "),a("code",[e._v("nonebot.adapters.ding.exception.DingAdapterException")])],1),e._v(" "),a("ul",[a("li",[a("p",[a("strong",[e._v("说明")])]),e._v(" "),a("p",[e._v("网络错误。")])]),e._v(" "),a("li",[a("p",[a("strong",[e._v("参数")])]),e._v(" "),a("ul",[a("li",[a("code",[e._v("retcode: Optional[int]")]),e._v(": 错误码")])])])]),e._v(" "),a("h2",{attrs:{id:"exception-sessionexpired"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#exception-sessionexpired"}},[e._v("#")]),e._v(" "),a("em",[e._v("exception")]),e._v(" "),a("code",[e._v("SessionExpired")])]),e._v(" "),a("p",[e._v("基类："),a("router-link",{attrs:{to:"./../exception.html#nonebot.exception.ApiNotAvailable"}},[a("code",[e._v("nonebot.exception.ApiNotAvailable")])]),e._v(", "),a("code",[e._v("nonebot.adapters.ding.exception.DingAdapterException")])],1),e._v(" "),a("ul",[a("li",[a("p",[a("strong",[e._v("说明")])]),e._v(" "),a("p",[e._v("发消息的 session 已经过期。")])])]),e._v(" "),a("h2",{attrs:{id:"class-bot"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#class-bot"}},[e._v("#")]),e._v(" "),a("em",[e._v("class")]),e._v(" "),a("code",[e._v("Bot")])]),e._v(" "),a("p",[e._v("基类："),a("router-link",{attrs:{to:"./#nonebot.adapters.BaseBot"}},[a("code",[e._v("nonebot.adapters.BaseBot")])])],1),e._v(" "),a("p",[e._v("钉钉 协议 Bot 适配。继承属性参考 "),a("router-link",{attrs:{to:"./#class-basebot"}},[e._v("BaseBot")]),e._v(" 。")],1),e._v(" "),a("h3",{attrs:{id:"property-type"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#property-type"}},[e._v("#")]),e._v(" "),a("em",[e._v("property")]),e._v(" "),a("code",[e._v("type")])]),e._v(" "),a("ul",[a("li",[e._v("返回: "),a("code",[e._v('"ding"')])])]),e._v(" "),a("h3",{attrs:{id:"async-classmethod-check-permission-driver-connection-type-headers-body"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#async-classmethod-check-permission-driver-connection-type-headers-body"}},[e._v("#")]),e._v(" "),a("em",[e._v("async classmethod")]),e._v(" "),a("code",[e._v("check_permission(driver, connection_type, headers, body)")])]),e._v(" "),a("ul",[a("li",[a("p",[a("strong",[e._v("说明")])]),e._v(" "),a("p",[e._v("钉钉协议鉴权。参考 "),a("a",{attrs:{href:"https://ding-doc.dingtalk.com/doc#/serverapi2/elzz1p",target:"_blank",rel:"noopener noreferrer"}},[e._v("鉴权"),a("OutboundLink")],1)])])]),e._v(" "),a("h3",{attrs:{id:"async-handle-message-body"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#async-handle-message-body"}},[e._v("#")]),e._v(" "),a("em",[e._v("async")]),e._v(" "),a("code",[e._v("handle_message(body)")])]),e._v(" "),a("ul",[a("li",[a("p",[a("strong",[e._v("说明")])]),e._v(" "),a("p",[e._v("处理上报消息的函数，转换为 "),a("code",[e._v("Event")]),e._v(" 事件后调用 "),a("code",[e._v("nonebot.message.handle_event")]),e._v(" 进一步处理事件。")])]),e._v(" "),a("li",[a("p",[a("strong",[e._v("参数")])]),e._v(" "),a("ul",[a("li",[a("code",[e._v("message: dict")]),e._v(": 收到的上报消息")])])])]),e._v(" "),a("h3",{attrs:{id:"async-call-api-api-event-none-data"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#async-call-api-api-event-none-data"}},[e._v("#")]),e._v(" "),a("em",[e._v("async")]),e._v(" "),a("code",[e._v("call_api(api, event=None, **data)")])]),e._v(" "),a("ul",[a("li",[a("p",[a("strong",[e._v("说明")])]),e._v(" "),a("p",[e._v("调用 钉钉 协议 API")])]),e._v(" "),a("li",[a("p",[a("strong",[e._v("参数")])]),e._v(" "),a("ul",[a("li",[a("p",[a("code",[e._v("api: str")]),e._v(": API 名称")])]),e._v(" "),a("li",[a("p",[a("code",[e._v("**data: Any")]),e._v(": API 参数")])])])]),e._v(" "),a("li",[a("p",[a("strong",[e._v("返回")])]),e._v(" "),a("ul",[a("li",[a("code",[e._v("Any")]),e._v(": API 调用返回数据")])])]),e._v(" "),a("li",[a("p",[a("strong",[e._v("异常")])]),e._v(" "),a("ul",[a("li",[a("p",[a("code",[e._v("NetworkError")]),e._v(": 网络错误")])]),e._v(" "),a("li",[a("p",[a("code",[e._v("ActionFailed")]),e._v(": API 调用失败")])])])])]),e._v(" "),a("h3",{attrs:{id:"async-send-event-message-at-sender-false-kwargs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#async-send-event-message-at-sender-false-kwargs"}},[e._v("#")]),e._v(" "),a("em",[e._v("async")]),e._v(" "),a("code",[e._v("send(event, message, at_sender=False, **kwargs)")])]),e._v(" "),a("ul",[a("li",[a("p",[a("strong",[e._v("说明")])]),e._v(" "),a("p",[e._v("根据 "),a("code",[e._v("event")]),e._v("  向触发事件的主体发送消息。")])]),e._v(" "),a("li",[a("p",[a("strong",[e._v("参数")])]),e._v(" "),a("ul",[a("li",[a("p",[a("code",[e._v("event: Event")]),e._v(": Event 对象")])]),e._v(" "),a("li",[a("p",[a("code",[e._v("message: Union[str, Message, MessageSegment]")]),e._v(": 要发送的消息")])]),e._v(" "),a("li",[a("p",[a("code",[e._v("at_sender: bool")]),e._v(": 是否 @ 事件主体")])]),e._v(" "),a("li",[a("p",[a("code",[e._v("**kwargs")]),e._v(": 覆盖默认参数")])])])]),e._v(" "),a("li",[a("p",[a("strong",[e._v("返回")])]),e._v(" "),a("ul",[a("li",[a("code",[e._v("Any")]),e._v(": API 调用返回数据")])])]),e._v(" "),a("li",[a("p",[a("strong",[e._v("异常")])]),e._v(" "),a("ul",[a("li",[a("p",[a("code",[e._v("ValueError")]),e._v(": 缺少 "),a("code",[e._v("user_id")]),e._v(", "),a("code",[e._v("group_id")])])]),e._v(" "),a("li",[a("p",[a("code",[e._v("NetworkError")]),e._v(": 网络错误")])]),e._v(" "),a("li",[a("p",[a("code",[e._v("ActionFailed")]),e._v(": API 调用失败")])])])])]),e._v(" "),a("h2",{attrs:{id:"class-event"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#class-event"}},[e._v("#")]),e._v(" "),a("em",[e._v("class")]),e._v(" "),a("code",[e._v("Event")])]),e._v(" "),a("p",[e._v("基类："),a("router-link",{attrs:{to:"./#nonebot.adapters.BaseEvent"}},[a("code",[e._v("nonebot.adapters.BaseEvent")])])],1),e._v(" "),a("p",[e._v("钉钉 协议 Event 适配。继承属性参考 "),a("router-link",{attrs:{to:"./#class-baseevent"}},[e._v("BaseEvent")]),e._v(" 。")],1),e._v(" "),a("h3",{attrs:{id:"property-raw-event"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#property-raw-event"}},[e._v("#")]),e._v(" "),a("em",[e._v("property")]),e._v(" "),a("code",[e._v("raw_event")])]),e._v(" "),a("p",[e._v("原始上报消息")]),e._v(" "),a("h3",{attrs:{id:"property-id"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#property-id"}},[e._v("#")]),e._v(" "),a("em",[e._v("property")]),e._v(" "),a("code",[e._v("id")])]),e._v(" "),a("ul",[a("li",[a("p",[e._v("类型: "),a("code",[e._v("Optional[str]")])])]),e._v(" "),a("li",[a("p",[e._v("说明: 消息 ID")])])]),e._v(" "),a("h3",{attrs:{id:"property-name"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#property-name"}},[e._v("#")]),e._v(" "),a("em",[e._v("property")]),e._v(" "),a("code",[e._v("name")])]),e._v(" "),a("ul",[a("li",[a("p",[e._v("类型: "),a("code",[e._v("str")])])]),e._v(" "),a("li",[a("p",[e._v("说明: 事件名称，由 type.`detail_type` 组合而成")])])]),e._v(" "),a("h3",{attrs:{id:"property-self-id"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#property-self-id"}},[e._v("#")]),e._v(" "),a("em",[e._v("property")]),e._v(" "),a("code",[e._v("self_id")])]),e._v(" "),a("ul",[a("li",[a("p",[e._v("类型: "),a("code",[e._v("str")])])]),e._v(" "),a("li",[a("p",[e._v("说明: 机器人自身 ID")])])]),e._v(" "),a("h3",{attrs:{id:"property-time"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#property-time"}},[e._v("#")]),e._v(" "),a("em",[e._v("property")]),e._v(" "),a("code",[e._v("time")])]),e._v(" "),a("ul",[a("li",[a("p",[e._v("类型: "),a("code",[e._v("int")])])]),e._v(" "),a("li",[a("p",[e._v("说明: 消息的时间戳，单位 s")])])]),e._v(" "),a("h3",{attrs:{id:"property-type-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#property-type-2"}},[e._v("#")]),e._v(" "),a("em",[e._v("property")]),e._v(" "),a("code",[e._v("type")])]),e._v(" "),a("ul",[a("li",[a("p",[e._v("类型: "),a("code",[e._v("str")])])]),e._v(" "),a("li",[a("p",[e._v("说明: 事件类型")])])]),e._v(" "),a("h3",{attrs:{id:"property-detail-type"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#property-detail-type"}},[e._v("#")]),e._v(" "),a("em",[e._v("property")]),e._v(" "),a("code",[e._v("detail_type")])]),e._v(" "),a("ul",[a("li",[a("p",[e._v("类型: "),a("code",[e._v("str")])])]),e._v(" "),a("li",[a("p",[e._v("说明: 事件详细类型")])])]),e._v(" "),a("h3",{attrs:{id:"property-sub-type"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#property-sub-type"}},[e._v("#")]),e._v(" "),a("em",[e._v("property")]),e._v(" "),a("code",[e._v("sub_type")])]),e._v(" "),a("ul",[a("li",[a("p",[e._v("类型: "),a("code",[e._v("None")])])]),e._v(" "),a("li",[a("p",[e._v("说明: 钉钉适配器无事件子类型")])])]),e._v(" "),a("h3",{attrs:{id:"property-user-id"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#property-user-id"}},[e._v("#")]),e._v(" "),a("em",[e._v("property")]),e._v(" "),a("code",[e._v("user_id")])]),e._v(" "),a("ul",[a("li",[a("p",[e._v("类型: "),a("code",[e._v("Optional[str]")])])]),e._v(" "),a("li",[a("p",[e._v("说明: 发送者 ID")])])]),e._v(" "),a("h3",{attrs:{id:"property-group-id"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#property-group-id"}},[e._v("#")]),e._v(" "),a("em",[e._v("property")]),e._v(" "),a("code",[e._v("group_id")])]),e._v(" "),a("ul",[a("li",[a("p",[e._v("类型: "),a("code",[e._v("Optional[str]")])])]),e._v(" "),a("li",[a("p",[e._v("说明: 事件主体群 ID")])])]),e._v(" "),a("h3",{attrs:{id:"property-to-me"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#property-to-me"}},[e._v("#")]),e._v(" "),a("em",[e._v("property")]),e._v(" "),a("code",[e._v("to_me")])]),e._v(" "),a("ul",[a("li",[a("p",[e._v("类型: "),a("code",[e._v("Optional[bool]")])])]),e._v(" "),a("li",[a("p",[e._v("说明: 消息是否与机器人相关")])])]),e._v(" "),a("h3",{attrs:{id:"property-message"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#property-message"}},[e._v("#")]),e._v(" "),a("em",[e._v("property")]),e._v(" "),a("code",[e._v("message")])]),e._v(" "),a("ul",[a("li",[a("p",[e._v("类型: "),a("code",[e._v("Optional[Message]")])])]),e._v(" "),a("li",[a("p",[e._v("说明: 消息内容")])])]),e._v(" "),a("h3",{attrs:{id:"property-reply"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#property-reply"}},[e._v("#")]),e._v(" "),a("em",[e._v("property")]),e._v(" "),a("code",[e._v("reply")])]),e._v(" "),a("ul",[a("li",[a("p",[e._v("类型: "),a("code",[e._v("None")])])]),e._v(" "),a("li",[a("p",[e._v("说明: 回复消息详情")])])]),e._v(" "),a("h3",{attrs:{id:"property-raw-message"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#property-raw-message"}},[e._v("#")]),e._v(" "),a("em",[e._v("property")]),e._v(" "),a("code",[e._v("raw_message")])]),e._v(" "),a("ul",[a("li",[a("p",[e._v("类型: "),a("code",[e._v("Optional[str]")])])]),e._v(" "),a("li",[a("p",[e._v("说明: 原始消息")])])]),e._v(" "),a("h3",{attrs:{id:"property-plain-text"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#property-plain-text"}},[e._v("#")]),e._v(" "),a("em",[e._v("property")]),e._v(" "),a("code",[e._v("plain_text")])]),e._v(" "),a("ul",[a("li",[a("p",[e._v("类型: "),a("code",[e._v("Optional[str]")])])]),e._v(" "),a("li",[a("p",[e._v("说明: 纯文本消息内容")])])]),e._v(" "),a("h3",{attrs:{id:"property-sender"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#property-sender"}},[e._v("#")]),e._v(" "),a("em",[e._v("property")]),e._v(" "),a("code",[e._v("sender")])]),e._v(" "),a("ul",[a("li",[a("p",[e._v("类型: "),a("code",[e._v("Optional[dict]")])])]),e._v(" "),a("li",[a("p",[e._v("说明: 消息发送者信息")])])]),e._v(" "),a("h2",{attrs:{id:"class-messagesegment"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#class-messagesegment"}},[e._v("#")]),e._v(" "),a("em",[e._v("class")]),e._v(" "),a("code",[e._v("MessageSegment")])]),e._v(" "),a("p",[e._v("基类："),a("router-link",{attrs:{to:"./#nonebot.adapters.BaseMessageSegment"}},[a("code",[e._v("nonebot.adapters.BaseMessageSegment")])])],1),e._v(" "),a("p",[e._v("钉钉 协议 MessageSegment 适配。具体方法参考协议消息段类型或源码。")]),e._v(" "),a("h3",{attrs:{id:"static-actioncardsinglemultibtns-title-text-btns-hideavatar-false-btnorientation-1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#static-actioncardsinglemultibtns-title-text-btns-hideavatar-false-btnorientation-1"}},[e._v("#")]),e._v(" "),a("em",[e._v("static")]),e._v(" "),a("code",[e._v("actionCardSingleMultiBtns(title, text, btns=[], hideAvatar=False, btnOrientation='1')")])]),e._v(" "),a("ul",[a("li",[a("p",[a("strong",[e._v("参数")])]),e._v(" "),a("ul",[a("li",[a("p",[a("code",[e._v("btnOrientation")]),e._v(": 0：按钮竖直排列 1：按钮横向排列")])]),e._v(" "),a("li",[a("p",[a("code",[e._v("btns")]),e._v(': [{ "title": title, "actionURL": actionURL }, ...]')])])])])]),e._v(" "),a("h3",{attrs:{id:"static-feedcard-links"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#static-feedcard-links"}},[e._v("#")]),e._v(" "),a("em",[e._v("static")]),e._v(" "),a("code",[e._v("feedCard(links=[])")])]),e._v(" "),a("ul",[a("li",[a("p",[a("strong",[e._v("参数")])]),e._v(" "),a("ul",[a("li",[a("code",[e._v("links")]),e._v(': [{ "title": xxx, "messageURL": xxx, "picURL": xxx }, ...]')])])])]),e._v(" "),a("h3",{attrs:{id:"static-empty"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#static-empty"}},[e._v("#")]),e._v(" "),a("em",[e._v("static")]),e._v(" "),a("code",[e._v("empty()")])]),e._v(" "),a("p",[e._v("不想回复消息到群里")]),e._v(" "),a("h2",{attrs:{id:"class-message"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#class-message"}},[e._v("#")]),e._v(" "),a("em",[e._v("class")]),e._v(" "),a("code",[e._v("Message")])]),e._v(" "),a("p",[e._v("基类："),a("router-link",{attrs:{to:"./#nonebot.adapters.BaseMessage"}},[a("code",[e._v("nonebot.adapters.BaseMessage")])])],1),e._v(" "),a("p",[e._v("钉钉 协议 Message 适配。")])])}),[],!1,null,null,null);t.default=r.exports}}]);