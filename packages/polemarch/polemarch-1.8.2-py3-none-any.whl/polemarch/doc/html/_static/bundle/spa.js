window.spa=function(e){function t(t){for(var r,a,s=t[0],l=t[1],c=t[2],f=0,p=[];f<s.length;f++)a=s[f],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(u&&u(t);p.length;)p.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var l=n[s];0!==o[l]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={6:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/static/bundle/";var s=window.webpackJsonp_name_=window.webpackJsonp_name_||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;return i.push([158,2,1,5,0]),n()}({135:function(e,t,n){var r=n(12),o=n(136);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});e.exports=a},136:function(e,t,n){(t=n(13)(!1)).push([e.i,".ansi-black-fg{color:#000000}.ansi-red-fg{color:#ff6060}.ansi-green-fg{color:#60ff60}.ansi-yellow-fg{color:#ffff36}.ansi-blue-fg{color:#6060ff}.ansi-magenta-fg{color:#ff36ff}.ansi-cyan-fg{color:#36ffff}.ansi-white-fg{color:#ececec}.ansi-bright-black-fg{color:#363636}.ansi-bright-red-fg{color:#ff8080}.ansi-bright-green-fg{color:#80ff80}.ansi-bright-yellow-fg{color:#ffff80}.ansi-bright-blue-fg{color:#8080ff}.ansi-bright-magenta-fg{color:#ff80ff}.ansi-bright-cyan-fg{color:#80ffff}.ansi-bright-white-fg{color:#ffffff}.ansi-black-bg{background-color:#000000}.ansi-red-bg{background-color:#ff6060}.ansi-green-bg{background-color:#60ff60}.ansi-yellow-bg{background-color:#ffff36}.ansi-blue-bg{background-color:#6060ff}.ansi-magenta-bg{background-color:#ff36ff}.ansi-cyan-bg{background-color:#36ffff}.ansi-white-bg{background-color:#ececec}.ansi-bright-black-bg{background-color:#363636}.ansi-bright-red-bg{background-color:#ff8080}.ansi-bright-green-bg{background-color:#80ff80}.ansi-bright-yellow-bg{background-color:#ffff80}.ansi-bright-blue-bg{background-color:#8080ff}.ansi-bright-magenta-bg{background-color:#ff80ff}.ansi-bright-cyan-bg{background-color:#80ffff}.ansi-bright-white-bg{background-color:#ffffff}\n",""]),e.exports=t},158:function(e,t,n){"use strict";n.r(t),n.d(t,"TabSignal",(function(){return y.a})),n.d(t,"signals",(function(){return v.a})),n.d(t,"colors",(function(){return r})),n.d(t,"ComponentsRegistrator",(function(){return c.a})),n.d(t,"globalComponentsRegistrator",(function(){return c.b})),n.d(t,"AppRoot",(function(){return d.a})),n.d(t,"utils",(function(){return p})),n.d(t,"guiCustomizer",(function(){return D})),n.d(t,"setupVue",(function(){return B})),n.d(t,"popUp",(function(){return f})),n.d(t,"fields",(function(){return u})),n.d(t,"components",(function(){return F})),n.d(t,"models",(function(){return b})),n.d(t,"querySet",(function(){return H})),n.d(t,"views",(function(){return g})),n.d(t,"store",(function(){return h})),n.d(t,"router",(function(){return m})),n.d(t,"api",(function(){return l})),n.d(t,"users",(function(){return U})),n.d(t,"dashboard",(function(){return $})),n.d(t,"BaseWidget",(function(){return $.BaseWidget})),n.d(t,"CounterWidget",(function(){return $.CounterWidget})),n.d(t,"CardWidget",(function(){return $.CardWidget})),n.d(t,"App",(function(){return J}));var r={};n.r(r),n.d(r,"AnsiUp",(function(){return V.a})),n.d(r,"ansiToHTML",(function(){return W}));var o=n(14),i=n.n(o),a=n(18),s=n(26),l=n(17),c=n(5),u=n(11),f=n(6),p=n(3),d=n(32);var g=n(21),h=n(48),b=n(22),m=n(29),w=n(38),y=n.n(w),v=n(7),k=n(19),O=(n(109),n(110),n(112),n(114),n(73),n(20)),j=n.n(O),C=(n(118),n(58)),P=n.n(C),_=n(57),A=n.n(_),T=n(15),x=n.n(T),M=n(34),S=n.n(M),L=(n(121),n(56)),R=n.n(L),I=(n(68),n(69),n(70)),V=n.n(I);n(135);const E=new V.a;function W(e){return E.ansi_to_html(e).replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;")}E.use_classes=!0;var D=n(54),B=n(75),F=n(77),H=n(30),U=n(55),$=n(37);n(76);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}k.a.fn.select2.defaults.set("theme","bootstrap"),n(115),n(116),window.moment=j.a,window.md5=P.a,window.Visibility=A.a,window.IMask=x.a,window.iziToast=S.a,window.autoComplete=R.a;class J extends class{constructor(e,t){this.schema=e,this.cache=t,this.api=l.apiConnector,this.error_handler=new f.ErrorHandler,this.languages=null,this.translations=null,this.user=null,this.global_components=c.b,this.appRootComponent=d.a}afterInitialDataBeforeMount(){}start(){let e=p.guiLocalSettings.get("lang")||"en",t=[this.api.getLanguages(),this.api.getTranslations(e),this.api.loadUser()];return Promise.all(t).then(t=>{this.languages=t[0],this.translations={[e]:t[1]},this.user=t[2],u.fieldsRegistrator.registerAllFieldsComponents(),this.global_components.registerAll(),this.afterInitialDataBeforeMount(),this.mountApplication()}).catch(e=>{throw console.error(e),new Error(e)})}changeAppRootComponent(e){this.appRootComponent=e}resetAppRootComponent(){this.appRootComponent=d.a}mountApplication(){}}{constructor(e,t){super(e,t),this.models=null,this.views=null,this.application=null}afterInitialDataBeforeMount(){this.initModels(),this.initViews()}initModels(){this.models=this.generateModels()}generateModels(){return new b.ModelConstructor(l.openapi_dictionary,b.guiModels).generateModels(this.api.openapi)}initViews(){this.views=this.generateViews(),this.prepareViewsModelsFields()}generateViews(){return new g.ViewConstructor(l.openapi_dictionary,this.models).generateViews(g.View,this.api.openapi)}prepareViewsModelsFields(){for(let e in this.views)if(Object.prototype.hasOwnProperty.call(this.views,e)){let t=this.views[e];for(let n in t.objects.model.fields)if(Object.prototype.hasOwnProperty.call(t.objects.model.fields,n)){let r=t.objects.model.fields[n];if(r.constructor.prepareField){let o=r.constructor.prepareField(r,e);t.objects.model.fields[n]=o}}}}setLanguage(e){return this._prefetchTranslation(e).then(e=>(this.application.$i18n.locale=e,p.guiLocalSettings.set("lang",e),window.spa.signals.emit("app.language.changed",{lang:e}),e))}_prefetchTranslation(e){return Object.values(this.languages).map(e=>e.code).includes(e)?this.translations[e]?Promise.resolve(e):this.api.getTranslations(e).then(t=>(this.translations=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.translations,{[e]:t}),this.application.$i18n.setLocaleMessage(e,t),e)).catch(e=>{throw e}):Promise.reject(!1)}mountApplication(){window.spa.signals.emit("app.beforeInit",{app:this});let e=new h.StoreConstructor(this.views);window.spa.signals.emit("app.beforeInitStore",{storeConstructor:e});let t=new m.RouterConstructor(this.views,m.mixins.routesComponentsTemplates,m.mixins.customRoutesComponentsTemplates);window.spa.signals.emit("app.beforeInitRouter",{routerConstructor:t});let n=new s.a({locale:p.guiLocalSettings.get("lang")||"en",messages:this.translations,silentTranslationWarn:!0});this.application=new a.a({mixins:[this.appRootComponent],propsData:{info:this.api.openapi.info,x_menu:this.api.openapi.info["x-menu"],x_docs:this.api.openapi.info["x-docs"],a_links:!1},router:t.getRouter(),store:e.getStore(),i18n:n}).$mount("#RealBody"),window.spa.signals.emit("app.afterInit",{app:this})}}window.App=J},31:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(4),o=n.n(r),i=n(8),a=n.n(i);function s(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}class c{constructor(e,t="js",n,r){this.path=e,this.type=t,this.fileLoadedCallback=n,this.fileAddedToPageCallback=r}startLoading(){this.loaded=fetch(this.path).then(e=>e.text()).then(e=>(this.fileLoadedCallback&&this.fileLoadedCallback(this.path,this.type),e))}startAddingToPageWhenLoaded(){this.addedToPage=this.loaded.then(e=>{this._addToPage(e),this.fileAddedToPageCallback&&this.fileAddedToPageCallback(this.path,this.type)})}_addToPage(e){if("js"===this.type)window.eval(e);else if("css"===this.type){const t=document.createElement("style");t.setAttribute("rel","stylesheet"),t.innerHTML=e,t.dataset.url=this.path,document.head.appendChild(t)}else if("tpl"===this.type){const t=document.createElement("div");t.innerHTML=e,document.body.appendChild(t)}}}class u{constructor(e,t,n){if(this.buckets=[],0===e.length)return;const r=Object.entries((o=e,i="priority",o.reduce((function(e,t){return(e[t[i]]=e[t[i]]||[]).push(t),e}),{}))).sort((e,t)=>Number(e[0])-Number(t[0])).map(e=>e[1]);var o,i;this.buckets=r.map(e=>e.map(e=>new c(e.name,e.type,t,n)))}loadAndAddToPageAllFiles(){var e=this;return a()(o.a.mark((function t(){var n,r,i,a,l,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.buckets.flat().forEach(e=>e.startLoading()),n=s(e.buckets),t.prev=2,n.s();case 4:if((r=n.n()).done){t.next=26;break}(i=r.value).forEach(e=>e.startAddingToPageWhenLoaded()),a=s(i),t.prev=8,a.s();case 10:if((l=a.n()).done){t.next=16;break}return c=l.value,t.next=14,c.addedToPage;case 14:t.next=10;break;case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(8),a.e(t.t0);case 21:return t.prev=21,a.f(),t.finish(21);case 24:t.next=4;break;case 26:t.next=31;break;case 28:t.prev=28,t.t1=t.catch(2),n.e(t.t1);case 31:return t.prev=31,n.f(),t.finish(31);case 34:case"end":return t.stop()}}),t,null,[[2,28,31,34],[8,18,21,24]])})))()}}}});