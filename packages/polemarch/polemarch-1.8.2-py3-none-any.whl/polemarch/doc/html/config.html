
<!DOCTYPE html>
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
   <meta name="robots" content="NONE,NOARCHIVE" />
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
   <title>'Polemarch' documentation</title>
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <script type="text/javascript" src="_static/bundle/vstutils.chunk.js"></script>
    <script type="text/javascript" src="_static/bundle/auth~doc~spa.chunk.js"></script>
    <script type="text/javascript" src="_static/bundle/doc.js"></script>
    <link rel="stylesheet" href="_static/ce-docs.css" type="text/css" />
   <link rel="shortcut icon" href="_static/img/logo/favicon.ico" />
    <script>
        window.hostname = window.location.origin || window.location.protocol + "//" + window.location.host
    </script>
    <script type="text/javascript" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script> 
</head>

<body class="hold-transition gui-skin-default sidebar-mini">
<div id="loader-wrapper">
    <div id="loader"></div>
</div>
<div class="wrapper" >
    
    <a href="https://github.com/vstconsulting/polemarch" class="fork-me">
        <img src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub" />
    </a>
    
    <header class="main-header">
        <!-- Header Navbar: style can be found in header.less -->
        <nav class="navbar navbar-static-top">
            <!-- Sidebar toggle button-->
            <a class="nav-link" data-widget="pushmenu" onclick="saveHideMenuSettings()" href="#"><i class="fa fa-bars  ico-data-default"></i></a>
        </nav>
    </header>
    <!-- Left side column. contains the logo and sidebar -->
    <aside class="main-sidebar sidebar-dark-primary elevation-4">
        <!-- Logo  -->
        
    <!-- Logo -->
    <a href="index.html"  id="root_link" class="brand-link logo app-logo">
        <img src="_static/img/logo/logo.png" alt="" class="brand-image img-circle elevation-3" style="opacity: .8; float: inherit">
        <img src="_static/img/logo/horizontal.svg" class="brand-image text-logo" style="opacity: .8">
    </a>

        <!-- sidebar: style can be found in sidebar.less -->
        <div class="sidebar">
            <!-- sidebar menu: : style can be found in sidebar.less -->

        <nav class="mt-2">
            <ul class="sidebar-menu nav nav-pills nav-sidebar flex-column ico-menu" data-widget="treeview" role="menu" data-accordion="false">
                <li class="nav-header">DOCS NAVIGATION</li>
                <ul>
<li class="toctree-l1"><a class="reference internal" href="index.html">Home</a></li>
</ul>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Configuration manual</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#polemarch-clustering-overview">Polemarch clustering overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#main-settings">Main settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="#database-settings">Database settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cache-settings">Cache settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="#locks-settings">Locks settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="#session-cache-settings">Session cache settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="#rpc-settings">Rpc settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="#worker-settings">Worker settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="#web-settings">Web settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="#git-settings">Git settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="#production-web-settings">Production web settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configuration-options">Configuration options</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installation-of-additional-packages-to-polemarch">Installation of additional packages to Polemarch</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="gui.html">GUI workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="contribute.html">How to participate</a></li>
<li class="toctree-l1"><a class="reference internal" href="cla.html">VST Consulting contributor agreement</a></li>
</ul>

            </ul>
            <!-- github link  -->
            
                
                <h3>Watch us on GitHub</h3>
                <p>
                <iframe src="https://ghbtns.com/github-btn.html?user=vstconsulting&repo=polemarch&type=watch&count=true&size=large&v=2"
                  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
                </p>
                
            
            <!-- quick search -->
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" class="search-input-docs rounded-left"/>
      <span class="search-button-wrapper rounded-right">
          <span class="fa fa-search search-button-icon"></span>
          <input type="submit" value="   " class="search-button-input" />
      </span>

      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </nav>
        </div>
        <!-- /.sidebar -->
    </aside>

    <!-- Content Wrapper. Contains page content -->
    <div class="content-wrapper" id='spajs-right-area'>
        <!--  Main content -->

        <!-- For notification about not up-to-date-version -->
        <div class="body" role="main"></div>
        <!-- -->

        <section class="content-header">
                <h1>'Polemarch' documentation</h1>
        </section>
        <section class="content">
            <div class="container-fluid">
                <div class="card card-info">
                    <div class="card-body">
                             
  <div class="section" id="configuration-manual">
<h1>Configuration manual<a class="headerlink" href="#configuration-manual" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>Default installation is suitable for most simple and common cases, but
Polemarch is highly configurable system. If you need something more advanced
(scalability, dedicated DB, custom cache, logging or directories) you can
always configure Polemarch deeply by tweaking <code class="docutils literal notranslate"><span class="pre">/etc/polemarch/settings.ini</span></code>.</p>
<p>This manual does not have purpose to describe all possible configuration
options in details because <code class="docutils literal notranslate"><span class="pre">settings.ini</span></code> has commentary for every option
which makes clear its purpose and possible values. But here is a brief overview
of the most important settings to make clear for you big picture: what you can
actually customize in Polemarch.</p>
<p>We advice you to read <a class="reference internal" href="#cluster"><span class="std std-ref">Polemarch clustering overview</span></a> if you want to setup cluster of
Polemarch nodes to maintain reliability or speedup things. It will give you
understanding of services, which are included into Polemarch and how to distribute them
between the nodes to reach your goal.</p>
</div>
<div class="section" id="polemarch-clustering-overview">
<span id="cluster"></span><h2>Polemarch clustering overview<a class="headerlink" href="#polemarch-clustering-overview" title="Permalink to this headline">¶</a></h2>
<p>Polemarch actually consists of two services: web-server and worker. Polemarch
uses worker for long-running tasks (such as <code class="docutils literal notranslate"><span class="pre">ansible-playbook</span></code> runs, repo
synchronizations and so on). Those services are designed as systemd services
you can control using regular distro-tools for service manipulation.
You can run more than one server with those services. In default configuration
those services uses local file system to keep data and exchange with each
other, but for multiple nodes they must be configured to use shared
client-server database, cache server and network filesystem (for multiple
workers). All those settings are described in appropriate sections of this
documentation. It is up to you to make sure that configuration identical on
every node to prevent discordant behaviour of nodes. If you have multiple
web-servers, don’t forget to setup HAProxy or something similar for balancing
load between them.</p>
<p>Lets assume, that you want to create 2 servers with web-part of Polemarch
to maintain reliability of your admin-panel and 4 servers with workers to
prevent denial for service because of overloading. Then briefly (it is mostly
example than general howto) you must do such steps:</p>
<ol class="arabic">
<li><p>Install Polemarch from PyPI at every server with worker and web-server by
<a class="reference internal" href="quickstart.html"><span class="doc">installation instructions</span></a>. We recommend to install virtual
environment in <code class="docutils literal notranslate"><span class="pre">/opt/polemarch</span></code> and set as owner user <code class="docutils literal notranslate"><span class="pre">polemarch</span></code>
(need to be created).</p></li>
<li><p>Setup some network filesystem (NFS, Samba, GlusterFS, Ceph).
NFS, for example. Mount it in the same directory
of all worker-intended nodes. Write this directory in <a class="reference internal" href="#main"><span class="std std-ref">Main settings</span></a>.
Example:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[main]</span>
<span class="na">projects_dir</span> <span class="o">=</span> <span class="s">/mnt/mystorage/projects</span>
<span class="na">hooks_dir</span> <span class="o">=</span> <span class="s">/mnt/mystorage/hooks</span>
</pre></div>
</div>
</li>
<li><p>Setup some http-balancer. HAProxy, for example. Point it to web-intended
nodes.</p>
<blockquote>
<div><div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>You can setup ssl for Polemarch endpoints in this step.</p>
</div>
</div></blockquote>
</li>
<li><p>Create polemarch systemd service:</p>
<ol class="arabic">
<li><p>Firtsly, create a file <code class="docutils literal notranslate"><span class="pre">/etc/systemd/system/polemarch.service</span></code>:</p>
<blockquote>
<div><div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[Unit]</span>
<span class="na">Description</span><span class="o">=</span><span class="s">Polemarch Service HTTP Server</span>
<span class="na">After</span><span class="o">=</span><span class="s">network.target remote-fs.target nss-lookup.target redis.service</span>

<span class="k">[Service]</span>
<span class="na">Type</span><span class="o">=</span><span class="s">forking</span>
<span class="na">ExecStart</span><span class="o">=</span><span class="s">/opt/polemarch/bin/polemarchctl webserver</span>
<span class="na">ExecReload</span><span class="o">=</span><span class="s">/opt/polemarch/bin/polemarchctl webserver reload=/opt/polemarch/run/polemarch/web.pid</span>
<span class="na">ExecStop</span><span class="o">=</span><span class="s">/opt/polemarch/bin/polemarchctl webserver stop=/opt/polemarch/run/polemarch/web.pid</span>
<span class="na">PIDFile</span><span class="o">=</span><span class="s">/opt/polemarch/run/polemarch/web.pid</span>
<span class="na">User</span><span class="o">=</span><span class="s">polemarch</span>
<span class="na">Group</span><span class="o">=</span><span class="s">polemarch</span>
<span class="na">KillSignal</span><span class="o">=</span><span class="s">SIGCONT</span>
<span class="na">Restart</span><span class="o">=</span><span class="s">always</span>

<span class="k">[Install]</span>
<span class="na">WantedBy</span><span class="o">=</span><span class="s">multi-user.target</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Notice, that user and group ‘polemarch’ should exist in your system.
If they don’t exist, create them.</p>
</div>
</div></blockquote>
</li>
<li><p>Reload systemctl daemon:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>systemctl daemon-reload
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Add polemarch.service to autoload:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>systemctl <span class="nb">enable</span> polemarch.service
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Start polemarch.service:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>systemctl start polemarch.service
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Repeat all steps in other nodes and connect them to one DB, cache, MQ and storage.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>You don’t need migrate database on each node. This need only once when
you install/update first node in cluster.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Don’t forget to stop all Polemarch services when update polemarch package.</p>
</div>
</div></blockquote>
</li>
</ol>
</li>
</ol>
<p>That’s it.</p>
</div>
<div class="section" id="main-settings">
<span id="main"></span><h2>Main settings<a class="headerlink" href="#main-settings" title="Permalink to this headline">¶</a></h2>
<p>Section <code class="docutils literal notranslate"><span class="pre">[main]</span></code>.</p>
<p>This section is for settings related to whole Polemarch (both worker and
web). Here you can specify verbosity level of Polemarch during work, which can
be useful for troubleshoot problems (logging level etc). Also there are settings
for changing of timezone for whole app and directory where Polemarch will store
ansible projects cloned from repositories.</p>
<p>If you want to use LDAP protocol, you should create next settings in section <code class="docutils literal notranslate"><span class="pre">[main]</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ldap-server <span class="o">=</span> ldap://server-ip-or-host:port
ldap-default-domain <span class="o">=</span> domain.name
ldap-auth_format <span class="o">=</span> <span class="nv">cn</span><span class="o">=</span>&lt;username&gt;,ou<span class="o">=</span>your-group-name,&lt;domain&gt;
</pre></div>
</div>
<p>ldap-default-domain is an optional argument, that is aimed to make user authorization easier
(without input of domain name).</p>
<p>ldap-auth_format is an optional argument, that is aimed to customize LDAP authorization.
Default value: cn=&lt;username&gt;,&lt;domain&gt;</p>
<p>So in this case authorization logic will be the following:</p>
<ol class="arabic simple">
<li><p>System checks combination of login:password in database;</p></li>
<li><p>System checks combination of login:password in LDAP:</p>
<ul class="simple">
<li><p>if domain was mentioned, it will be set during authorization
(if user enter login without <code class="docutils literal notranslate"><span class="pre">user&#64;domain.name</span></code> or without <code class="docutils literal notranslate"><span class="pre">DOMAIN\user</span></code> );</p></li>
<li><p>if authorization was successful and there is user with mentioned login in database,
server creates session for him.</p></li>
</ul>
</li>
</ol>
<ul class="simple">
<li><p><strong>debug</strong> - Enable debug mode. Default: false.</p></li>
<li><p><strong>allowed_hosts</strong> - Comma separated list of domains, which allowed to serve. Default: <code class="docutils literal notranslate"><span class="pre">*</span></code>.</p></li>
<li><p><strong>ldap-server</strong> - LDAP server connection.</p></li>
<li><p><strong>ldap-default-domain</strong> - Default domain for auth.</p></li>
<li><p><strong>timezone</strong> - Timezone of web-application. Default: UTC.</p></li>
<li><p><strong>log_level</strong> - Logging level. Default: WARNING.</p></li>
<li><p><strong>enable_admin_panel</strong> - Enable or disable Django Admin panel. Defaul: false.</p></li>
<li><p><strong>projects_dir</strong> - Path where projects will be stored.</p></li>
<li><p><strong>hooks_dir</strong> - Path where hook scripts stored.</p></li>
<li><p><strong>executor_path</strong> - Path for polemarch-ansible wrapper binary.</p></li>
</ul>
</div>
<div class="section" id="database-settings">
<span id="database"></span><h2>Database settings<a class="headerlink" href="#database-settings" title="Permalink to this headline">¶</a></h2>
<p>Section <code class="docutils literal notranslate"><span class="pre">[database]</span></code>.</p>
<p>Here you can change settings related to database system, which Polemarch will
use. Polemarch supports all databases supported by <code class="docutils literal notranslate"><span class="pre">django</span></code>. List of
supported out of the box: SQLite (default choice), MySQL, Oracle, or
PostgreSQL. Configuration details you can look at
<a class="reference external" href="https://docs.djangoproject.com/en/1.11/ref/settings/#databases">Django database documentation</a>.
If you run Polemarch at multiple nodes (clusterization), you should
use some of client-server database (SQLite not suitable) shared for all nodes.</p>
<p>If you use MySQL there is a list of required settings, that you should create for correct
database work.</p>
<p>Firstly, if you use MariaDB and you have set timezone different from “UTC” you should run
next command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mysql_tzinfo_to_sql /usr/share/zoneinfo <span class="p">|</span> mysql -u root -p mysql
</pre></div>
</div>
<p>Secondly, for correct MariaDB work you should set next options in <code class="docutils literal notranslate"><span class="pre">settings.ini</span></code> file:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>database.options<span class="o">]</span>
<span class="nv">connect_timeout</span> <span class="o">=</span> <span class="m">10</span>
<span class="nv">init_command</span> <span class="o">=</span> SET <span class="nv">sql_mode</span><span class="o">=</span><span class="s1">&#39;STRICT_TRANS_TABLES&#39;</span>, <span class="nv">default_storage_engine</span><span class="o">=</span>INNODB, NAMES <span class="s1">&#39;utf8&#39;</span>, CHARACTER SET <span class="s1">&#39;utf8&#39;</span>, SESSION <span class="nv">collation_connection</span> <span class="o">=</span> <span class="s1">&#39;utf8_unicode_ci&#39;</span>
</pre></div>
</div>
<p>Finally, you should add some options to MariaDB configuration:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>client<span class="o">]</span>
default-character-set<span class="o">=</span>utf8
<span class="nv">init_command</span> <span class="o">=</span> SET <span class="nv">collation_connection</span> <span class="o">=</span> @@collation_database

<span class="o">[</span>mysqld<span class="o">]</span>
character-set-server<span class="o">=</span>utf8
collation-server<span class="o">=</span>utf8_unicode_ci
</pre></div>
</div>
</div>
<div class="section" id="cache-settings">
<span id="cache"></span><h2>Cache settings<a class="headerlink" href="#cache-settings" title="Permalink to this headline">¶</a></h2>
<p>Section <code class="docutils literal notranslate"><span class="pre">[cache]</span></code>.</p>
<p>This section is for settings related to cache backend used by Polemarch.
Polemarch supports all cache backends that Django supports.
Currently is: filesystem, in-memory, memcached out of the box and many more by
additional plugins. You can find details about cache configuration at
<a class="reference external" href="https://docs.djangoproject.com/en/1.11/ref/settings/#caches">Django caches documentation</a>. In
clusterization scenario we advice to share cache between nodes to speedup their
work using client-server cache realizations.
We recommend to use Redis in production environments.</p>
</div>
<div class="section" id="locks-settings">
<span id="locks"></span><h2>Locks settings<a class="headerlink" href="#locks-settings" title="Permalink to this headline">¶</a></h2>
<p>Section <code class="docutils literal notranslate"><span class="pre">[locks]</span></code>.</p>
<p>Locks is system that Polemarch uses to prevent damage from parallel actions
working on something simultaneously. It is based on Django cache, so there is
another bunch of same settings as <a class="reference internal" href="#cache"><span class="std std-ref">Cache settings</span></a>. And why there is another
section for them, you may ask. Because cache backend used for locking must
provide some guarantees, which does not required to usual cache: it MUST
be shared for all Polemarch threads and nodes. So, in-memory backend, for
example, is not suitable. In case of clusterization we strongly recommend
to use Redis or Memcached as backend for that purpose. Cache and locks backend
can be same, but don’t forget about requirement we said above.</p>
</div>
<div class="section" id="session-cache-settings">
<span id="session"></span><h2>Session cache settings<a class="headerlink" href="#session-cache-settings" title="Permalink to this headline">¶</a></h2>
<p>Section <code class="docutils literal notranslate"><span class="pre">[session]</span></code>.</p>
<p>Polemarch store sessions in <a class="reference internal" href="#database"><span class="std std-ref">Database settings</span></a>, but for better performance,
we use a cache-based session backend. It is based on Django cache, so there is
another bunch of same settings as <a class="reference internal" href="#cache"><span class="std std-ref">Cache settings</span></a>. By default,
settings getted from <a class="reference internal" href="#cache"><span class="std std-ref">Cache settings</span></a>.</p>
</div>
<div class="section" id="rpc-settings">
<span id="rpc"></span><h2>Rpc settings<a class="headerlink" href="#rpc-settings" title="Permalink to this headline">¶</a></h2>
<p>Section <code class="docutils literal notranslate"><span class="pre">[rpc]</span></code>.</p>
<p>Polemarch uses Celery for long-running tasks (such as <code class="docutils literal notranslate"><span class="pre">ansible-playbook</span></code>
runs, repo synchronizations and so on). Celery is based on message queue concept,
so between web-service and workers running under Celery bust be some kind of
message broker (RabbitMQ or something).  Those settings relate to this broker
and Celery itself. Those kinds of settings: broker backend, number of
worker-processes per node and some settings used for troubleshoot
server-broker-worker interaction problems.</p>
<ul class="simple">
<li><p><strong>connection</strong> - Celery broker connection. Read more: <a class="reference external" href="http://docs.celeryproject.org/en/latest/userguide/configuration.html#conf-broker-settings">http://docs.celeryproject.org/en/latest/userguide/configuration.html#conf-broker-settings</a> Default: <code class="docutils literal notranslate"><span class="pre">filesystem:///var/tmp</span></code>.</p></li>
<li><p><strong>concurrency</strong> - Count of celery worker threads. Default: 4.</p></li>
<li><p><strong>heartbeat</strong> - Interval between sending heartbeat packages, which says that connection still alive. Default: 10.</p></li>
<li><p><strong>enable_worker</strong> - Enable or disable worker with webserver. Default: true.</p></li>
<li><p><strong>clone_retry_count</strong> - Count of retrys on project sync operation.</p></li>
</ul>
</div>
<div class="section" id="worker-settings">
<span id="worker"></span><h2>Worker settings<a class="headerlink" href="#worker-settings" title="Permalink to this headline">¶</a></h2>
<p>Section <code class="docutils literal notranslate"><span class="pre">[worker]</span></code>.</p>
<p>Celery worker options for start. Useful settings:</p>
<ul class="simple">
<li><p><strong>loglevel</strong> - Celery worker logging level. Default: from main section <code class="docutils literal notranslate"><span class="pre">log_level</span></code>.</p></li>
<li><p><strong>pidfile</strong> - Celery worker pidfile. Default: <code class="docutils literal notranslate"><span class="pre">/run/polemarch_worker.pid</span></code></p></li>
<li><p><strong>autoscale</strong> - Options for autoscaling. Two comma separated numbers: max,min.</p></li>
<li><p><strong>beat</strong> - Enable or disable celery beat scheduler. Default: true.</p></li>
</ul>
<p>Other settings can be getted from command <code class="docutils literal notranslate"><span class="pre">celery</span> <span class="pre">worker</span> <span class="pre">--help</span></code>.</p>
</div>
<div class="section" id="web-settings">
<span id="web"></span><h2>Web settings<a class="headerlink" href="#web-settings" title="Permalink to this headline">¶</a></h2>
<p>Section <code class="docutils literal notranslate"><span class="pre">[web]</span></code>.</p>
<p>Here placed settings related to web-server. Those settings like:
session_timeout, static_files_url or pagination limit.</p>
<ul class="simple">
<li><p><strong>session_timeout</strong> - Session life-cycle time. Default: 2w (two weeks).</p></li>
<li><p><strong>rest_page_limit</strong> - Default limit of objects in API list. Default: 1000.</p></li>
<li><p><strong>public_openapi</strong> - Allow to have access to OpenAPI schema from public. Default: <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
</ul>
</div>
<div class="section" id="git-settings">
<span id="git"></span><h2>Git settings<a class="headerlink" href="#git-settings" title="Permalink to this headline">¶</a></h2>
<p>Sections <code class="docutils literal notranslate"><span class="pre">[git.fetch]</span></code> and <code class="docutils literal notranslate"><span class="pre">[git.clone]</span></code>.</p>
<p>Options for git commands. See options in <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">fetch</span> <span class="pre">--help</span></code> or <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">clone</span> <span class="pre">--help</span></code>.</p>
</div>
<div class="section" id="production-web-settings">
<h2>Production web settings<a class="headerlink" href="#production-web-settings" title="Permalink to this headline">¶</a></h2>
<p>Section <code class="docutils literal notranslate"><span class="pre">[uwsgi]</span></code>.</p>
<p>Here placed settings related to web-server used by Polemarch in production
(for deb and rpm packages by default). Most of them related to system paths
(logging, PID-file and so on).
More settings in <a class="reference external" href="http://uwsgi-docs.readthedocs.io/en/latest/Configuration.html">uWSGI docs</a>.</p>
</div>
<div class="section" id="configuration-options">
<h2>Configuration options<a class="headerlink" href="#configuration-options" title="Permalink to this headline">¶</a></h2>
<p>This section contains additional information for configure additional elements.</p>
<ol class="arabic">
<li><p>If you need set <code class="docutils literal notranslate"><span class="pre">https</span></code> for your web settings, you can do it using HAProxy, Nginx or configure it in <code class="docutils literal notranslate"><span class="pre">settings.ini</span></code>.</p>
<blockquote>
<div><div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[uwsgi]</span>
<span class="na">https</span> <span class="o">=</span> <span class="s">0.0.0.0:8443,foobar.crt,foobar.key</span>
<span class="na">addrport</span> <span class="o">=</span> <span class="s">127.0.0.1:8080</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>We strictly do not recommend running the web server from root. Use HTTP proxy to run on privileged ports.</p></li>
</ol>
</div>
<div class="section" id="installation-of-additional-packages-to-polemarch">
<h2>Installation of additional packages to Polemarch<a class="headerlink" href="#installation-of-additional-packages-to-polemarch" title="Permalink to this headline">¶</a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>.rpm or .deb installation methods are depracated.</p>
</div>
<p>If you want to install some additional package to Polemarch from .rpm or .deb,
you should run next command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo -U polemarch /opt/polemarch/bin/pip install package_name
</pre></div>
</div>
<p>For correct work all requirements for this package should be installed in your system.
Notice, that after package reinstallation or after package update you should
set all this requirements again.</p>
<p>If you want to install some additional package from github or gitlab,
you should just install this package to your system or to your virtual environment.</p>
</div>
</div>


                    </div>
                </div>
            </div>
        </section>
    </div>

    
    <footer class="main-footer">
        <div class="social">
            <a href="https://twitter.com/polemarchio">
                <svg width="20" height="20" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1408 610q-56 25-121 34 68-40 93-117-65 38-134 51-61-66-153-66-87 0-148.5 61.5t-61.5 148.5q0 29 5 48-129-7-242-65t-192-155q-29 50-29 106 0 114 91 175-47-1-100-26v2q0 75 50 133.5t123 72.5q-29 8-51 8-13 0-39-4 21 63 74.5 104t121.5 42q-116 90-261 90-26 0-50-3 148 94 322 94 112 0 210-35.5t168-95 120.5-137 75-162 24.5-168.5q0-18-1-27 63-45 105-109zm256-194v960q0 119-84.5 203.5t-203.5 84.5h-960q-119 0-203.5-84.5t-84.5-203.5v-960q0-119 84.5-203.5t203.5-84.5h960q119 0 203.5 84.5t84.5 203.5z"></path></svg>
            </a>
            <span>|</span>
            <a href="https://polemarch-users.slack.com/">
                <svg width="20" height="20" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1583 776q62 0 103.5 40.5t41.5 101.5q0 97-93 130l-172 59 56 167q7 21 7 47 0 59-42 102t-101 43q-47 0-85.5-27t-53.5-72l-55-165-310 106 55 164q8 24 8 47 0 59-42 102t-102 43q-47 0-85-27t-53-72l-55-163-153 53q-29 9-50 9-61 0-101.5-40t-40.5-101q0-47 27.5-85t71.5-53l156-53-105-313-156 54q-26 8-48 8-60 0-101-40.5t-41-100.5q0-47 27.5-85t71.5-53l157-53-53-159q-8-24-8-47 0-60 42-102.5t102-42.5q47 0 85 27t53 72l54 160 310-105-54-160q-8-24-8-47 0-59 42.5-102t101.5-43q47 0 85.5 27.5t53.5 71.5l53 161 162-55q21-6 43-6 60 0 102.5 39.5t42.5 98.5q0 45-30 81.5t-74 51.5l-157 54 105 316 164-56q24-8 46-8zm-794 262l310-105-105-315-310 107z"></path></svg>
            </a>
            <span>|</span>
            <a href="https://stackoverflow.com/questions/tagged/polemarch">
                <svg width="20" height="20" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1417 1632h-1118v-480h-160v640h1438v-640h-160v480zm-942-524l33-157 783 165-33 156zm103-374l67-146 725 339-67 145zm201-356l102-123 614 513-102 123zm397-378l477 641-128 96-477-641zm-718 1471v-159h800v159h-800z"></path></svg>
            </a>
        </div>
        <div class="pull-right d-none d-sm-block">
            &copy; 2019, VST Consulting
        </div>
    </footer>

</div>

</body>

</html>

