<tal:var define="items list(view.items);
                 single_checkbox len(items) == 1;">
  <span id="${view.id}"
		tal:omit-tag="single_checkbox"
		tal:condition="len(items) > 0">
    <span id="${view.id if single_checkbox else None}"
          class="option"
          tal:repeat="item items">
      <input type="checkbox"
             tal:condition="item.checked"
    		 checked="checked"
             id="${item.id}"
             name="${item.name}"
             class="${view.klass}"
             value="${item.value}"
             style="${view.style}"
             title="${view.title}"
             lang="${view.lang}"
             readonly="${view.readonly}"
             alt="${view.alt}"
             accesskey="${view.accesskey}"
             onclick="${view.onclick}"
             ondblclick="${view.ondblclick}"
             onmousedown="${view.onmousedown}"
             onmouseup="${view.onmouseup}"
             onmouseover="${view.onmouseover}"
             onmousemove="${view.onmousemove}"
             onmouseout="${view.onmouseout}"
             onkeypress="${view.onkeypress}"
             onkeydown="${view.onkeydown}"
             onkeyup="${view.onkeyup}"
             disabled="${view.disabled}"
             tabindex="${view.tabindex}"
             onfocus="${view.onfocus}"
             onblur="${view.onblur}"
             onchange="${view.onchange}"
             onselect="${view.onselect}" /><input type="checkbox"
             tal:condition="not:item.checked"
             id="${item.id}"
             name="${item.name}"
             class="${view.klass}"
             value="${item.value}"
             style="${view.style}"
             title="${view.title}"
             lang="${view.lang}"
             readonly="${view.readonly}"
             alt="${view.alt}"
             accesskey="${view.accesskey}"
             onclick="${view.onclick}"
             ondblclick="${view.ondblclick}"
             onmousedown="${view.onmousedown}"
             onmouseup="${view.onmouseup}"
             onmouseover="${view.onmouseover}"
             onmousemove="${view.onmousemove}"
             onmouseout="${view.onmouseout}"
             onkeypress="${view.onkeypress}"
             onkeydown="${view.onkeydown}"
             onkeyup="${view.onkeyup}"
             disabled="${view.disabled}"
             tabindex="${view.tabindex}"
             onfocus="${view.onfocus}"
             onblur="${view.onblur}"
             onchange="${view.onchange}"
             onselect="${view.onselect}" />
      <label for="${item.id}">
        <span class="label">${item.label}</span>
      </label>
    </span>
  </span>
  <input name="${view.name}-empty-marker" type="hidden" value="1" />
</tal:var>