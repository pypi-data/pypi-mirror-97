.\" Man page generated from reStructuredText.
.
.TH "SNAPMOD.PY" "1" "Mar 06, 2021" "8.4" "SkoolKit"
.SH NAME
snapmod.py \- modify a 48K Z80 snapshot
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH SYNOPSIS
.sp
\fBsnapmod.py\fP [options] in.z80 [out.z80]
.SH DESCRIPTION
.sp
\fBsnapmod.py\fP modifies the registers and RAM in a 48K Z80 snapshot.
.SH OPTIONS
.INDENT 0.0
.TP
.B \-f\fP,\fB  \-\-force
Overwrite an existing snapshot.
.UNINDENT
.INDENT 0.0
.TP
.B \-m, \-\-move \fIsrc,size,dest\fP
Move a block of bytes of the given size from \(aqsrc\(aq to \(aqdest\(aq. This option may
be used multiple times. \(aqsrc\(aq, \(aqsize\(aq and \(aqdest\(aq must each be a decimal
number, or a hexadecimal number prefixed by \(aq0x\(aq.
.TP
.B \-p, \-\-poke \fIa[\-b[\-c]],[^+]v\fP
POKE N,v for N in {a, a+c, a+2c..., b}. Prefix \(aqv\(aq with \(aq^\(aq to perform an
XOR operation, or \(aq+\(aq to perform an ADD operation. This option may be used
multiple times. \(aqa\(aq, \(aqb\(aq, \(aqc\(aq and \(aqv\(aq must each be a decimal number, or a
hexadecimal number prefixed by \(aq0x\(aq.
.TP
.B \-r, \-\-reg \fIname=value\fP
Set the value of a register. Do \fB\-\-reg help\fP for more information, or see
the section on \fBREGISTERS\fP below. This option may be used multiple times.
.TP
.B \-s, \-\-state \fIname=value\fP
Set a hardware state attribute. Do \fB\-\-state help\fP for more information, or
see the section on \fBHARDWARE STATE\fP below. This option may be used multiple
times.
.UNINDENT
.INDENT 0.0
.TP
.B \-V\fP,\fB  \-\-version
Show the SkoolKit version number and exit.
.UNINDENT
.SH REGISTERS
.sp
The \fB\-\-reg\fP option sets the value of a register in the snapshot.
.nf

.in +2
\fB\-\-reg name=value\fP
.in -2
.fi
.sp
.sp
For example:
.nf

.in +2
\fB\-\-reg hl=32768\fP
\fB\-\-reg b=0x1f\fP
.in -2
.fi
.sp
.sp
To set the value of an alternate (shadow) register, use the \(aq^\(aq prefix:
.nf

.in +2
\fB\-\-reg ^hl=10072\fP
.in -2
.fi
.sp
.sp
Recognised register names are:
.nf

.in +2
\fB^a\fP, \fB^b\fP, \fB^bc\fP, \fB^c\fP, \fB^d\fP, \fB^de\fP, \fB^e\fP, \fB^f\fP, \fB^h\fP, \fB^hl\fP, \fB^l\fP,
\fBa\fP, \fBb\fP, \fBbc\fP, \fBc\fP, \fBd\fP, \fBde\fP, \fBe\fP, \fBf\fP, \fBh\fP, \fBhl\fP, \fBl\fP,
\fBi\fP, \fBix\fP, \fBiy\fP, \fBpc\fP, \fBr\fP, \fBsp\fP
.in -2
.fi
.sp
.SH HARDWARE STATE
.sp
The \fB\-\-state\fP option sets a hardware state attribute.
.nf

.in +2
\fB\-\-state name=value\fP
.in -2
.fi
.sp
.sp
Recognised attribute names are:
.INDENT 0.0
.TP
.B \fBborder\fP
border colour
.TP
.B \fBiff\fP
interrupt flip\-flop: 0=disabled, 1=enabled
.TP
.B \fBim\fP
interrupt mode
.UNINDENT
.SH EXAMPLES
.INDENT 0.0
.IP 1. 3
Set the value of the HL register pair to 0 in game.z80:
.nf

.in +2
\fBsnapmod.py \-f \-r hl=0 game.z80\fP
.in -2
.fi
.sp
.IP 2. 3
POKE the value 23 into address 32768 in game.z80, and write the resultant
snapshot to poked.z80:
.nf

.in +2
\fBsnapmod.py \-p 32768,23 game.z80 poked.z80\fP
.in -2
.fi
.sp
.UNINDENT
.SH AUTHOR
Richard Dymond
.SH COPYRIGHT
2021, Richard Dymond
.\" Generated by docutils manpage writer.
.
