╔═══════════════════════════╗
║ <header>{{ "{:^25}".format("Results") }}</header> ║
╚═══════════════════════════╝
{% for query in results %}
{%- if query.success %}
{%- if not show_all and (not query.result or query.result == "None" or query.result == "[]") %}
{%- continue -%}
{%- endif %}
{%- if query.name %}
{%- if query.query_id %}
<key>Query:</key> <bold>{{ query.name }}</bold> (query ID: {{ query.query_id }})
{{ query.result }}
{%- else %}
<key>Query:</key> <bold>{{ query.name }}</bold>
<key>Result:</key> {{ query.result }}
{%- endif %}
{%- else %}
{%- if query.query_id %}
<key>Query:</key> <bold>#{{ loop.index }}</bold> (query ID: {{ query.query_id }})
{{ query.result }}
{%- else %}
<key>Query:</key> <bold>#{{ loop.index }}</bold>
<key>Result:</key> {{ query.result }}
{%- endif %}
{%- endif %}
{%- else %}
{# query error #}
{%- if query.name %}
{%- if query.query_id %}
<fail>Query</fail> <bold>{{ query.name }}</bold> <fail>failed.</fail> Query ID: {{ query.query_id }}. Error: {{ query.error }}
{%- else %}
<fail>Query</fail> <bold>{{ query.name }}</bold> <fail>failed.</fail> Error: {{ query.error }}
{%- endif %}
{%- else %}
{%- if query.query_id %}
<fail>Query</fail> <bold>#{{ loop.index }}</bold> <fail>failed.</fail> Query ID: {{ query.query_id }}. Error: {{ query.error }}
{%- else %}
<fail>Query</fail> <bold>#{{ loop.index }}</bold> <fail>failed.</fail> Error: {{ query.error }}
{%- endif %}
{%- endif %}
{%- endif %}

{%- if verbose %}
<key>Raw Query</key>: <bold>{{ query.query }}</bold>
{{ "" }}
{%- else %}
{{ "" }}
{%- endif %}

{%- endfor %}

