{
  "actions": {
    "CreateDBDiagReportTask": [
      {
        "document": "",
        "input": "https://dbbrain.tencentcloudapi.com/?Action=CreateDBDiagReportTask\n&InstanceId=test\n&StartTime=2019-01-01T00:00:00+08:00\n&EndTime=2019-01-02T00:00:00+08:00\n&SendMailFlag=1\n&ContactPerson.0=1\n&ContactGroup.0=1\n&<Common request parameters>",
        "output": "{\r\n\t\"Response\": {\r\n\t\t\"AsyncRequestId\": 129632,\r\n\t\t\"RequestId\": \"77db16d7-bbe8-48a7-868b-ed776a96f1ab\"\r\n\t}\r\n}",
        "title": "Creating a health report and sending it via email (optional)"
      }
    ],
    "CreateMailProfile": [
      {
        "document": "",
        "input": "https://dbbrain.tencentcloudapi.com/?Action=CreateMailProfile\n&Product=mysql\n&ProfileLevel=Instance\n&ProfileName=scheduler_cdb-test\n&ProfileType= scheduler_mail_configuration\n&BindInstanceIds.0=cdb-test\n&ProfileInfo.Language=zh\n&ProfileInfo.MailConfiguration.SendMail=1\n&ProfileInfo.MailConfiguration.Region.0=ap-guangzhou\n&ProfileInfo.MailConfiguration.HealthStatus.0=HEALTH\n&ProfileInfo.MailConfiguration.ContactPerson.0=1\n&ProfileInfo.MailConfiguration.ContactGroup.0=1\n&<Common request parameters>",
        "output": "{\r\n\t\"Response\": {\r\n\t\t\"RequestId\": \"77db16d7-bbe8-48a7-868b-ed776a96f1ab\"\r\n\t}\r\n}",
        "title": "Creating an email template to send the report generated by the scheduled task/database inspection"
      }
    ],
    "DescribeAllUserContact": [
      {
        "document": "",
        "input": "https://dbbrain.tencentcloudapi.com/?Action=DescribeAllUserContact\n&Product=mysql\n&Names.0=zhangsan\n&<Common request parameters>",
        "output": "{\r\n\t\"Response\": {\r\n\t\t\"TotalCount\": 2,\r\n\t\t\"Contacts\": [{\r\n                        \"Status\": 0, \r\n\t\t\t\"Mail\": \"zhangsan@qq.com\",\r\n\t\t\t\"Id\": 1,\r\n\t\t\t\"Name\": \"zhangsan\"\r\n\t\t}, {\r\n                        \"Status\": 0, \r\n\t\t\t\"Mail\": \"zhangsan2@qq.com\",\r\n\t\t\t\"Id\": 2,\r\n\t\t\t\"Name\": \"zhangsan2\"\r\n\t\t}],\r\n\t\t\"RequestId\": \"b2d08895-1cfe-48bc-b7f7-87fd7cb5d6f1\"\r\n\t}\r\n}",
        "title": "Obtaining the contact information"
      }
    ],
    "DescribeAllUserGroup": [
      {
        "document": "",
        "input": "https://dbbrain.tencentcloudapi.com/?Action=DescribeAllUserGroup\n&Product=mysql\n&Names.0=group1\n&<Common request parameters>",
        "output": "{\r\n\t\"Response\": {\r\n\t\t\"TotalCount\": 2,\r\n\t\t\"RequestId\": \"31dd9325-792f-4d76-89ad-ca8902cbe4d9\",\r\n\t\t\"Groups\": [{\r\n\t\t\t\"MemberCount\": 0,\r\n                        \"Status\": 0, \r\n\t\t\t\"Id\": 1,\r\n\t\t\t\"Name\": \"group1\"\r\n\t\t}, {\r\n\t\t\t\"MemberCount\": 2,\r\n                        \"Status\": 0, \r\n\t\t\t\"Id\": 2,\r\n\t\t\t\"Name\": \"group11\"\r\n\t\t}]\r\n\t}\r\n}",
        "title": "Obtaining the contact group information"
      }
    ],
    "DescribeDBDiagEvent": [
      {
        "document": "",
        "input": "https://dbbrain.tencentcloudapi.com/?Action=DescribeDBDiagEvent\n&InstanceId=test\n&EventId=5\n&<Common request parameters>",
        "output": "{\r\n\t\"Response\": {\r\n\t\t\"Suggestions\": \"[]\",\r\n\t\t\"DiagType\": \"Database snapshot\",\r\n\t\t\"EndTime\": \"2019-11-06 12:05:50\",\r\n\t\t\"RequestId\": \"78cf7bb1-0608-11ea-a9ef-2736f0f7f829\",\r\n\t\t\"Explanation\": \"[]\",\r\n\t\t\"StartTime\": \"2019-11-06 12:05:40\",\r\n\t\t\"EventId\": 5,\r\n\t\t\"Severity\": 4,\r\n\t\t\"Outline\": \"1 problem found during database health check\",\r\n\t\t\"Problem\": \"[{\\\"DataType\\\":\\\"title\\\",\\\"Data\\\":{\\\"Name\\\":\\\"Session snapshot\\\"}},{\\\"DataType\\\":\\\"title\\\",\\\"Data\\\":{\\\"Name\\\":\\\"Transaction snapshot\\\"}},{\\\"DataType\\\":\\\"title\\\",\\\"Data\\\":{\\\"Name\\\":\\\"InnoDB status snapshot\\\"}}]\",\r\n\t\t\"Metric\": \"\",\r\n\t\t\"DiagItem\": \"Health check\"\r\n\t}\r\n}",
        "title": "Getting diagnosis event details"
      }
    ],
    "DescribeDBDiagHistory": [
      {
        "document": "",
        "input": "https://dbbrain.tencentcloudapi.com/?Action=DescribeDBDiagHistory\n&StartTime=2019-01-01 00:00:00\n&EndTime=2019-01-01 01:00:00\n&InstanceId=cdb-test\n&<Common request parameters>",
        "output": "{\r\n  \"Response\": {\r\n    \"RequestId\": \"\",\r\n    \"Events\": [\r\n      {\r\n        \"DiagType\": \"Row lock\",\r\n        \"StartTime\": \"2019-01-01 00:00:20\",\r\n        \"EndTime\": \"2019-01-01 00:00:30\",\r\n        \"InstanceId\": \"cdb-test\", \r\n        \"Region\":\"ap-beijing\",\r\n        \"Metric\": \"\", \r\n        \"EventId\": 5,\r\n        \"Severity\": 4,\r\n        \"Outline\": \"Monitoring metric \\\"innodb_row_lock_waits\\\" triggered an alarm. Current value: 131\",\r\n        \"DiagItem\": \"UPDATE statement row lock wait\",\r\n        \"DiagType\": \"Row lock\"\r\n      }\r\n    ]\r\n  }\r\n}",
        "title": "Getting the instance diagnosis event list"
      }
    ],
    "DescribeDBSpaceStatus": [
      {
        "document": "",
        "input": "https://dbbrain.tencentcloudapi.com/?Action=DescribeDBSpaceStatus\n&InstanceId=cdb-test\n&RangeDays=5\n&<Common request parameters>",
        "output": "{\r\n\t\"Response\": {\r\n               \"Remain\": 23224,\r\n               \"RequestId\": \"78cf7bb1-0608-11ea-a9ef-2736f0f7f829\",\r\n               \"Growth\": 231,\r\n               \"Total\": 50000,\r\n               \"AvailableDays\": 35\r\n\t}\r\n}",
        "title": "Getting the overview of instance space usage during a specified time period"
      }
    ],
    "DescribeSlowLogTimeSeriesStats": [
      {
        "document": "",
        "input": "https://dbbrain.tencentcloudapi.com/?Action=DescribeSlowLogTimeSeriesStats\n&InstanceId=test\n&StartTime=2019-01-01 00:00:00\n&EndTime=2019-01-01 01:00:00\n&<Common request parameters>",
        "output": "{\r\n    \"Response\": {\r\n        \"TimeSeries\": [\r\n            {\r\n                \"Count\": 0,\r\n                \"Timestamp\": 1568113800\r\n            },\r\n            {\r\n                \"Count\": 0,\r\n                \"Timestamp\": 1568191680\r\n            },\r\n            {\r\n                \"Count\": 0,\r\n                \"Timestamp\": 1568269560\r\n            },\r\n            {\r\n                \"Count\": 0,\r\n                \"Timestamp\": 1568347440\r\n            },\r\n            {\r\n                \"Count\": 2,\r\n                \"Timestamp\": 1568425320\r\n            },\r\n            {\r\n                \"Count\": 0,\r\n                \"Timestamp\": 1568503200\r\n            },\r\n            {\r\n                \"Count\": 0,\r\n                \"Timestamp\": 1568581080\r\n            },\r\n            {\r\n                \"Count\": 0,\r\n                \"Timestamp\": 1568658960\r\n            },\r\n            {\r\n                \"Count\": 0,\r\n                \"Timestamp\": 1568736840\r\n            },\r\n            {\r\n                \"Count\": 0,\r\n                \"Timestamp\": 1568814720\r\n            },\r\n            {\r\n                \"Count\": 0,\r\n                \"Timestamp\": 1568892600\r\n            },\r\n            {\r\n                \"Count\": 0,\r\n                \"Timestamp\": 1568970480\r\n            },\r\n            {\r\n                \"Count\": 0,\r\n                \"Timestamp\": 1569048360\r\n            },\r\n            {\r\n                \"Count\": 0,\r\n                \"Timestamp\": 1569126240\r\n            },\r\n            {\r\n                \"Count\": 0,\r\n                \"Timestamp\": 1569204120\r\n            },\r\n            {\r\n                \"Count\": 0,\r\n                \"Timestamp\": 1569282000\r\n            },\r\n            {\r\n                \"Count\": 0,\r\n                \"Timestamp\": 1569359880\r\n            },\r\n            {\r\n                \"Count\": 0,\r\n                \"Timestamp\": 1569437760\r\n            },\r\n            {\r\n                \"Count\": 0,\r\n                \"Timestamp\": 1569515640\r\n            },\r\n            {\r\n                \"Count\": 0,\r\n                \"Timestamp\": 1569593520\r\n            },\r\n            {\r\n                \"Count\": 0,\r\n                \"Timestamp\": 1569671400\r\n            },\r\n            {\r\n                \"Count\": 0,\r\n                \"Timestamp\": 1569749280\r\n            },\r\n            {\r\n                \"Count\": 0,\r\n                \"Timestamp\": 1569827160\r\n            },\r\n            {\r\n                \"Count\": 0,\r\n                \"Timestamp\": 1569905040\r\n            },\r\n            {\r\n                \"Count\": 0,\r\n                \"Timestamp\": 1569982920\r\n            },\r\n            {\r\n                \"Count\": 0,\r\n                \"Timestamp\": 1570060800\r\n            },\r\n            {\r\n                \"Count\": 0,\r\n                \"Timestamp\": 1570138680\r\n            },\r\n            {\r\n                \"Count\": 0,\r\n                \"Timestamp\": 1570216560\r\n            },\r\n            {\r\n                \"Count\": 0,\r\n                \"Timestamp\": 1570294440\r\n            },\r\n            {\r\n                \"Count\": 0,\r\n                \"Timestamp\": 1570372320\r\n            },\r\n            {\r\n                \"Count\": 0,\r\n                \"Timestamp\": 1570450200\r\n            }\r\n        ],\r\n        \"SeriesData\": {\r\n            \"Series\": [\r\n                {\r\n                    \"Values\": [\r\n                        -1,\r\n                        -1,\r\n                        -1,\r\n                        -1,\r\n                        -1,\r\n                        -1,\r\n                        -1,\r\n                        -1,\r\n                        -1,\r\n                        -1,\r\n                        -1,\r\n                        -1,\r\n                        -1,\r\n                        -1,\r\n                        -1,\r\n                        -1,\r\n                        -1,\r\n                        -1,\r\n                        -1,\r\n                        -1,\r\n                        -1,\r\n                        -1,\r\n                        -1,\r\n                        -1,\r\n                        -1,\r\n                        -1,\r\n                        -1,\r\n                        -1,\r\n                        -1,\r\n                        -1,\r\n                        -1\r\n                    ],\r\n                    \"Metric\": \"cpu_use_rate\",\r\n                    \"Unit\": \"%\"\r\n                }\r\n            ],\r\n            \"Timestamp\": [\r\n                1568113800,\r\n                1568191680,\r\n                1568269560,\r\n                1568347440,\r\n                1568425320,\r\n                1568503200,\r\n                1568581080,\r\n                1568658960,\r\n                1568736840,\r\n                1568814720,\r\n                1568892600,\r\n                1568970480,\r\n                1569048360,\r\n                1569126240,\r\n                1569204120,\r\n                1569282000,\r\n                1569359880,\r\n                1569437760,\r\n                1569515640,\r\n                1569593520,\r\n                1569671400,\r\n                1569749280,\r\n                1569827160,\r\n                1569905040,\r\n                1569982920,\r\n                1570060800,\r\n                1570138680,\r\n                1570216560,\r\n                1570294440,\r\n                1570372320,\r\n                1570450200\r\n            ]\r\n        },\r\n        \"RequestId\": \"b445f8ee-9357-4d93-83c2-3596f9d1f27e\",\r\n        \"Period\": 77880\r\n    }\r\n}",
        "title": "Getting the slow log statistics histogram"
      }
    ],
    "DescribeSlowLogTopSqls": [
      {
        "document": "",
        "input": "https://dbbrain.tencentcloudapi.com/?Action=DescribeSlowLogTopSqls\n&InstanceId=test\n&SortBy=QueryTime\n&OrderBy=ASC\n&Limit=10\n&Offset=0\n&StartTime=2019-01-01 00:00:00\n&EndTime=2019-01-01 01:00:00\n&<Common request parameters>",
        "output": "{\r\n    \"Response\":{\r\n        \"RequestId\": \"\",\r\n        \"TotalCount\": 1,\r\n        \"Rows\": [\r\n          {\r\n            \"RowsExaminedMax\": 0,\r\n            \"ExecTimes\": 2,\r\n            \"RowsSentMax\": 0,\r\n            \"QueryTimeRatio\": 100,\r\n            \"LockTimeRatio\": 0,\r\n            \"LockTimeMin\": 0,\r\n            \"RowsExaminedRatio\": 0,\r\n            \"Schema\": \"\",\r\n            \"SqlText\": \"select test from test\",\r\n            \"QueryTime\": 28.17341,\r\n            \"SqlTemplate\": \"select ? from ?\",\r\n            \"QueryTimeMax\": 14.086705,\r\n            \"LockTime\": 0,\r\n            \"RowsSent\": 0,\r\n            \"RowsSentMin\": 0,\r\n            \"LockTimeMax\": 0,\r\n            \"RowsSentRatio\": 0,\r\n            \"RowsExamined\": 0,\r\n            \"RowsExaminedMin\": 0,\r\n            \"QueryTimeMin\": 0\r\n        }\r\n      ]\r\n    }\r\n}",
        "title": "Querying slow log statistics during a specified time period by SQL template"
      }
    ],
    "DescribeTopSpaceTableTimeSeries": [
      {
        "document": "",
        "input": "https://dbbrain.tencentcloudapi.com/?Action=DescribeTopSpaceTableTimeSeries\n&InstanceId=cdb-test\n&Limit=2\n&StartDate=2020-01-01\n&EndDate=2020-01-01\n&<Common request parameters>",
        "output": "{\r\n  \"Response\": {\r\n      \"RequestId\":\"d97eacb0-cebd-40b6-963b-579092454f05\",\r\n      \"TopSpaceTableTimeSeries\": [\r\n         {\r\n            \"TableName\":\"test\",\r\n            \"TableSchema\":\"test_bak\",\r\n            \"SeriesData\": {\r\n                  \"Series\":[\r\n                      {\r\n                            \"Values\":[0],\r\n                            \"Metric\":\"DataFree\",\r\n                             \"Unit\":\"MB\"\r\n                        },\r\n                        {\r\n                            \"Values\":[0.1],\r\n                            \"Metric\":\"DataLength\",\r\n                            \"Unit\":\"MB\"\r\n                        },\r\n                        {\r\n                            \"Values\":[0],\r\n                            \"Metric\":\"IndexLength\",\r\n                            \"Unit\":\"MB\"\r\n                        },\r\n                       {\r\n                           \"Values\":[0.1],\r\n                           \"Metric\":\"TotalLength\",\r\n                           \"Unit\":\"MB\"\r\n                       },\r\n                       {\r\n                           \"Values\":[0],\r\n                           \"Metric\":\"FragRatio\",\r\n                           \"Unit\":\"%\"\r\n                       },\r\n                       {\r\n                           \"Values\":[9],\r\n                           \"Metric\":\"TableRows\",\r\n                           \"Unit\":\"\"\r\n                       },\r\n                       {\r\n                           \"Values\":[0.1],\r\n                           \"Metric\":\"PhysicalFileSize\",\r\n                            \"Unit\":\"MB\"\r\n                       }   \r\n                   ],\r\n                   \"Timestamp\": [\r\n                       1588089600\r\n                    ]\r\n              },\r\n             \"Engine\":\"InnoDB\"\r\n         },\r\n         {\r\n            \"TableName\":\"test22\",\r\n            \"TableSchema\":\"test_bak\",\r\n            \"SeriesData\": {\r\n                  \"Series\":[\r\n                      {\r\n                            \"Values\":[0],\r\n                            \"Metric\":\"DataFree\",\r\n                             \"Unit\":\"MB\"\r\n                        },\r\n                        {\r\n                            \"Values\":[0.1],\r\n                            \"Metric\":\"DataLength\",\r\n                            \"Unit\":\"MB\"\r\n                        },\r\n                        {\r\n                            \"Values\":[0],\r\n                            \"Metric\":\"IndexLength\",\r\n                            \"Unit\":\"MB\"\r\n                        },\r\n                       {\r\n                           \"Values\":[0.1],\r\n                           \"Metric\":\"TotalLength\",\r\n                           \"Unit\":\"MB\"\r\n                       },\r\n                       {\r\n                           \"Values\":[0],\r\n                           \"Metric\":\"FragRatio\",\r\n                           \"Unit\":\"%\"\r\n                       },\r\n                       {\r\n                           \"Values\":[6],\r\n                           \"Metric\":\"TableRows\",\r\n                           \"Unit\":\"\"\r\n                       },\r\n                       {\r\n                           \"Values\":[0.1],\r\n                           \"Metric\":\"PhysicalFileSize\",\r\n                            \"Unit\":\"MB\"\r\n                       }   \r\n                   ],\r\n                   \"Timestamp\": [\r\n                       1588089600\r\n                    ]\r\n              },\r\n             \"Engine\":\"InnoDB\"\r\n         }\r\n     ]\r\n  }\r\n}",
        "title": "Getting daily space statistics of top tables during a specified time period"
      }
    ],
    "DescribeTopSpaceTables": [
      {
        "document": "",
        "input": "https://dbbrain.tencentcloudapi.com/?Action=DescribeTopSpaceTables\n&InstanceId=cdb-test\n&Limit=2\n&SortBy=TableRows\n&<Common request parameters>",
        "output": "{\r\n  \"Response\": {\r\n        \"RequestId\":\"ed279d8b-a9d9-48d6-9429-e0fde000994a\",\r\n        \"Timestamp\":1603819881,\r\n        \"TopSpaceTables\": [\r\n           {\r\n                    \"DataFree\":0,\r\n                    \"TableName\":\"test\",\r\n                    \"TotalLength\":0.1,\r\n                    \"TableSchema\":\"test_bak\",\r\n                    \"FragRatio\":0,\r\n                    \"DataLength\":0.1,\r\n                    \"PhysicalFileSize\":0.1,\r\n                    \"TableRows\":9,\r\n                    \"Engine\":\"InnoDB\",\r\n                    \"IndexLength\":0  \r\n                },\r\n                {\r\n                    \"DataFree\":0,\r\n                    \"TableName\":\"test\",\r\n                    \"TotalLength\":0.1,\r\n                    \"TableSchema\":\"test_bak\",\r\n                    \"FragRatio\":0,\r\n                    \"DataLength\":0.1,\r\n                    \"PhysicalFileSize\":0.1,\r\n                    \"TableRows\":9,\r\n                    \"Engine\":\"InnoDB\",\r\n                    \"IndexLength\":0  \r\n                }\r\n        ]\r\n    }\r\n}",
        "title": "Getting space statistics of top tables"
      }
    ],
    "ModifyDiagDBInstanceConf": [
      {
        "document": "",
        "input": "https://dbbrain.tencentcloudapi.com/?Action=ModifyDiagDBInstanceConf\n&InstanceIds.0=cdb-fyclrp7r\n&InstanceConfs.DailyInspection=Yes\n&Regions=All\n&Product=mysql\n&<Common request parameters>",
        "output": "{\r\n\t\"Response\": {\r\n\t\t\"RequestId\": \"77db16d7-bbe8-48a7-868b-ed776a96f1ab\"\r\n\t}\r\n}",
        "title": "Modifying the inspection configuration of instance"
      }
    ]
  },
  "version": "1.0"
}