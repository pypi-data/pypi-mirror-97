<?xml version="1.0" encoding="UTF-8"?>
<TrnsysModel><object>Cylindrical Storage Tank</object><author>Jeff W. Thornton</author><organization>Thermal Energy System Specialists</organization><editor>Jeff W. Thornton</editor><creationDate>January 2015</creationDate><modifictionDate>January 2015</modifictionDate><mode>1</mode><validation>54</validation><icon>C:\software\trnsystor\tests\input_files\Type158.bmp</icon><type>158</type><maxInstance>9999</maxInstance><keywords><keyword>Storage Tank</keyword><keyword>Tank</keyword></keywords><details>This subroutine models a fluid-filled, constant volume storage tank with a vertical configuration.  The fluid in the storage tank interacts with the environment (through thermal losses from the top, bottom and edges) and with up to two flow streams that pass into and out of the storage tank.  The tank is divided into isothermal temperature nodes (to model stratification observed in storage tanks) where the user controls the degree of stratification through the specification of the number of "nodes".  Each constant-volume node is assumed to be isothermal and interacts thermally with the nodes above and below through several mechanisms: fluid conduction between nodes and through fluid movement (either forced movement  from inlet flow streams or natural destratification mixing due to temperature inversions in the tank).  Auxiliary heat may be provided to the tank through the use of inputs to the model.</details><comment>Cylindrical Storage Tank</comment><variablesComment>Cylindrical Storage Tank</variablesComment><variables><variable><!--parameter-1--><order>1</order><name>Tank volume</name><role>parameter</role><dimension>Volume</dimension><unit>m^3</unit><type>real</type><min>0</min><max>+Inf</max><boundaries>[ ; ]</boundaries><default>0.2725</default><symbol>SN</symbol><definition>The internal (fluid) volume of the tank.</definition></variable><variable><!--parameter-2--><order>2</order><name>Tank height</name><role>parameter</role><dimension>Length</dimension><unit>m</unit><type>real</type><min>0</min><max>+Inf</max><boundaries>[ ; ]</boundaries><default>1.331</default><symbol>SN</symbol><definition>The internal height of the tank.</definition></variable><variable><!--parameter-3--><order>3</order><name>Number of tank nodes</name><role>parameter</role><dimension>Dimensionless</dimension><unit>-</unit><type>integer</type><min>1</min><max>50</max><boundaries>[ ; ]</boundaries><default>10</default><symbol>Nodes</symbol><definition>The number of isothermal tank nodes into which the storage tank will be divided (1=fully mixed tank).</definition></variable><variable><!--derivative-1--><order>4</order><name>Initial tank temperature for node</name><role>derivative</role><dimension>Temperature</dimension><unit>C</unit><type>real</type><min>-Inf</min><max>+Inf</max><boundaries>[ ; ]</boundaries><default>20.</default><symbol>TINIT</symbol><definition>The temperature of the specified node of the storage tank at the beginning of the simulation (node 1 = top).</definition></variable><variable><!--parameter-4--><order>5</order><name>Top loss coefficient</name><role>parameter</role><dimension>Heat Transfer Coeff.</dimension><unit>kJ/hr.m^2.K</unit><type>real</type><min>0</min><max>+Inf</max><boundaries>[ ; ]</boundaries><default>3.325</default><symbol>SN</symbol><definition>The heat loss coefficient for the top of the storage tank.</definition></variable><variable><!--parameter-5--><order>6</order><name>Edge loss coefficient</name><role>parameter</role><dimension>Heat Transfer Coeff.</dimension><unit>kJ/hr.m^2.K</unit><type>real</type><min>0</min><max>+Inf</max><boundaries>[ ; ]</boundaries><default>3.325</default><symbol>SN</symbol><definition>The heat loss coefficient for the vertical edges of the storage tank.</definition></variable><variable><!--parameter-6--><order>7</order><name>Bottom loss coefficient</name><role>parameter</role><dimension>Heat Transfer Coeff.</dimension><unit>kJ/hr.m^2.K</unit><type>real</type><min>0</min><max>+Inf</max><boundaries>[ ; ]</boundaries><default>3.325</default><symbol>SN</symbol><definition>The heat loss coefficient for the bottom of the tank.</definition></variable><variable><!--parameter-7--><order>8</order><name>Fluid specific heat</name><role>parameter</role><dimension>Specific Heat</dimension><unit>kJ/kg.K</unit><type>real</type><min>0</min><max>+Inf</max><boundaries>[ ; ]</boundaries><default>4.182</default><symbol>SN</symbol><definition>The specific heat of the fluid in the tank.</definition></variable><variable><!--parameter-8--><order>9</order><name>Fluid density</name><role>parameter</role><dimension>Density</dimension><unit>kg/m^3</unit><type>real</type><min>0</min><max>+Inf</max><boundaries>[ ; ]</boundaries><default>992.</default><symbol>SN</symbol><definition>The density of the fluid in the tank.</definition></variable><variable><!--parameter-9--><order>10</order><name>Fluid thermal conductivity</name><role>parameter</role><dimension>Thermal Conductivity</dimension><unit>kJ/hr.m.K</unit><type>real</type><min>0</min><max>+Inf</max><boundaries>[ ; ]</boundaries><default>2.224</default><symbol>SN</symbol><definition>The thermal conductivity of the tank fluid.</definition></variable><variable><!--parameter-10--><order>11</order><name>Height fraction of inlet 1</name><role>parameter</role><dimension>Percentage</dimension><unit>Fraction</unit><type>real</type><min>0.</min><max>1.</max><boundaries>[ ; ]</boundaries><default>1.</default><symbol>SN</symbol><definition>The relative height of the first inlet port into the storage tank (height of inlet / tank height).  In this model, the ports are matched such that the outlet of port 1 has the same flow rate as the inlet into port 1.  A value of 0 signifies the bottom of the tank and a value of 1 signifies the top of the tank.</definition></variable><variable><!--parameter-11--><order>12</order><name>Height fraction of outlet 1</name><role>parameter</role><dimension>Percentage</dimension><unit>Fraction</unit><type>real</type><min>0.</min><max>1.</max><boundaries>[ ; ]</boundaries><default>0.</default><symbol>SN</symbol><definition>The relative height of the first outlet port from the storage tank (height of outlet / tank height).  In this model, the ports are matched such that the outlet of port 1 has the same flow rate as the inlet into port 1.  A value of 0 signifies the bottom of the tank and a value of 1 signifies the top of the tank.</definition></variable><variable><!--parameter-12--><order>13</order><name>Height fraction of inlet 2</name><role>parameter</role><dimension>Percentage</dimension><unit>Fraction</unit><type>real</type><min>0.</min><max>1.</max><boundaries>[ ; ]</boundaries><default>0.</default><symbol>SN</symbol><definition>The relative height of the second inlet port into the storage tank (height of inlet / tank height).  In this model, the ports are matched such that the outlet of port 2 has the same flow rate as the inlet into port 2. A value of 0 signifies the bottom of the tank and a value of 1 signifies the top of the tank.</definition></variable><variable><!--parameter-13--><order>14</order><name>Height fraction of outlet 2</name><role>parameter</role><dimension>Percentage</dimension><unit>Fraction</unit><type>real</type><min>0.</min><max>1.</max><boundaries>[ ; ]</boundaries><default>1.</default><symbol>SN</symbol><definition>The relative height of the second outlet port from the storage tank (height of outlet / tank height).  In this model, the ports are matched such that the outlet of port 2 has the same flow rate as the inlet into port 2.  A value of 0 signifies the bottom of the tank and a value of 1 signifies the top of the tank.</definition></variable><variable><!--input-1--><order>15</order><name>Inlet temperature for port 1</name><role>input</role><dimension>Temperature</dimension><unit>C</unit><type>real</type><min>-Inf</min><max>+Inf</max><boundaries>[ ; ]</boundaries><default>20.</default><symbol>TIN1</symbol><definition>The temperature of the fluid entering the storage tank through the first inlet port.</definition></variable><variable><!--input-2--><order>16</order><name>Inlet flow rate for port 1</name><role>input</role><dimension>Flow Rate</dimension><unit>kg/hr</unit><type>real</type><min>0.</min><max>+Inf</max><boundaries>[ ; ]</boundaries><default>0.</default><symbol>MIN1</symbol><definition>The flow rate of the fluid entering the storage tank through the first inlet port.</definition></variable><variable><!--input-3--><order>17</order><name>Inlet temperature for port 2</name><role>input</role><dimension>Temperature</dimension><unit>C</unit><type>real</type><min>-Inf</min><max>+Inf</max><boundaries>[ ; ]</boundaries><default>20.</default><symbol>SN</symbol><definition>The temperature of the fluid entering the storage tank through the second inlet port.</definition></variable><variable><!--input-4--><order>18</order><name>Inlet flow rate for port 2</name><role>input</role><dimension>Flow Rate</dimension><unit>kg/hr</unit><type>real</type><min>0.</min><max>+Inf</max><boundaries>[ ; ]</boundaries><default>0.</default><symbol>SN</symbol><definition>The flow rate of the fluid entering the storage tank through the second inlet port.</definition></variable><variable><!--input-5--><order>19</order><name>Top loss temperature</name><role>input</role><dimension>Temperature</dimension><unit>C</unit><type>real</type><min>-Inf</min><max>+Inf</max><boundaries>[ ; ]</boundaries><default>20.</default><symbol>TTLOSS</symbol><definition>The temperature of the environment for calculating losses from the top of the storage tank.</definition></variable><variable><!--input-6--><order>20</order><name>Edge loss temperature</name><role>input</role><dimension>Temperature</dimension><unit>C</unit><type>real</type><min>-Inf</min><max>+Inf</max><boundaries>[ ; ]</boundaries><default>20.</default><symbol>TELOSS</symbol><definition>The temperature of the environment for calculating losses from the edge of the storage tank.</definition></variable><variable><!--input-7--><order>21</order><name>Bottom loss temperature</name><role>input</role><dimension>Temperature</dimension><unit>C</unit><type>real</type><min>-Inf</min><max>+Inf</max><boundaries>[ ; ]</boundaries><default>20.</default><symbol>TBLOSS</symbol><definition>The temperature of the environment for calculating losses from the bottom of the storage tank.</definition></variable><variable><!--input-8--><order>22</order><name>Auxiliary heat input</name><role>input</role><dimension>Power</dimension><unit>kJ/hr</unit><type>real</type><min>-Inf</min><max>+Inf</max><boundaries>[ ; ]</boundaries><default>0.</default><symbol>QAUX</symbol><definition>The rate at which auxiliary energy is added (or removed) from the storage tank for this location.</definition></variable><variable><!--output-1--><order>23</order><name>Temperature at outlet 1</name><role>output</role><dimension>Temperature</dimension><unit>C</unit><type>real</type><min>-Inf</min><max>+Inf</max><boundaries>[ ; ]</boundaries><default>20.</default><symbol>TOUT1</symbol><definition>The temperature of the fluid exiting the storage tank through the first outlet port.</definition></variable><variable><!--output-2--><order>24</order><name>Flow rate at outlet 1</name><role>output</role><dimension>Flow Rate</dimension><unit>kg/hr</unit><type>real</type><min>0.</min><max>+Inf</max><boundaries>[ ; ]</boundaries><default>0.</default><symbol>MOUT1</symbol><definition>The flow rate of the fluid exiting the storage tank through the first outlet port.</definition></variable><variable><!--output-3--><order>25</order><name>Temperature at outlet 2</name><role>output</role><dimension>Temperature</dimension><unit>C</unit><type>real</type><min>-Inf</min><max>+Inf</max><boundaries>[ ; ]</boundaries><default>20.</default><symbol>SN</symbol><definition>The temperature of the fluid exiting the storage tank through the second outlet port.</definition></variable><variable><!--output-4--><order>26</order><name>Flow rate at outlet 2</name><role>output</role><dimension>Flow Rate</dimension><unit>kg/hr</unit><type>real</type><min>0.</min><max>+Inf</max><boundaries>[ ; ]</boundaries><default>0.</default><symbol>SN</symbol><definition>The flow rate of the fluid exiting the storage tank through the second outlet port.</definition></variable><variable><!--output-5--><order>27</order><name>Average tank temperature</name><role>output</role><dimension>Temperature</dimension><unit>C</unit><type>real</type><min>-Inf</min><max>+Inf</max><boundaries>[ ; ]</boundaries><default>20.</default><symbol>TAVET</symbol><definition>The average temperature of the fluid in the storage tank.</definition></variable><variable><!--output-6--><order>28</order><name>Energy delivered via port 1</name><role>output</role><dimension>Power</dimension><unit>kJ/hr</unit><type>real</type><min>-Inf</min><max>+Inf</max><boundaries>[ ; ]</boundaries><default>0.</default><symbol>SN</symbol><definition>The rate at which energy is removed from the tank through the first outlet port minus the rate at which energy is added to the tank through the first inlet port.</definition></variable><variable><!--output-7--><order>29</order><name>Energy delivered via port 2</name><role>output</role><dimension>Power</dimension><unit>kJ/hr</unit><type>real</type><min>-Inf</min><max>+Inf</max><boundaries>[ ; ]</boundaries><default>0.</default><symbol>SN</symbol><definition>The rate at which energy is removed from the tank through the second outlet port minus the rate at which energy is added to the tank through the second inlet port.</definition></variable><variable><!--output-8--><order>30</order><name>Top losses</name><role>output</role><dimension>Power</dimension><unit>kJ/hr</unit><type>real</type><min>-Inf</min><max>+Inf</max><boundaries>[ ; ]</boundaries><default>0.</default><symbol>QLOSST</symbol><definition>The rate at which energy is lost to the environment through the top surface of the storage tank.</definition></variable><variable><!--output-9--><order>31</order><name>Edge Losses</name><role>output</role><dimension>Power</dimension><unit>kJ/hr</unit><type>real</type><min>-Inf</min><max>+Inf</max><boundaries>[ ; ]</boundaries><default>0.</default><symbol>QLOSSE</symbol><definition>The rate at which energy is lost to the environment through the edges of the storage tank.</definition></variable><variable><!--output-10--><order>32</order><name>Bottom losses</name><role>output</role><dimension>Power</dimension><unit>kJ/hr</unit><type>real</type><min>-Inf</min><max>+Inf</max><boundaries>[ ; ]</boundaries><default>0.</default><symbol>QLOSSB</symbol><definition>The rate at which energy is lost to the environment through the bottom surface of the storage tank.</definition></variable><variable><!--output-11--><order>33</order><name>Auxiliary heating rate</name><role>output</role><dimension>Power</dimension><unit>kJ/hr</unit><type>real</type><min>-Inf</min><max>+Inf</max><boundaries>[ ; ]</boundaries><default>0.</default><symbol>QAUX</symbol><definition>The rate at which auxiliary heat energy is added to the storage tank.</definition></variable><variable><!--output-12--><order>34</order><name>Tank energy storage rate</name><role>output</role><dimension>Power</dimension><unit>kJ/hr</unit><type>real</type><min>-Inf</min><max>+Inf</max><boundaries>[ ; ]</boundaries><default>0.</default><symbol>QSTORET</symbol><definition>The rate at which energy is stored by the fluid in the storage tank due to a rise in temperature of the fluid (capacitance effects).</definition></variable><variable><!--output-13--><order>35</order><name>Tank energy balance error</name><role>output</role><dimension>Percentage</dimension><unit>% (base 100)</unit><type>real</type><min>-Inf</min><max>+Inf</max><boundaries>[ ; ]</boundaries><default>0.</default><symbol>EBTANK</symbol><definition>The percent energy balance error for the heat transfers in the storage tank.</definition></variable><variable><!--output-14--><order>36</order><name>Temperature at thermostat</name><role>output</role><dimension>Temperature</dimension><unit>C</unit><type>real</type><min>-Inf</min><max>+Inf</max><boundaries>[ ; ]</boundaries><default>20.</default><symbol>SN</symbol><definition>The temperature of the tank at the location of the specified thermostat.</definition></variable><variable><!--output-15--><order>37</order><name>Tank nodal temperature</name><role>output</role><dimension>Temperature</dimension><unit>C</unit><type>real</type><min>-Inf</min><max>+Inf</max><boundaries>[ ; ]</boundaries><default>20.</default><symbol>TNODE</symbol><definition>The average temperature of the fluid in the specified node of the storage tank for the current timestep.</definition></variable><variable><!--parameter-14--><order>38</order><name>Number of thermostats</name><role>parameter</role><dimension>Dimensionless</dimension><unit>-</unit><type>integer</type><min>0</min><max>5</max><boundaries>[ ; ]</boundaries><default>1</default><symbol>SN</symbol><definition>The number of thermostats in the storage tank.  For each thermostat desired, the user will have to specify the normalized height of the thermostat location (a parameter).  The temperature at each thermostat location is provided as an output from the model.</definition></variable><variable><!--parameter-15--><order>39</order><name>Height fraction of thermostat</name><role>parameter</role><dimension>Percentage</dimension><unit>Fraction</unit><type>real</type><min>0.</min><max>1.</max><boundaries>[ ; ]</boundaries><default>0.75</default><symbol>SN</symbol><definition>The relative height of the thermostat location in the storage tank (height of thermostat / tank height).  A value of 0 signifies the bottom of the tank and a value of 1 signifies the top of the tank.</definition></variable><variable><!--parameter-16--><order>40</order><name>Number of auxiliary heat inputs</name><role>parameter</role><dimension>Dimensionless</dimension><unit>-</unit><type>integer</type><min>0</min><max>5</max><boundaries>[ ; ]</boundaries><default>1</default><symbol>SN</symbol><definition>The number of auxiliary heat inputs into the storage tank.  For each auxiliary heat input specified, the user must specify the location of the auxiliary heat input (a parameter) and the rate at which auxiliary heat is added to the location (an input).</definition></variable><variable><!--parameter-17--><order>41</order><name>Height fraction of auxiliary input</name><role>parameter</role><dimension>Percentage</dimension><unit>Fraction</unit><type>real</type><min>0.</min><max>1.</max><boundaries>[ ; ]</boundaries><default>0.25</default><symbol>SN</symbol><definition>The relative height of the auxiliary heat input into the storage tank (height of input / tank height).  A value of 0 signifies the bottom of the tank and a value of 1 signifies the top of the tank.</definition></variable></variables><cycles><cycle><role>input</role><firstRow>1</firstRow><lastRow>8</lastRow><cycles><cycle><role>input</role><firstRow>8</firstRow><lastRow>8</lastRow><paramName>Number of auxiliary heat inputs</paramName><cycles/><minSize>1</minSize><maxSize>100</maxSize></cycle></cycles><minSize>1</minSize><maxSize>50</maxSize></cycle><cycle><role>output</role><firstRow>1</firstRow><lastRow>15</lastRow><cycles><cycle><role>output</role><firstRow>14</firstRow><lastRow>14</lastRow><paramName>Number of thermostats</paramName><cycles/><minSize>1</minSize><maxSize>100</maxSize></cycle><cycle><role>output</role><firstRow>15</firstRow><lastRow>15</lastRow><paramName>Number of tank nodes</paramName><cycles/><minSize>1</minSize><maxSize>100</maxSize></cycle></cycles><minSize>1</minSize><maxSize>50</maxSize></cycle><cycle><role>parameter</role><firstRow>1</firstRow><lastRow>17</lastRow><cycles><cycle><role>parameter</role><firstRow>15</firstRow><lastRow>15</lastRow><paramName>Number of thermostats</paramName><cycles/><minSize>1</minSize><maxSize>100</maxSize></cycle><cycle><role>parameter</role><firstRow>17</firstRow><lastRow>17</lastRow><paramName>Number of auxiliary heat inputs</paramName><cycles/><minSize>1</minSize><maxSize>100</maxSize></cycle></cycles><minSize>1</minSize><maxSize>50</maxSize></cycle><cycle><role>derivative</role><firstRow>1</firstRow><lastRow>1</lastRow><cycles><cycle><role>derivative</role><firstRow>1</firstRow><lastRow>1</lastRow><paramName>Number of tank nodes</paramName><cycles/><minSize>1</minSize><maxSize>100</maxSize></cycle></cycles><minSize>1</minSize><maxSize>50</maxSize></cycle></cycles><source>.\SourceCode\Types\Type158.f90</source></TrnsysModel>
